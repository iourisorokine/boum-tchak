{"version":3,"sources":["ui-kit/elements.js","ui-kit/buttons.js","ui-kit/layout.js","ui-kit/typography.js","ui-kit/musicGrid.js","components/CreateSong/Note.jsx","components/CreateSong/CreateLine.jsx","components/Shared/PageSquares.jsx","components/CreateSong/PlayControls.jsx","components/CreateSong/AdvControls.jsx","components/CreateSong/AddInstrument.jsx","components/CreateSong/SaveSong.jsx","components/utils/instruments.js","components/utils/playMechanics.js","components/utils/categories.js","components/CreateSong/CreateSong.jsx","components/DisplaySong/Note.jsx","components/DisplaySong/DisplayLine.jsx","components/DisplaySong/DisplaySong.jsx","components/InfoPages/AppIntro.jsx","components/DisplaySong/SongsList.jsx","components/LoadSong/LoadSong.jsx","components/Auth/utils.js","components/Auth/Login.jsx","components/Auth/Signup.jsx","components/Auth/Profile.jsx","components/Auth/ProtectedRoute.jsx","components/CreateInstrument/Characteristics.jsx","components/CreateInstrument/InstrumentSoundsList.jsx","components/CreateInstrument/AvailableSoundsList.jsx","components/CreateInstrument/CreateSound.jsx","components/CreateInstrument/AddSound.jsx","components/CreateInstrument/CreateInstrument.jsx","components/InfoPages/About.jsx","components/Header/Header.jsx","App.jsx","serviceWorker.js","index.js"],"names":["ControlsPad","styled","div","Tempo","span","ExpandedMenuItem","SongPostPlay","SongPost","Input","input","props","width","Label","form","label","Select","select","Option","option","ProfilePic","img","src","ColorSquare","backgroundColor","SelectableText","p","selected","Button","button","PlayButton","StopButton","MenuButton","InstrumentBtn","DeleteButton","Row","AppIntroLayout","Column","flexDirection","alignItems","justifyContent","flex","HeaderLayout","BackHeader","MainScreen","Wrapper","maxWidth","PageLayout","BlankSpace","height","Heading2","h2","Heading3","h3","SongHeader","SongTitle","b","LineLabel","HeaderTitle","h1","Alert","MusicGrid","Line","notesPlayingAnimation","keyframes","StyledNote","color","highlighted","clickable","animated","PageSquare","Note","notePosition","status","colors","toggleActiveNote","linePosition","sounds","onClick","CreateLine","notes","noteColors","highlightedNote","isDeleteLineVisible","animatedNotes","deleteLine","currentPage","lenghtOfPage","firstIndex","lastIndex","displayNotes","map","n","i","key","includes","PageSquares","selectPage","pages","length","el","PlayControls","onPlayBtnPress","onStopBtnPress","isPlaying","addOneBar","removeOneBar","isNotePlayedOnClick","setIsNotePlayedOnClick","tempo","setTempo","setTimeoutTempo","numberOfBars","AdvControls","toggleIsAddInstrumentVisible","toggleIsSaveSongVisible","toggleIsDeleteLineVisible","user","to","AddInstrument","addInstrument","useState","newInstruments","setNewInstruments","loading","setLoading","useEffect","a","axios","get","data","fetchInstrumentsData","fill","stroke","instrument","name","SaveSong","saveTheSong","title","setTitle","Fragment","style","margin","type","placeholder","value","onChange","e","target","preparePartition","instruments","partition","forEach","emptyLine","push","prepareInstruments","line","lineSounds","lineColors","url","Audio","id","_id","prepareOneInstrument","playBeat","lines","beatNumber","partitionLine","soundIndex","pause","currentTime","play","SOUND_CATEGORIES","SUB_CATEGORIES","default","Drums","Bass","Synth","Guitar","Piano","Brass","Strings","Flute","Effects","Voice","Other","getSubCategories","category","getCategories","CreateSong","state","musicPlaying","musicLines","timeoutTempo","isAddInstrumentVisible","isSaveSongVisible","bottomMessage","instr","newPartitionRow","newPartition","newMusicLines","preparedNewInstrument","setState","col","row","updatedPartition","depth","newIndex","playMusic","counter","setInterval","nextPage","stopPlaying","clearInterval","songInstruments","songData","creator","creatorName","username","posted","post","setTimeout","pagesUpdate","Math","ceil","concat","last","splice","slice","lineNumber","updatedInstruments","pageNumber","this","prepareNewMusic","prepareLoadedSong","songId","match","params","loadedSong","minHeight","display","React","Component","isAnimated","DisplayLine","lengthOfPage","iconsStyle","padding","border","borderRadius","zIndex","DisplaySong","onSongClick","updatedPages","numberOfPages","icon","faStop","faPlay","AppIntro","SongsList","songs","setSongs","setCurrentPage","message","setMessage","loadSongs","page","loadedSongs","song","preparedInstruments","LoadSong","songsList","setSongsList","selectedSong","setSelectedSong","fetchData","deleteSong","delete","response","paddingTop","signup","password","then","catch","err","login","Login","setUsername","setPassword","handleLogin","setUser","history","handleChange","htmlFor","textDecoration","Signup","handleSignup","Profile","onLogoutBtnClick","admin","ProtectedRoute","component","rest","render","Characteristics","setName","setCategory","subCategory","setSubCategory","instrumentCategories","cat","subCat","InstrumentSoundsList","addSound","AvailableSoundsList","availableSounds","selectedSound","selectSound","filterName","setFilterName","filterCategory","setFilterCategory","filterSubCategory","setFilterSubCategory","filteredSounds","filter","sound","toLocaleLowerCase","volumeBtnStyle","borderColor","borderWidth","borderStyle","cursor","soundCategories","faVolumeUp","CreateSound","setView","soundName","setSoundName","soundCategory","setSoundCategory","soundSubCategory","setSoundSubCategory","soundPitch","setSoundPitch","soundFile","setSoundFile","uploadSound","displayMessage","uploadData","FormData","append","uploadedSound","pitch","secure_url","createdSound","mes","multiple","event","selectedFile","files","views","AddSound","switchToOverview","soundColor","setSoundColor","view","onChangeComplete","hex","CreateInstrument","setSounds","setAvailableSounds","setSelectedSound","openAddSoundSection","resetInstrument","saveInstrument","private","createdInstrument","newSound","updatedSounds","About","linkStyle","textLinkStyle","Header","paddingRight","App","exact","path","intro","Boolean","window","location","hostname","authResponse","ReactDOM","document","getElementById","renderApp","navigator","serviceWorker","ready","registration","unregister","error","console"],"mappings":"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","file":"static/js/main.363ff629.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const ControlsPad = styled.div`\n  padding: 10px;\n`;\n\nexport const Tempo = styled.span`\n  font-size: 16px;\n`;\n\nexport const ExpandedMenuItem = styled.div`\n  margin: auto;\n  min-width: 300px;\n  max-width: 700px;\n  position: absolute;\n  z-index: 10;\n  top: 150px;\n  box-shadow: 3px 3px 5px #bbb;\n  background-color: white;\n  border: solid 1px black;\n  border-radius: 3px;\n  padding: 10px;\n`;\n\nexport const SongPostPlay = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  margin-top: -8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  visibility: hidden;\n`;\n\nexport const SongPost = styled.div`\n  position: relative;\n  margin: 30px 10px;\n  border: solid 1px black;\n  border-radius: 10px;\n  padding-top: 10px;\n  width: 80%;\n  &:hover ${SongPostPlay} {\n    visibility: visible;\n  }\n`;\n\nexport const Input = styled.input`\n  height: 20px;\n  width: ${(props) => props.width || \"100px\"};\n  margin: 10px;\n`;\n\nexport const Form = styled.form`\n  border: solid black 1px;\n  width: ${(props) => (props.width ? `${props.width}px` : \"100%\")};\n`;\n\nexport const Label = styled.label`\n  margin: 0px 5px;\n`;\n\nexport const Select = styled.select`\n  margin: 8px;\n  height: 26px;\n  width: ${(props) => props.width || \"110px\"};\n`;\n\nexport const Option = styled.option`\n  font-size: 12px;\n`;\n\nexport const ProfilePic = styled.img`\n  src: ${(props) => props.src}\n  height: 260px;\n  width: 260px;\n  object-fit: cover;\n  padding: 10px;\n`;\n\nexport const ColorSquare = styled.div`\n  height: 24px;\n  width: 24px;\n  margin: 4px;\n  border: solid black 1px;\n  background-color: ${(props) => props.backgroundColor || \"white\"};\n`;\n\nexport const SelectableText = styled.p`\n  padding: 3px;\n  margin: 0;\n  cursor: pointer;\n  color: ${(props) => (props.selected ? \"white\" : \"black\")};\n  background-color: ${(props) => (props.selected ? \"black\" : \"white\")};\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Button = styled.button`\n  height: 36px;\n  min-width: 36px;\n  margin: 8px;\n  padding: 0px 10px;\n  border-radius: 18px;\n  border: solid 1px black;\n  background-color: ${(props) => props.backgroundColor || \"white\"};\n  font-size: 16px;\n  box-shadow: 3px 3px 5px #bbb;\n  cursor: pointer;\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n`;\n\nexport const PlayButton = styled(Button)`\n  width: 60px;\n  background-color: #0f0;\n  color: #fff;\n  font-size: 20px;\n  font-weight: bold;\n`;\n\nexport const StopButton = styled(Button)`\n  width: 60px;\n  background-color: #f00;\n  color: #fff;\n  font-size: 20px;\n  font-weight: bold;\n`;\n\nexport const MenuButton = styled.div`\n  margin: 8px;\n  border: solid 2px black;\n  border-radius: 5px;\n  padding: 6px 12px;\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n`;\n\nexport const InstrumentBtn = styled.button`\n  height: 30px;\n  min-width: 40px;\n  margin: 8px;\n  padding: 0px 10px;\n  border-radius: 15px;\n  border: solid 1px black;\n  background-color: #fff;\n  font-size: 16px;\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n`;\n\nexport const DeleteButton = styled.p`\n  line-height: 10px;\n  padding: 3px;\n  margin: 5px;\n  font-size: 25px;\n  color: red;\n  font-weight: bold;\n  cursor: pointer;\n  &:hover {\n    background-color: red;\n    color: white;\n  }\n`;\n\nconst IconButton = styled.button`\n  color: black;\n  backgroundcolor: white;\n  padding: 6px;\n  bordercolor: black;\n  border: 1px solid black;\n  border-radius: 50%;\n  cursor: pointer;\n`;\n","import styled from \"styled-components\";\n\nexport const Row = styled.div`\n  display: flex;\n  width: 100%;\n`;\n\nexport const AppIntroLayout = styled.div`\n  height: 50vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const Column = styled.div`\n  display: flex;\n  flex-direction: ${(props) => props.flexDirection || \"column\"};\n  justify-content: center;\n  min-height: 20px;\n  align-items: ${(props) => props.alignItems || \"flex-start\"};\n  justify-content: ${(props) => props.justifyContent || \"center\"};\n  flex: ${(props) => props.flex || 1};\n`;\n\nexport const HeaderLayout = styled.div`\n  height: 90px;\n  width: 100vw;\n  z-index: 10;\n  background-color: white;\n  display: flex;\n  position: fixed;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 4px 4px 5px #eee;\n`;\n\nexport const BackHeader = styled.div`\n  height: 110px;\n`;\n\nexport const MainScreen = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-direction: ${(props) => props.flexDirection || \"column\"};\n  align-items: ${(props) => props.alignItems || \"center\"};\n  justify-content: ${(props) => props.justifyContent || \"flex-start\"};\n  width: 100vw;\n  max-width: ${(props) => props.maxWidth || \"900px\"};\n`;\n\nexport const PageLayout = styled.div`\n  width: 90%;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flexStart;\n`;\n\nexport const BlankSpace = styled.div`\n  height: ${(props) => props.height || \"20px\"};\n`;\n","import styled from \"styled-components\";\n\nexport const Heading2 = styled.h2`\n  padding: 10px 0;\n  margin: 0 0 10px 0;\n`;\n\nexport const Heading3 = styled.h3`\n  padding: 10px 0;\n  margin: 0 0 4px 0;\n`;\n\nexport const SongHeader = styled.div`\n  margin-top: -32px;\n  padding: 0px 12px;\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const SongTitle = styled.p`\n  padding: 0px 10px;\n  background-color: white;\n  font-weight: ${(props) => (props.b ? \"bold\" : \"regular\")};\n  font-size: 12px;\n`;\n\nexport const LineLabel = styled.p`\n  font-size: 10px;\n  line-height: 10px;\n  width: 60px;\n`;\n\nexport const HeaderTitle = styled.h1`\n  padding: 0px 50px;\n  font-size: 56px;\n  text-shadow: 4px 4px #7799dd;\n`;\n\nexport const Alert = styled.p`\n  color: red;\n`;\n","import styled, { keyframes } from \"styled-components\";\n\nexport const MusicGrid = styled.div`\n  margin: 10px 20px;\n  padding-bottom: 10px;\n`;\n\nexport const Line = styled.div`\n  margin: 0;\n  display: flex;\n`;\n\nconst notesPlayingAnimation = keyframes`\n 0% { \n   height: 30px; \n   width: 30px;\n   margin: 3px; \n  }\n  20% { \n   height: 24px; \n   width: 24px;\n   margin: 6px; \n    }\n 30% { \n   height: 32px; \n    width: 32px;  \n    margin: 2px;\n}\n 100% { \n   height: 30px; \n   width: 30px;\n   margin: 3px; \n }\n`;\n\nexport const StyledNote = styled.div`\n  height: 30px;\n  width: 30px;\n  margin: 3px;\n  box-shadow: 3px 3px 5px ${(props) => props.color};\n  background-color: ${(props) => props.color};\n  opacity: ${(props) => (props.highlighted ? 0.7 : 1)};\n  cursor: pointer;\n  &:hover {\n    height: ${(props) => (props.clickable ? \"24px\" : \"30px\")};\n    width: ${(props) => (props.clickable ? \"24px\" : \"30px\")};\n    margin: ${(props) => (props.clickable ? \"6px\" : \"3px\")};\n  }\n  animation-name: ${(props) => props.animated && notesPlayingAnimation};\n  animation-duration: 0.8s;\n  animation-iteration-count: 1;\n`;\n\nexport const PageSquare = styled.div`\n  height: 8px;\n  width: 8px;\n  margin: 4px;\n  border: 2px solid black;\n  background-color: ${(props) => (props.selected ? \"black\" : \"white\")};\n  cursor: pointer;\n`;\n","import React from \"react\";\nimport { StyledNote } from \"../../ui-kit\";\n\nexport const Note = ({\n  notePosition,\n  status,\n  colors,\n  toggleActiveNote,\n  linePosition,\n  sounds,\n  highlighted,\n  animated,\n}) => {\n  const onNoteClick = () => {\n    toggleActiveNote(notePosition, linePosition, sounds);\n  };\n\n  const color = colors[status];\n\n  return (\n    <StyledNote\n      color={color}\n      highlighted={highlighted}\n      onClick={onNoteClick}\n      clickable={true}\n      animated={animated}\n    />\n  );\n};\n","import React from \"react\";\nimport { Note } from \"./Note\";\nimport { Line, LineLabel, DeleteButton } from \"../../ui-kit\";\n\nexport const CreateLine = ({\n  linePosition,\n  notes,\n  noteColors,\n  toggleActiveNote,\n  sounds,\n  highlightedNote,\n  label,\n  isDeleteLineVisible,\n  animatedNotes,\n  deleteLine,\n  currentPage,\n  lenghtOfPage,\n}) => {\n  const firstIndex = (currentPage - 1) * lenghtOfPage;\n  const lastIndex = currentPage * lenghtOfPage;\n\n  const displayNotes = notes.map((n, i) => {\n    if (i >= firstIndex && i < lastIndex) {\n      return (\n        <Note\n          key={i}\n          status={n}\n          notePosition={i}\n          colors={noteColors}\n          toggleActiveNote={toggleActiveNote}\n          linePosition={linePosition}\n          sounds={sounds}\n          highlighted={highlightedNote === i}\n          animated={animatedNotes.includes(i)}\n        />\n      );\n    }\n  });\n\n  return (\n    <Line>\n      <LineLabel>{label && label}</LineLabel>\n      {isDeleteLineVisible && (\n        <DeleteButton onClick={() => deleteLine(linePosition)}>x</DeleteButton>\n      )}\n      {displayNotes}\n    </Line>\n  );\n};\n","import React from \"react\";\nimport { Row, Column, PageSquare } from \"../../ui-kit\";\n\nexport const PageSquares = ({\n  currentPage,\n  selectPage,\n  pages,\n  clickable = true,\n}) => {\n  if (pages.length < 2) {\n    return null;\n  }\n\n  return (\n    <Row>\n      <Column flex={2}></Column>\n      <Column>\n        <Row>\n          {pages.map((el, i) => {\n            return (\n              <PageSquare\n                selected={currentPage === i + 1}\n                onClick={clickable ? () => selectPage(i + 1) : null}\n              />\n            );\n          })}\n        </Row>\n      </Column>\n    </Row>\n  );\n};\n","import React from \"react\";\nimport {\n  Button,\n  PlayButton,\n  StopButton,\n  ControlsPad,\n  Tempo,\n} from \"../../ui-kit\";\n\nexport const PlayControls = ({\n  onPlayBtnPress,\n  onStopBtnPress,\n  isPlaying,\n  addOneBar,\n  removeOneBar,\n  isNotePlayedOnClick,\n  setIsNotePlayedOnClick,\n  tempo,\n  setTempo,\n  setTimeoutTempo,\n  numberOfBars,\n}) => {\n  const togglePlayOnClick = () => {\n    setIsNotePlayedOnClick(!isNotePlayedOnClick);\n  };\n\n  const onPlusTempoPress = () => {\n    setTempo(tempo + 5);\n    const calcTimeout = 60000 / tempo / 4;\n    setTimeoutTempo(calcTimeout);\n  };\n\n  const onMinusTempoPress = () => {\n    setTempo(tempo - 5);\n    const calcTimeout = 60000 / tempo / 4;\n    setTimeoutTempo(calcTimeout);\n  };\n\n  return (\n    <ControlsPad>\n      {isPlaying ? (\n        <StopButton onClick={onStopBtnPress}>[]</StopButton>\n      ) : (\n        <PlayButton onClick={onPlayBtnPress}>></PlayButton>\n      )}\n      <Button onClick={togglePlayOnClick}>\n        Play on click: {isNotePlayedOnClick ? \"yes\" : \"no\"}\n      </Button>\n      <Button onClick={removeOneBar}>-</Button>\n      <Tempo>Bars: {numberOfBars}</Tempo>\n      <Button onClick={addOneBar}>+</Button>\n      <Button onClick={onMinusTempoPress}>-</Button>\n      <Tempo>Tempo: {tempo}</Tempo>\n      <Button onClick={onPlusTempoPress}>+</Button>\n    </ControlsPad>\n  );\n};\n","import React from \"react\";\nimport { Button, ControlsPad } from \"../../ui-kit\";\nimport { Link } from \"react-router-dom\";\n\nexport const AdvControls = ({\n  toggleIsAddInstrumentVisible,\n  toggleIsSaveSongVisible,\n  toggleIsDeleteLineVisible,\n  user,\n}) => {\n  return (\n    <ControlsPad>\n      <Button onClick={toggleIsSaveSongVisible}>Save Song</Button>\n      {user && (\n        <Link to=\"/load-song\">\n          <Button>Load Song</Button>\n        </Link>\n      )}\n      <Button onClick={toggleIsAddInstrumentVisible}>Add Line</Button>\n      <Button onClick={toggleIsDeleteLineVisible}>Remove Line</Button>\n    </ControlsPad>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Bars } from \"svg-loaders-react\";\nimport { InstrumentBtn, ExpandedMenuItem } from \"../../ui-kit\";\nimport axios from \"axios\";\n\nexport const AddInstrument = ({\n  addInstrument,\n  toggleIsAddInstrumentVisible,\n}) => {\n  const [newInstruments, setNewInstruments] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n    const fetchInstrumentsData = async () => {\n      const { data } = await axios.get(\"/api/instrument\");\n      setNewInstruments(data);\n      setLoading(false);\n    };\n    fetchInstrumentsData();\n  }, []);\n\n  const handleClick = (inst) => {\n    addInstrument(inst);\n    toggleIsAddInstrumentVisible();\n  };\n\n  return (\n    <ExpandedMenuItem>\n      {loading && <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />}\n      {newInstruments.map((instrument) => {\n        return (\n          <InstrumentBtn\n            key={instrument.name}\n            onClick={() => handleClick(instrument)}>\n            {instrument.name}\n          </InstrumentBtn>\n        );\n      })}\n    </ExpandedMenuItem>\n  );\n};\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ExpandedMenuItem, Button, Input } from \"../../ui-kit\";\n\nexport const SaveSong = ({ saveTheSong, user, toggleIsSaveSongVisible }) => {\n  const [title, setTitle] = useState(\"\");\n\n  const handleChange = (e) => {\n    setTitle(e.target.value);\n  };\n  return (\n    <ExpandedMenuItem>\n      {user ? (\n        <React.Fragment>\n          <p style={{ margin: 10 }}>\n            Name your song (if you modified an existing song, <br />\n            it will still be saved under as new one):\n          </p>\n          <Input\n            type=\"text\"\n            placeholder=\"Padapoum\"\n            value={title}\n            onChange={handleChange}\n          />\n          <div>\n            <Button onClick={() => saveTheSong(title)}>Save</Button>\n            <Button onClick={() => toggleIsSaveSongVisible()}>Cancel</Button>\n          </div>\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          <p style={{ margin: 10 }}>\n            To save a song, you need to have a profile, but let's do it! <br />\n            Please login or signup:\n          </p>\n\n          <div>\n            <Link to=\"/signup\">\n              <Button>Signup</Button>\n            </Link>\n            <Link to=\"/login\">\n              <Button>Login</Button>\n            </Link>\n          </div>\n        </React.Fragment>\n      )}\n    </ExpandedMenuItem>\n  );\n};\n","export const preparePartition = (instruments, length) => {\n  const partition = [];\n  instruments.forEach((el) => {\n    const emptyLine = [];\n    for (let i = 1; i <= length; i++) {\n      emptyLine.push(0);\n    }\n    partition.push(emptyLine);\n  });\n  return partition;\n};\n\nexport const prepareInstruments = (instruments) => {\n  const preparedInstruments = instruments.map((line) => {\n    const lineSounds = [];\n    const lineColors = [];\n    line.sounds.forEach((el) => {\n      if (el.url) {\n        lineSounds.push(new Audio(el.url));\n      } else {\n        lineSounds.push(null);\n      }\n      lineColors.push(el.color);\n    });\n    return {\n      id: line._id,\n      label: line.name,\n      colors: lineColors,\n      sounds: lineSounds,\n    };\n  });\n  return preparedInstruments;\n};\n\nexport const prepareOneInstrument = (instrument) => {\n  const lineSounds = [];\n  const lineColors = [];\n  instrument.sounds.forEach((el) => {\n    if (el.url) {\n      lineSounds.push(new Audio(el.url));\n    } else {\n      lineSounds.push(null);\n    }\n    lineColors.push(el.color);\n  });\n  return {\n    id: instrument._id,\n    label: instrument.name,\n    colors: lineColors,\n    sounds: lineSounds,\n  };\n};\n","/* Plays one beat of the music, \neach note of the beat being the note on each line corresponding \nto the selected index */\nexport const playBeat = (lines, partition, beatNumber) => {\n  partition.forEach((partitionLine, i) => {\n    if (partitionLine[beatNumber]) {\n      const soundIndex = partitionLine[beatNumber];\n      lines[i].sounds.forEach((el) => {\n        if (el) {\n          el.pause();\n          el.currentTime = 0;\n        }\n      });\n      lines[i].sounds[soundIndex].play();\n    }\n  });\n};\n","const SOUND_CATEGORIES = [\n  \"default\",\n  \"Drums\",\n  \"Bass\",\n  \"Synth\",\n  \"Guitar\",\n  \"Piano\",\n  \"Brass\",\n  \"Strings\",\n  \"Flute\",\n  \"Effects\",\n  \"Voice\",\n  \"Other\",\n];\n\nconst SUB_CATEGORIES = {\n  \"\": [\"\"],\n  default: [\"\"],\n  Drums: [\n    \"\",\n    \"Kick\",\n    \"Snare\",\n    \"Tom\",\n    \"Hi-hat\",\n    \"Cymbal\",\n    \"Vinnyl\",\n    \"Percussion\",\n    \"Clang\",\n    \"Other\",\n  ],\n  Bass: [\"\", \"Acoustic\", \"Fretless\", \"Electric\", \"Picked\", \"Synth\", \"Slap\"],\n  Synth: [\"\", \"Piano\", \"Ambiant\", \"Lead\", \"Pad\", \"Effect\", \"Electronic\"],\n  Guitar: [\n    \"\",\n    \"Acoustic\",\n    \"Clean\",\n    \"Overdrive\",\n    \"Distorsion\",\n    \"Muted\",\n    \"Jazz\",\n    \"Fuzz\",\n    \"Wah\",\n    \"Funk\",\n  ],\n  Piano: [\"\", \"Grand\", \"Acoustic\", \"Clavesin\"],\n  Brass: [\"\", \"Horn\", \"Trumpet\", \"Tuba\", \"Trombone\"],\n  Strings: [\"\", \"Violin\", \"Cello\", \"Double Bass\", \"Harp\", \"Mixed-strings\"],\n  Flute: [\"\", \"Flute\", \"Clarinet\", \"Pipeau\", \"Peruvian\", \"Bass\", \"Recorder\"],\n  Effects: [\"\", \"Scratch\", \"Noise\", \"Clang\", \"Electronic\", \"Mystic\"],\n  Voice: [\"\", \"Hi-sing\", \"Mid-sing\", \"Low-sing\", \"Talk\", \"Noize\"],\n  Other: [\"\"],\n};\n\nexport const getSubCategories = (category) => {\n  return SUB_CATEGORIES[category];\n};\n\nexport const getCategories = () => {\n  return SOUND_CATEGORIES;\n};\n","import React from \"react\";\nimport { CreateLine } from \"./CreateLine\";\nimport { MusicGrid, ExpandedMenuItem } from \"../../ui-kit\";\nimport { PageSquares } from \"../Shared/PageSquares\";\nimport { PlayControls } from \"./PlayControls\";\nimport { AdvControls } from \"./AdvControls\";\nimport { AddInstrument } from \"./AddInstrument\";\nimport { SaveSong } from \"./SaveSong\";\nimport {\n  playBeat,\n  preparePartition,\n  prepareInstruments,\n  prepareOneInstrument,\n} from \"../utils\";\nimport axios from \"axios\";\n\nconst START_PARTITION_LENGTH = 8;\nconst MAX_PARTITION_LENGTH = 64;\nconst DEFAULT_TEMPO = 120;\nconst DEFAULT_TIMEOUT = 60000 / 120 / 4;\nconst LENGTH_OF_PAGE = 16;\n\nexport class CreateSong extends React.Component {\n  state = {\n    partition: [],\n    isPlaying: false,\n    musicPlaying: null,\n    highlightedNote: [-1],\n    animatedNotes: [],\n    musicLines: [],\n    tempo: DEFAULT_TEMPO,\n    timeoutTempo: DEFAULT_TIMEOUT,\n    isNotePlayedOnClick: true,\n    isAddInstrumentVisible: false,\n    isSaveSongVisible: false,\n    bottomMessage: \"\",\n    isDeleteLineVisible: false,\n    currentPage: 1,\n    pages: [1],\n  };\n\n  componentWillUnmount() {\n    this.stopPlaying();\n  }\n\n  componentDidMount() {\n    const prepareNewMusic = async () => {\n      const { data } = await axios.get(\"/api/instrument/starter\");\n      const musicLines = prepareInstruments(data);\n      const newPartition = preparePartition(musicLines, START_PARTITION_LENGTH);\n      this.setState({ musicLines, partition: newPartition });\n    };\n\n    const prepareLoadedSong = async () => {\n      const songId = this.props.match.params.id;\n      const { data: loadedSong } = await axios.get(`/api/song/${songId}`);\n      const newInstruments = [...loadedSong.instruments];\n      const musicLines = prepareInstruments(newInstruments);\n      this.setState({\n        musicLines,\n        partition: loadedSong.partition,\n        tempo: loadedSong.tempo,\n        timeoutTempo: 60000 / loadedSong.tempo / 4,\n      });\n    };\n\n    if (\n      this.props &&\n      this.props.match &&\n      this.props.match.params &&\n      this.props.match.params.id\n    ) {\n      prepareLoadedSong();\n    } else {\n      prepareNewMusic();\n    }\n  }\n\n  addInstrument = (instr) => {\n    const length = this.state.partition[0] ? this.state.partition[0].length : 8;\n    const newPartitionRow = [];\n    for (let i = 1; i <= length; i++) {\n      newPartitionRow.push(0);\n    }\n    const newPartition = [...this.state.partition];\n    const newMusicLines = [...this.state.musicLines];\n    const preparedNewInstrument = prepareOneInstrument(instr);\n    newMusicLines.push(preparedNewInstrument);\n    newPartition.push(newPartitionRow);\n    this.setState({\n      musicLines: newMusicLines,\n      partition: newPartition,\n    });\n  };\n\n  toggleActiveNote = (col, row, sounds) => {\n    const updatedPartition = [...this.state.partition];\n    const depth = sounds.length;\n    const newIndex = (updatedPartition[row][col] + 1) % depth;\n    updatedPartition[row][col] = newIndex;\n    if (sounds[newIndex] && this.state.isNotePlayedOnClick) {\n      sounds[newIndex].play();\n    }\n    this.setState({ partition: updatedPartition });\n  };\n\n  playMusic = (musicLines, partition, tempo) => {\n    this.setState({ isPlaying: true, currentPage: 1 });\n    let counter = 0;\n    this.setState({\n      musicPlaying: setInterval(() => {\n        this.setState({\n          highlightedNote: counter,\n          animatedNotes: [counter - 1, counter, counter + 1],\n        });\n        playBeat(musicLines, partition, counter);\n        counter++;\n        if (counter >= partition[0].length) {\n          counter = 0;\n        }\n        if (\n          counter > this.state.currentPage * LENGTH_OF_PAGE ||\n          counter === 0\n        ) {\n          this.nextPage();\n        }\n      }, tempo),\n    });\n  };\n\n  stopPlaying = () => {\n    this.setState({ isPlaying: false });\n    clearInterval(this.state.musicPlaying);\n  };\n\n  onStopBtnPress = () => {\n    this.stopPlaying();\n  };\n\n  onPlayBtnPress = () => {\n    this.playMusic(\n      this.state.musicLines,\n      this.state.partition,\n      this.state.timeoutTempo\n    );\n  };\n\n  saveTheSong = async (title) => {\n    const songInstruments = this.state.musicLines.map((el) => {\n      return el.id;\n    });\n    const songData = {\n      title,\n      partition: this.state.partition,\n      tempo: this.state.tempo,\n      instruments: songInstruments,\n      creator: this.props.user._id || \"anonymous\",\n      creatorName: this.props.user.username || \"anonymous\",\n      posted: true,\n    };\n    await axios.post(\"api/song/\", songData);\n    this.setState({\n      isSaveSongVisible: false,\n      bottomMessage: `New song \"${title}\" successfully saved!`,\n    });\n    setTimeout(() => {\n      this.setState({ bottomMessage: \"\" });\n    }, 1500);\n  };\n\n  addOneBar = () => {\n    if (\n      this.state.partition.length &&\n      this.state.partition[0].length < MAX_PARTITION_LENGTH\n    ) {\n      const updatedPartition = [...this.state.partition];\n      updatedPartition.forEach((el) => {\n        el.push(0);\n      });\n      const p = this.state.pages.length;\n      const pagesCalc = Math.ceil(updatedPartition[0].length / LENGTH_OF_PAGE);\n      const pagesUpdate =\n        p < pagesCalc ? this.state.pages.concat([1]) : this.state.pages;\n      this.setState({ partition: updatedPartition, pages: pagesUpdate });\n    }\n  };\n\n  removeOneBar = () => {\n    const updatedPartition = [...this.state.partition];\n    const last = updatedPartition[0].length - 1;\n    updatedPartition.forEach((el) => {\n      el.splice(last, 1);\n    });\n    const p = this.state.pages.length;\n    const pagesCalc = Math.ceil(updatedPartition[0].length / LENGTH_OF_PAGE);\n    const pagesUpdate =\n      p > pagesCalc ? this.state.pages.slice(0, p - 1) : this.state.pages;\n    this.setState({ partition: updatedPartition, pages: pagesUpdate });\n  };\n\n  deleteLine = (lineNumber) => {\n    const updatedPartition = [...this.state.partition];\n    const updatedInstruments = [...this.state.musicLines];\n    updatedPartition.splice(lineNumber, 1);\n    updatedInstruments.splice(lineNumber, 1);\n    this.setState({\n      partition: updatedPartition,\n      musicLines: updatedInstruments,\n    });\n    this.toggleIsDeleteLineVisible();\n  };\n\n  selectPage = (pageNumber) => {\n    this.setState({ currentPage: pageNumber });\n  };\n\n  nextPage = () => {\n    const current = this.state.currentPage;\n    const total = this.state.pages.length;\n    const nextPage = current >= total ? 1 : this.state.currentPage + 1;\n    this.setState({ currentPage: nextPage });\n  };\n\n  setIsNotePlayedOnClick = (value) => {\n    this.setState({ isNotePlayedOnClick: value });\n  };\n\n  setTempo = (value) => {\n    this.setState({ tempo: value });\n  };\n\n  setTimeoutTempo = (value) => {\n    this.setState({ timeoutTempo: value });\n  };\n\n  toggleIsAddInstrumentVisible = () => {\n    this.setState({\n      isAddInstrumentVisible: !this.state.isAddInstrumentVisible,\n    });\n  };\n\n  toggleIsSaveSongVisible = () => {\n    this.setState({\n      isSaveSongVisible: !this.state.isSaveSongVisible,\n    });\n  };\n\n  toggleIsDeleteLineVisible = () => {\n    this.setState({\n      isDeleteLineVisible: !this.state.isDeleteLineVisible,\n    });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.isAddInstrumentVisible && (\n          <AddInstrument\n            addInstrument={this.addInstrument}\n            toggleIsAddInstrumentVisible={this.toggleIsAddInstrumentVisible}\n          />\n        )}\n        {this.state.isSaveSongVisible && (\n          <SaveSong\n            saveTheSong={this.saveTheSong}\n            toggleIsSaveSongVisible={this.toggleIsSaveSongVisible}\n            user={this.props.user}\n          />\n        )}\n        {this.state.bottomMessage && (\n          <ExpandedMenuItem>\n            <p>{this.state.bottomMessage}</p>\n          </ExpandedMenuItem>\n        )}\n        <PageSquares\n          pages={this.state.pages}\n          selectPage={this.selectPage}\n          currentPage={this.state.currentPage}\n        />\n        <div\n          style={{\n            minHeight: 300,\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}>\n          {!this.state.musicLines.length && (\n            <p>\n              No partition to display yet... Click on \"Add Lines\" to start\n              composing.\n            </p>\n          )}\n          <MusicGrid>\n            {this.state.musicLines &&\n              this.state.musicLines.map((line, i) => {\n                return (\n                  <CreateLine\n                    key={i}\n                    linePosition={i}\n                    label={line.label}\n                    notes={this.state.partition[i]}\n                    noteColors={line.colors}\n                    toggleActiveNote={this.toggleActiveNote}\n                    sounds={line.sounds}\n                    highlightedNote={this.state.highlightedNote}\n                    animatedNotes={this.state.animatedNotes}\n                    isDeleteLineVisible={this.state.isDeleteLineVisible}\n                    deleteLine={this.deleteLine}\n                    currentPage={this.state.currentPage}\n                    lenghtOfPage={LENGTH_OF_PAGE}\n                  />\n                );\n              })}\n          </MusicGrid>\n        </div>\n        <PlayControls\n          onPlayBtnPress={this.onPlayBtnPress}\n          onStopBtnPress={this.onStopBtnPress}\n          addOneBar={this.addOneBar}\n          removeOneBar={this.removeOneBar}\n          isPlaying={this.state.isPlaying}\n          tempo={this.state.tempo}\n          setTempo={this.setTempo}\n          setTimeoutTempo={this.setTimeoutTempo}\n          numberOfBars={\n            this.state.partition[0] ? this.state.partition[0].length : 0\n          }\n          isNotePlayedOnClick={this.state.isNotePlayedOnClick}\n          setIsNotePlayedOnClick={this.setIsNotePlayedOnClick}\n        />\n        <AdvControls\n          toggleIsAddInstrumentVisible={this.toggleIsAddInstrumentVisible}\n          toggleIsSaveSongVisible={this.toggleIsSaveSongVisible}\n          toggleIsDeleteLineVisible={this.toggleIsDeleteLineVisible}\n          user={this.props.user}\n        />\n      </React.Fragment>\n    );\n  }\n}\n","import React from \"react\";\nimport { StyledNote } from \"../../ui-kit\";\n\nexport const Note = ({ status, colors, highlighted, isAnimated }) => {\n  const color = colors[status];\n\n  return (\n    <StyledNote\n      color={color}\n      highlighted={highlighted}\n      animated={isAnimated}\n    />\n  );\n};\n","import React from \"react\";\nimport { Note } from \"./Note\";\nimport { Line } from \"../../ui-kit\";\n\nexport const DisplayLine = ({\n  notes,\n  noteColors,\n  highlightedNote,\n  animatedNotes,\n  lengthOfPage,\n  currentPage,\n}) => {\n  const firstIndex = (currentPage - 1) * lengthOfPage;\n  const lastIndex = currentPage * lengthOfPage;\n\n  const displayNotes = notes.map((n, i) => {\n    if (i >= firstIndex && i < lastIndex) {\n      return (\n        <Note\n          key={i}\n          status={n}\n          colors={noteColors}\n          highlighted={highlightedNote === i}\n          isAnimated={animatedNotes.includes(i)}\n        />\n      );\n    }\n  });\n\n  return <Line>{displayNotes}</Line>;\n};\n","import React from \"react\";\nimport { DisplayLine } from \"./DisplayLine\";\nimport { PageSquares } from \"../Shared/PageSquares\";\nimport { playBeat } from \"../utils\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay } from \"@fortawesome/free-solid-svg-icons\";\nimport { faStop } from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  MusicGrid,\n  SongPost,\n  SongPostPlay,\n  SongHeader,\n  SongTitle,\n  Row,\n} from \"../../ui-kit\";\n\nconst LENGTH_OF_PAGE = 16;\n\nconst iconsStyle = {\n  width: 40,\n  height: 40,\n  padding: \"10px 30px\",\n  border: \"solid 1px rgba(0, 0, 0, 0.6)\",\n  color: \"rgba(0, 0, 0, 0.7)\",\n  backgroundColor: \"rgba(250, 250, 250, 0.5)\",\n  borderRadius: 5,\n  zIndex: 5,\n};\n\nexport class DisplaySong extends React.Component {\n  state = {\n    isPlaying: false,\n    musicPlaying: null,\n    highlightedNote: -1,\n    animatedNotes: [-1, -1, -1],\n    timeoutTempo: 60000 / this.props.tempo / 4,\n    currentPage: 1,\n    pages: [1],\n  };\n\n  componentDidMount() {\n    const updatedPages = [];\n    const numberOfPages = Math.ceil(\n      this.props.partition[0].length / LENGTH_OF_PAGE\n    );\n    for (let i = 1; i <= numberOfPages; i++) {\n      updatedPages.push(1);\n    }\n    this.setState({ pages: updatedPages });\n  }\n\n  componentWillUnmount() {\n    this.stopPlaying();\n  }\n\n  playMusic = (musicLines, partition, tempo) => {\n    this.setState({ isPlaying: true, currentPage: 1 });\n    let counter = 0;\n    this.setState({\n      musicPlaying: setInterval(() => {\n        this.setState({\n          highlightedNote: counter,\n          animatedNotes: [counter - 1, counter, counter + 1],\n        });\n        playBeat(musicLines, partition, counter);\n        counter++;\n        if (counter >= partition[0].length) {\n          counter = 0;\n        }\n        if (\n          counter > this.state.currentPage * LENGTH_OF_PAGE ||\n          counter === 0\n        ) {\n          this.nextPage();\n        }\n      }, tempo),\n    });\n  };\n\n  stopPlaying = () => {\n    this.setState({ isPlaying: false });\n    clearInterval(this.state.musicPlaying);\n  };\n\n  nextPage = () => {\n    const current = this.state.currentPage;\n    const total = this.state.pages.length;\n    const nextPage = current >= total ? 1 : this.state.currentPage + 1;\n    this.setState({ currentPage: nextPage });\n  };\n\n  onSongClick = () => {\n    if (this.state.isPlaying) {\n      this.stopPlaying();\n    } else {\n      this.playMusic(\n        this.props.musicLines,\n        this.props.partition,\n        this.state.timeoutTempo\n      );\n    }\n  };\n\n  render() {\n    return (\n      <SongPost>\n        <SongPostPlay onClick={this.onSongClick}>\n          {this.state.isPlaying ? (\n            <FontAwesomeIcon icon={faStop} color=\"black\" style={iconsStyle} />\n          ) : (\n            <FontAwesomeIcon icon={faPlay} color=\"black\" style={iconsStyle} />\n          )}\n        </SongPostPlay>\n        <SongHeader>\n          <SongTitle b={true}>{this.props.title}</SongTitle>\n          <SongTitle>by {this.props.creatorName}</SongTitle>\n        </SongHeader>\n        <Row>\n          <PageSquares\n            pages={this.state.pages}\n            selectPage={this.selectPage}\n            currentPage={this.state.currentPage}\n            clickable={false}\n          />\n        </Row>\n        <MusicGrid>\n          {this.props.musicLines.map((line, i) => {\n            return (\n              <DisplayLine\n                key={i}\n                linePosition={i}\n                notes={this.props.partition[i]}\n                noteColors={line.colors}\n                sounds={line.sounds}\n                lengthOfPage={LENGTH_OF_PAGE}\n                currentPage={this.state.currentPage}\n                highlightedNote={this.state.highlightedNote}\n                animatedNotes={this.state.animatedNotes}\n              />\n            );\n          })}\n        </MusicGrid>\n      </SongPost>\n    );\n  }\n}\n","import React from \"react\";\nimport { Row, Column, Heading2, AppIntroLayout } from \"../../ui-kit\";\n\nexport const AppIntro = () => {\n  return (\n    <AppIntroLayout>\n      <Row>\n        <Column></Column>\n        <Column flex={2} justifyContent=\"center\" alignItems=\"center\">\n          <Heading2>Welcome to Boom-Tchak!</Heading2>\n        </Column>\n        <Column></Column>\n      </Row>\n      <Row>\n        <Column></Column>\n        <Column flex={2} justifyContent=\"center\" alignItems=\"center\">\n          <p>\n            The app to discover and create nice music loops. Scroll down to\n            check out the last creations and listen by clicking on them.\n          </p>\n          <p>Click on \"create\" to create your own music loop</p>\n          <p>Sign-up to be able to save and post your creations</p>\n        </Column>\n        <Column></Column>\n      </Row>\n    </AppIntroLayout>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Bars } from \"svg-loaders-react\";\nimport axios from \"axios\";\nimport { DisplaySong } from \"./DisplaySong\";\nimport { prepareInstruments } from \"../utils/instruments\";\nimport { AppIntro } from \"../InfoPages/AppIntro\";\nimport { BlankSpace } from \"../../ui-kit\";\n\nexport const SongsList = () => {\n  const [songs, setSongs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [message, setMessage] = useState(\"\");\n\n  const loadSongs = async () => {\n    setLoading(true);\n    const { data: loadedSongs } = await axios.get(\n      `/api/song/posted/${currentPage}`,\n      {\n        page: 1,\n      }\n    );\n    if (!loadedSongs.length) {\n      setMessage(\"no more songs to load...\");\n      setLoading(false);\n      setTimeout(() => {\n        setMessage(\"\");\n      }, 2000);\n      return;\n    }\n    loadedSongs.forEach((song) => {\n      const preparedInstruments = prepareInstruments(song.instruments);\n      song.instruments = preparedInstruments;\n    });\n    setSongs([...songs, ...loadedSongs]);\n    setLoading(false);\n    setCurrentPage(currentPage + 1);\n  };\n\n  useEffect(() => {\n    loadSongs();\n  }, []);\n\n  const loadMore = () => {\n    loadSongs();\n  };\n\n  return (\n    <React.Fragment>\n      <AppIntro />\n      {songs.map((song) => {\n        return (\n          <DisplaySong\n            title={song.title}\n            partition={song.partition}\n            musicLines={song.instruments}\n            tempo={song.tempo}\n            creatorName={song.creatorName}\n          />\n        );\n      })}\n      {loading ? (\n        <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />\n      ) : message ? (\n        <p>{message}</p>\n      ) : (\n        <p onClick={loadMore}>loadMore</p>\n      )}\n      <BlankSpace height=\"100px\" />\n    </React.Fragment>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Bars } from \"svg-loaders-react\";\nimport { PageLayout, SelectableText, Button, Heading2, Column } from \"../../ui-kit\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport const LoadSong = (props) => {\n  const [songsList, setSongsList] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedSong, setSelectedSong] = useState(null);\n  const [message, setMessage] = useState(\"\");\n\n  const fetchData = async () => {\n    setLoading(true);\n    const { data } = await axios.get(`/api/song/creator/${props.user._id}`);\n    if (data) {\n      setSongsList(data);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const deleteSong = async (songId) => {\n    const response = await axios.delete(`/api/song/${songId}`);\n    setMessage(response.message);\n    fetchData();\n    setTimeout(() => {\n      setMessage(\"\");\n    }, 1500);\n  };\n\n  return (\n    <PageLayout>\n      <Heading2>Load Song</Heading2>\n      {loading && (\n        <Column alignItems=\"center\">\n          <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />\n        </Column>\n      )}\n      {songsList.map((el) => {\n        return (\n          <SelectableText\n            key={el._id}\n            selected={selectedSong === el._id}\n            onClick={() => {\n              setSelectedSong(el._id);\n            }}>\n            {el.title}\n          </SelectableText>\n        );\n      })}\n      <div>{message && <p>{message}</p>}</div>\n      {selectedSong && (\n        <div style={{ paddingTop: 20 }}>\n          <Link to={`song/${selectedSong}`}>\n            <Button>Load</Button>\n          </Link>\n          <Button onClick={() => deleteSong(selectedSong)}>Delete</Button>\n          <Link to={\"/\"}>\n            <Button>Cancel</Button>\n          </Link>\n        </div>\n      )}\n    </PageLayout>\n  );\n};\n","import axios from \"axios\";\n\nexport const signup = (username, password) => {\n  return axios\n    .post(\"/api/auth/signup\", { username, password })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nexport const login = (username, password) => {\n  return axios\n    .post(\"/api/auth/login\", { username, password })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nexport const logout = () => {\n  return axios\n    .delete(\"/api/auth/logout\")\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n","import React, { useState } from \"react\";\nimport { login } from \"./utils\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Input,\n  Button,\n  PageLayout,\n  Label,\n  Row,\n  Column,\n  Alert,\n  Heading2,\n  BlankSpace,\n} from \"../../ui-kit\";\n\nexport const Login = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const linkStyle = {\n    textDecoration: \"none\",\n    color: \"black\",\n  };\n\n  const handleLogin = async () => {\n    const data = await login(username, password);\n    if (data.message) {\n      setMessage(data.message);\n    } else {\n      props.setUser(data);\n      props.history.push(\"/\");\n    }\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === \"username\") {\n      setUsername(e.target.value);\n    }\n    if (e.target.name === \"password\") {\n      setPassword(e.target.value);\n    }\n  };\n\n  return (\n    <PageLayout>\n      <Row>\n        <Column />\n        <Column flex={1}>\n          <Heading2>Login</Heading2>\n          <Row>\n            <Column>\n              <Label htmlFor=\"username\">Username:</Label>\n            </Column>\n            <Column flex={2}>\n              <Input\n                type=\"text\"\n                name=\"username\"\n                width={\"100%\"}\n                id=\"username\"\n                value={username}\n                onChange={handleChange}\n              />\n            </Column>\n          </Row>\n          <Row>\n            <Column flex={1}>\n              <Label htmlFor=\"password\">Password:</Label>\n            </Column>\n            <Column flex={2}>\n              <Input\n                type=\"password\"\n                name=\"password\"\n                width={\"100%\"}\n                id=\"password\"\n                value={password}\n                onChange={handleChange}\n              />\n            </Column>\n          </Row>\n          <BlankSpace />\n          <Row>\n            <Column alignItems={\"center\"}>\n              {message && <Alert>{message}</Alert>}\n              <Button onClick={handleLogin}>Login</Button>\n              <p>No profile yet?</p>\n              <Link to=\"/signup\" style={linkStyle}>\n                signup\n              </Link>\n            </Column>\n          </Row>\n        </Column>\n        <Column />\n      </Row>\n    </PageLayout>\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  Input,\n  Button,\n  Label,\n  Row,\n  Column,\n  Alert,\n  PageLayout,\n  BlankSpace,\n  Heading2,\n} from \"../../ui-kit\";\nimport { Link } from \"react-router-dom\";\nimport { signup } from \"./utils\";\n\nexport const Signup = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const linkStyle = {\n    textDecoration: \"none\",\n    color: \"black\",\n  };\n\n  const handleSignup = async (e) => {\n    const data = await signup(username, password);\n    if (data.message) {\n      setMessage(data.message);\n    } else {\n      props.setUser(data);\n      props.history.push(\"/\");\n    }\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === \"username\") {\n      setUsername(e.target.value);\n    }\n    if (e.target.name === \"password\") {\n      setPassword(e.target.value);\n    }\n  };\n\n  return (\n    <PageLayout>\n      <Row>\n        <Column />\n        <Column flex={1}>\n          <Heading2>Signup</Heading2>\n          <Row>\n            <Column>\n              <Label htmlFor=\"username\">Username:</Label>\n            </Column>\n            <Column flex={2}>\n              <Input\n                type=\"text\"\n                name=\"username\"\n                width={\"100%\"}\n                id=\"username\"\n                value={username}\n                onChange={handleChange}\n              />\n            </Column>\n          </Row>\n          <Row>\n            <Column flex={1}>\n              <Label htmlFor=\"password\">Password:</Label>\n            </Column>\n            <Column flex={2}>\n              <Input\n                type=\"password\"\n                name=\"password\"\n                width={\"100%\"}\n                id=\"password\"\n                value={password}\n                onChange={handleChange}\n              />\n            </Column>\n          </Row>\n          <BlankSpace />\n          <Row>\n            <Column alignItems={\"center\"}>\n              {message && <Alert>{message}</Alert>}\n              <Button onClick={handleSignup}>Submit</Button>\n              <p>Already have a profile?</p>\n              <Link to=\"/login\" style={linkStyle}>\n                login\n              </Link>\n            </Column>\n          </Row>\n        </Column>\n        <Column />\n      </Row>\n    </PageLayout>\n  );\n};\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { logout } from \"./utils\";\nimport {\n  Row,\n  Column,\n  Button,\n  PageLayout,\n  ProfilePic,\n  Heading2,\n} from \"../../ui-kit\";\n\nexport const Profile = (props) => {\n  const [message, setMessage] = useState(\"\");\n\n  const onLogoutBtnClick = async () => {\n    await logout();\n    props.setUser(null);\n    props.history.push(\"/\");\n  };\n\n  const onCreateInstrumentBtnClick = () => {\n    const isUserAdmin = props.user && props.user.admin === true;\n    if (isUserAdmin) {\n      props.history.push(\"/create-instrument\");\n    } else {\n      setMessage(\"Coming soon, stay tuned...\");\n      setInterval(() => {\n        setMessage(\"\");\n      }, 2000);\n    }\n  };\n\n  if (!props.user) {\n    return (\n      <PageLayout>\n        <Heading2>No Profile...</Heading2>\n        <Row>\n          <Column>Please login or signup to access the profile page</Column>\n        </Row>\n      </PageLayout>\n    );\n  }\n\n  return (\n    <PageLayout>\n      <Row>\n        <Column>\n          <Heading2>Profile</Heading2>\n        </Column>\n      </Row>\n      <Row>\n        <Column flex={2}>\n          <ProfilePic\n            src={\n              \"https://images.unsplash.com/photo-1502377429547-835a416e4a90?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=667&q=80\"\n            }\n          />\n        </Column>\n        <Column justifyContent=\"flex-start\" flex={3}>\n          <h3>Hello, {props.user.username}</h3>\n          <p>Are you ready to create some funky beats today?</p>\n          <Row>\n            <Link to=\"/load-song\">\n              <Button>Load Song</Button>\n            </Link>\n            <Button onClick={onCreateInstrumentBtnClick}>\n              Create Instrument\n            </Button>\n            <Button onClick={onLogoutBtnClick}>Logout</Button>\n          </Row>\n          <Row>\n            <Column>{message && <p>{message}</p>}</Column>\n          </Row>\n        </Column>\n      </Row>\n    </PageLayout>\n  );\n};\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const ProtectedRoute = ({ component: Component, user, ...rest }) => {\n  return (\n    <Route\n      user={user}\n      {...rest}\n      render={(props) => {\n        if (user) {\n          return <Component user={user} {...rest} {...props} />;\n        } else {\n          return <Redirect to=\"/\" />;\n        }\n      }}\n    />\n  );\n};\n","import React from \"react\";\nimport { getCategories, getSubCategories } from \"../utils\";\nimport { Row, Column, Input, Select, Option } from \"../../ui-kit\";\n\nexport const Characteristics = ({\n  name,\n  setName,\n  category,\n  setCategory,\n  subCategory,\n  setSubCategory,\n}) => {\n  const instrumentCategories = getCategories();\n\n  return (\n    <React.Fragment>\n      <Row>\n        <Column flex={1}>Name:</Column>\n        <Column justifyContent=\"flex-start\" flex={2}>\n          <Input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        </Column>\n      </Row>\n      <Row>\n        <Column flex={1}>Category:</Column>\n        <Column justifyContent=\"flex-start\" flex={2}>\n          <Select\n            name=\"category\"\n            value={category}\n            onChange={(e) => setCategory(e.target.value)}>\n            {instrumentCategories.map((cat, i) => {\n              return (\n                <Option key={i} value={cat}>\n                  {cat !== \"default\" && cat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n      <Row>\n        <Column flex={1}>Sub-category:</Column>\n        <Column justifyContent=\"flex-start\" flex={2}>\n          <Select\n            name=\"sub-category\"\n            value={subCategory}\n            onChange={(e) => setSubCategory(e.target.value)}>\n            {getSubCategories(category).map((subCat, i) => {\n              return (\n                <Option key={i} value={subCat}>\n                  {subCat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n    </React.Fragment>\n  );\n};\n","import React from \"react\";\nimport { Row, Column, ColorSquare, Button } from \"../../ui-kit\";\n\nexport const InstrumentSoundsList = ({ sounds, addSound }) => {\n  const playSound = (url) => {\n    new Audio(url).play();\n  };\n\n  return (\n    <React.Fragment>\n      {sounds &&\n        sounds.map((el, i) => {\n          return (\n            <Row key={i}>\n              <Column>\n                <p style={{ margin: 0, padding: \"5px 0\" }}>\n                  {i === 0 ? \"Default\" : `${i}`}\n                </p>\n              </Column>\n              <Column>\n                <ColorSquare backgroundColor={el.color} />\n              </Column>\n              <Column flex={5}>\n                {el.url ? (\n                  <Button onClick={() => playSound(el.url)}>{el.name}</Button>\n                ) : (\n                  <p style={{ margin: 0, padding: \"5px 18px\" }}>No sound</p>\n                )}\n              </Column>\n            </Row>\n          );\n        })}\n      <Row>\n        <Column flex={2}></Column>\n        <Column justifyContent=\"flex-start\" flex={5}>\n          <Button backgroundColor=\"#0f0\" onClick={addSound}>\n            Add Sound\n          </Button>\n        </Column>\n      </Row>\n    </React.Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faVolumeUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { Bars } from \"svg-loaders-react\";\nimport { getCategories, getSubCategories } from \"../utils\";\nimport {\n  Row,\n  Column,\n  SelectableText,\n  Heading3,\n  Select,\n  Option,\n  Input,\n} from \"../../ui-kit\";\n\nexport const AvailableSoundsList = ({\n  loading,\n  availableSounds,\n  selectedSound,\n  selectSound,\n}) => {\n  const [filterName, setFilterName] = useState(\"\");\n  const [filterCategory, setFilterCategory] = useState(\"default\");\n  const [filterSubCategory, setFilterSubCategory] = useState(\"\");\n\n  const filteredSounds = availableSounds.filter((sound) => {\n    return (\n      (!filterName ||\n        sound.name\n          .toLocaleLowerCase()\n          .includes(filterName.toLocaleLowerCase())) &&\n      (filterCategory === \"default\" || filterCategory === sound.category) &&\n      (!filterSubCategory || filterSubCategory === sound.subCategory)\n    );\n  });\n\n  const volumeBtnStyle = {\n    margin: 2,\n    color: \"black\",\n    backgroundColor: \"white\",\n    padding: 6,\n    borderColor: \"black\",\n    borderWidth: 1,\n    borderStyle: \"solid\",\n    borderRadius: \"50%\",\n    cursor: \"pointer\",\n  };\n\n  const soundCategories = getCategories();\n\n  if (loading) {\n    return (\n      <Column alignItems=\"center\">\n        <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />\n      </Column>\n    );\n  }\n  return (\n    <React.Fragment>\n      <Row>\n        <Column></Column>\n        <Column flex={3}>\n          <Heading3>Name</Heading3>\n        </Column>\n        <Column flex={2}>\n          <Heading3>Category</Heading3>\n        </Column>\n        <Column flex={2}>\n          <Heading3>Sub-cat.</Heading3>\n        </Column>\n      </Row>\n      <Row>\n        <Column></Column>\n        <Column flex={3}>\n          <Input\n            type=\"text\"\n            value={filterName}\n            placeholder=\"Search...\"\n            onChange={(e) => setFilterName(e.target.value)}\n          />\n        </Column>\n        <Column flex={2}>\n          <Select\n            name=\"category\"\n            value={filterCategory}\n            onChange={(e) => setFilterCategory(e.target.value)}>\n            {soundCategories.map((cat, i) => {\n              return (\n                <Option key={i} value={cat}>\n                  {cat === \"default\" ? \"all\" : cat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n        <Column flex={2}>\n          <Select\n            name=\"sub-category\"\n            value={filterSubCategory}\n            onChange={(e) => setFilterSubCategory(e.target.value)}>\n            {getSubCategories(filterCategory).map((subCat, i) => {\n              return (\n                <Option key={i} value={subCat}>\n                  {subCat || \"all\"}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n      {filteredSounds.map((el) => {\n        const playSound = () => {\n          return new Audio(el.url).play();\n        };\n        return (\n          <Row key={el._id}>\n            <Column>\n              <FontAwesomeIcon\n                icon={faVolumeUp}\n                style={volumeBtnStyle}\n                onClick={playSound}\n              />\n            </Column>\n            <Column flex={3}>\n              <SelectableText\n                selected={selectedSound && selectedSound.url === el.url}\n                onClick={() => selectSound(el)}>\n                {el.name}\n              </SelectableText>\n            </Column>\n            <Column flex={2}>\n              <SelectableText\n                selected={selectedSound && selectedSound.url === el.url}\n                onClick={() => selectSound(el)}>\n                {el.category}\n              </SelectableText>\n            </Column>\n            <Column flex={2}>\n              <SelectableText\n                selected={selectedSound && selectedSound.url === el.url}\n                onClick={() => selectSound(el)}>\n                {el.subCategory}\n              </SelectableText>\n            </Column>\n          </Row>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { getCategories, getSubCategories } from \"../utils\";\nimport { Row, Column, Input, Button, Select, Option } from \"../../ui-kit\";\n\nexport const CreateSound = ({ setView, fetchData }) => {\n  const [soundName, setSoundName] = useState(\"\");\n  const [soundCategory, setSoundCategory] = useState(\"\");\n  const [soundSubCategory, setSoundSubCategory] = useState(\"\");\n  const [soundPitch, setSoundPitch] = useState(\"\");\n  const [soundFile, setSoundFile] = useState(null);\n  const [message, setMessage] = useState(\"\");\n\n  const fileSelectorHandler = (event) => {\n    const selectedFile = event.target.files[0];\n    setSoundFile(selectedFile);\n  };\n\n  const uploadSound = async () => {\n    if (!soundName || !soundCategory || !soundSubCategory) {\n      displayMessage(\"Please chose a name and select categories\");\n      return;\n    } else if (soundName.length < 5) {\n      displayMessage(\"The sound name must be at least 5 char.\");\n    } else if (!soundFile) {\n      displayMessage(\"please select a file to upload\");\n      return;\n    }\n    const uploadData = new FormData();\n    uploadData.append(\"sounds\", soundFile);\n    const uploadedSound = await axios.post(\"/api/sound/upload\", uploadData);\n    const createdSound = await axios.post(\"/api/sound\", {\n      name: soundName,\n      category: soundCategory,\n      subCategory: soundSubCategory,\n      pitch: soundPitch,\n      url: uploadedSound.data.secure_url,\n    });\n    if (createdSound.message) {\n      displayMessage(createdSound.message);\n      return;\n    }\n    setView(\"ADD\");\n    fetchData();\n  };\n\n  const soundCategories = getCategories();\n\n  const displayMessage = (mes) => {\n    setMessage(mes);\n    setInterval(() => {\n      setMessage(\"\");\n    }, 3000);\n  };\n  return (\n    <React.Fragment>\n      <Row>\n        <Column>Select file:</Column>\n        <Column flex={2}>\n          <Input\n            id=\"file\"\n            name=\"file\"\n            type=\"file\"\n            multiple=\"false\"\n            onChange={fileSelectorHandler}\n          />\n        </Column>\n      </Row>\n      <Row>\n        <Column>Name:</Column>\n        <Column flex={2}>\n          <Input\n            type=\"text\"\n            value={soundName}\n            onChange={(e) => setSoundName(e.target.value)}\n          />\n        </Column>\n      </Row>\n      <Row>\n        <Column>Category:</Column>\n        <Column flex={2}>\n          <Select\n            name=\"category\"\n            onChange={(e) => setSoundCategory(e.target.value)}>\n            {soundCategories.map((cat, i) => {\n              return (\n                <Option key={i} value={cat}>\n                  {cat !== \"default\" && cat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n      <Row>\n        <Column>Sub-Category:</Column>\n        <Column flex={2}>\n          <Select\n            name=\"sub-category\"\n            onChange={(e) => setSoundSubCategory(e.target.value)}>\n            {getSubCategories(soundCategory).map((subCat, i) => {\n              return (\n                <Option key={i} value={subCat}>\n                  {subCat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n      <Row>\n        <Column>Pitch (optional):</Column>\n        <Column flex={2}>\n          <Input\n            type=\"text\"\n            value={soundPitch}\n            onChange={(e) => setSoundPitch(e.target.value)}\n          />\n        </Column>\n      </Row>\n      <Row>\n        <Column></Column>\n        <Column flex={2}>{soundFile && soundFile.name}</Column>\n      </Row>\n      <Row>\n        <Column>{message && message}</Column>\n      </Row>\n      <Row>\n        <Column flex={1}>\n          <Button onClick={uploadSound}>Create Sound</Button>\n        </Column>\n      </Row>\n    </React.Fragment>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { AvailableSoundsList } from \"./AvailableSoundsList\";\nimport { SketchPicker } from \"react-color\";\nimport { CreateSound } from \"./CreateSound\";\nimport { Row, Button, Column, ColorSquare, Heading2 } from \"../../ui-kit\";\n\nconst views = {\n  ADD: \"ADD\",\n  UPLOAD: \"UPLOAD\",\n};\n\nexport const AddSound = ({\n  switchToOverview,\n  availableSounds,\n  selectedSound,\n  selectSound,\n  addSound,\n  loading,\n  fetchData,\n  displayMessage,\n}) => {\n  const [soundColor, setSoundColor] = useState(\"#aaa\");\n  const [view, setView] = useState(views.ADD);\n  const handleColorChange = (color) => {\n    setSoundColor(color.hex);\n  };\n\n  useEffect(() => {\n    selectSound(null);\n  }, []);\n\n  const handleAddSoundClick = () => {\n    if (!selectedSound || !selectedSound.name || !selectedSound.url) {\n      displayMessage(\"Please select a sound first\");\n      return;\n    }\n    addSound({\n      name: selectedSound.name,\n      color: soundColor,\n      url: selectedSound.url,\n    });\n  };\n\n  return (\n    <React.Fragment>\n      <Row>\n        <Column>\n          <Heading2>Add Sound:</Heading2>\n        </Column>\n        <Column flexDirection=\"row\" justifyContent=\"flex-end\">\n          {view === views.ADD && (\n            <Button\n              onClick={() => {\n                setView(views.UPLOAD);\n              }}>\n              Upload own sound\n            </Button>\n          )}\n          {view === views.UPLOAD && (\n            <Button\n              onClick={() => {\n                setView(views.ADD);\n              }}>\n              Search sound\n            </Button>\n          )}\n\n          <Button backgroundColor=\"#0f0\" onClick={handleAddSoundClick}>\n            Add\n          </Button>\n          <Button backgroundColor=\"#f00\" onClick={switchToOverview}>\n            Cancel\n          </Button>\n        </Column>\n      </Row>\n      <Row>\n        <Column flex={2} justifyContent=\"flex-start\">\n          {view === views.ADD && (\n            <React.Fragment>\n              <Row>\n                <Column\n                  flexDirection=\"row\"\n                  alignItems=\"center\"\n                  justifyContent=\"flex-start\">\n                  <p>Color:</p>\n                  <ColorSquare backgroundColor={soundColor} />\n                </Column>\n              </Row>\n              <SketchPicker\n                color={soundColor}\n                onChangeComplete={handleColorChange}\n              />\n            </React.Fragment>\n          )}\n        </Column>\n        <Column flex={3}>\n          {view === views.UPLOAD && (\n            <CreateSound setView={setView} fetchData={fetchData} />\n          )}\n          {view === views.ADD && (\n            <AvailableSoundsList\n              loading={loading}\n              availableSounds={availableSounds}\n              selectedSound={selectedSound}\n              selectSound={selectSound}\n            />\n          )}\n        </Column>\n      </Row>\n    </React.Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport { Characteristics } from \"./Characteristics\";\nimport { InstrumentSoundsList } from \"./InstrumentSoundsList\";\nimport { AddSound } from \"./AddSound\";\nimport axios from \"axios\";\nimport { Row, Column, Button, PageLayout, Heading2, Alert } from \"../../ui-kit\";\n\nconst views = {\n  OVERVIEW: \"OVERVIEW\",\n  ADD_SOUND: \"ADD_SOUND\",\n};\n\nexport const CreateInstrument = (props) => {\n  const [name, setName] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [subCategory, setSubCategory] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [sounds, setSounds] = useState([\n    { name: \"default\", color: \"#ddd\", url: \"\" },\n  ]);\n  const [view, setView] = useState(views.OVERVIEW);\n  const [loading, setLoading] = useState(false);\n  const [availableSounds, setAvailableSounds] = useState([]);\n  const [selectedSound, setSelectedSound] = useState(null);\n\n  const openAddSoundSection = async () => {\n    setView(views.ADD_SOUND);\n    await fetchData();\n  };\n\n  const fetchData = async () => {\n    setLoading(true);\n    const { data } = await axios.get(\"/api/sound\");\n    if (data) {\n      setAvailableSounds(data);\n      setLoading(false);\n    }\n  };\n\n  const displayMessage = (mes) => {\n    setMessage(mes);\n    setInterval(() => {\n      setMessage(\"\");\n    }, 2000);\n  };\n\n  const addSound = (sound) => {\n    if ((!sound.url, !sound.color)) {\n      displayMessage(\"Please select or upload a sound and pick a color\");\n      return;\n    }\n    const newSound = {\n      name: sound.name,\n      color: sound.color,\n      url: sound.url,\n    };\n    const updatedSounds = [...sounds, newSound];\n    setSounds(updatedSounds);\n    setView(views.OVERVIEW);\n  };\n\n  const switchToOverview = () => {\n    setView(views.OVERVIEW);\n  };\n\n  const selectSound = (sound) => {\n    setSelectedSound(sound);\n  };\n\n  const resetInstrument = () => {\n    setName(\"\");\n    setCategory(\"\");\n    setSubCategory(\"\");\n    setSounds([{ name: \"default\", color: \"#ddd\", url: \"\" }]);\n  };\n\n  const saveInstrument = async () => {\n    if (!name || !category || !subCategory) {\n      displayMessage(\"All fields must be filled\");\n      return;\n    }\n    if (sounds.length < 2) {\n      displayMessage(\"You must select at least 1 sound\");\n      return;\n    }\n    const createdInstrument = await axios.post(\"/api/instrument\", {\n      name,\n      category,\n      subCategory,\n      sounds,\n      creator: props.user._id,\n      private: false,\n    });\n    if (createdInstrument.message) {\n      displayMessage(createdInstrument.message);\n    } else if (createdInstrument.status === 200) {\n      displayMessage(`Success! You just created a new instrument!`);\n      resetInstrument();\n    }\n  };\n\n  const toggleHelp = () => {};\n\n  return (\n    <PageLayout>\n      <Row>{message && <Alert>{message}</Alert>}</Row>\n      {view === views.ADD_SOUND && (\n        <AddSound\n          switchToOverview={switchToOverview}\n          availableSounds={availableSounds}\n          selectedSound={selectedSound}\n          selectSound={selectSound}\n          loading={loading}\n          addSound={addSound}\n          fetchData={fetchData}\n          displayMessage={displayMessage}\n        />\n      )}\n      {view === views.OVERVIEW && (\n        <React.Fragment>\n          <Row>\n            <Column flex={1}>\n              <Heading2>Create Instrument</Heading2>\n            </Column>\n            <Column\n              flex={2}\n              flexDirection=\"row\"\n              alignItems=\"flex-end\"\n              justifyContent=\"flex-end\">\n              <Button onClick={saveInstrument}>Save Instrument</Button>\n              <Button onClick={resetInstrument}>Reset</Button>\n              <Button onClick={toggleHelp}>Help</Button>\n            </Column>\n          </Row>\n          <Row>\n            <Column flex={2}>\n              <Characteristics\n                name={name}\n                setName={setName}\n                category={category}\n                setCategory={setCategory}\n                subCategory={subCategory}\n                setSubCategory={setSubCategory}\n              />\n            </Column>\n            <Column flex={1}></Column>\n          </Row>\n          <Row>\n            <Column>\n              <h3>Sounds:</h3>\n            </Column>\n          </Row>\n          <Row>\n            <Column>\n              <InstrumentSoundsList\n                sounds={sounds}\n                addSound={openAddSoundSection}\n              />\n            </Column>\n          </Row>\n        </React.Fragment>\n      )}\n    </PageLayout>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Row,\n  Column,\n  Button,\n  PageLayout,\n  ProfilePic,\n  Heading2,\n} from \"../../ui-kit\";\n\nexport const About = () => {\n  return (\n    <PageLayout>\n      <Row>\n        <Column>\n          <Heading2>About the app</Heading2>\n        </Column>\n      </Row>\n      <Row>\n        <Column></Column>\n      </Row>\n    </PageLayout>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { HeaderLayout, HeaderTitle, MenuButton, Wrapper } from \"../../ui-kit\";\n\nconst linkStyle = {\n  textDecoration: \"none\",\n  color: \"black\",\n};\n\nconst textLinkStyle = {\n  textDecoration: \"none\",\n  color: \"black\",\n  padding: \"0 8px\",\n};\n\nexport const Header = (props) => {\n  return (\n    <HeaderLayout>\n      <Wrapper flexDirection=\"row\" justifyContent=\"space-between\">\n        <Link style={linkStyle} to=\"/\">\n          <HeaderTitle>Boum-Tchak!</HeaderTitle>\n        </Link>\n        <div\n          style={{ display: \"flex\", paddingRight: 20, alignItems: \"center\" }}>\n          <Link style={linkStyle} to=\"/listen\">\n            <MenuButton>Listen</MenuButton>\n          </Link>\n          <Link style={linkStyle} to=\"/create\">\n            <MenuButton>Create</MenuButton>\n          </Link>\n          {props.user ? (\n            <Link style={linkStyle} to=\"/profile\">\n              <MenuButton>Profile</MenuButton>\n            </Link>\n          ) : (\n            <React.Fragment>\n              <Link style={linkStyle} to=\"/signup\">\n                <MenuButton>Signup</MenuButton>\n              </Link>\n              <Link style={textLinkStyle} to=\"/login\">\n                Login\n              </Link>\n            </React.Fragment>\n          )}\n          <Link style={textLinkStyle} to=\"/about\">\n            About\n          </Link>\n        </div>\n      </Wrapper>\n    </HeaderLayout>\n  );\n};\n","import React from \"react\";\nimport { CreateSong } from \"./components/CreateSong/CreateSong\";\nimport { SongsList } from \"./components/DisplaySong/SongsList\";\nimport { LoadSong } from \"./components/LoadSong/LoadSong\";\nimport { Login } from \"./components/Auth/Login\";\nimport { Signup } from \"./components/Auth/Signup\";\nimport { Profile } from \"./components/Auth/Profile\";\nimport { ProtectedRoute } from \"./components/Auth/ProtectedRoute\";\nimport { CreateInstrument } from \"./components/CreateInstrument/CreateInstrument\";\nimport { About } from \"./components/InfoPages/About\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { MainScreen, Wrapper, BackHeader } from \"./ui-kit\";\nimport { Header } from \"./components/Header/Header\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  state = {\n    user: this.props.user,\n  };\n\n  setUser = (user) => {\n    this.setState({\n      user: user,\n    });\n  };\n\n  render() {\n    return (\n      <MainScreen>\n        <Header user={this.state.user} />\n        <Wrapper>\n          <BackHeader />\n          <Switch>\n            <Route\n              exact\n              path=\"/create\"\n              render={(props) => (\n                <CreateSong user={this.state.user} {...props} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/about\"\n              render={(props) => <About {...props} />}\n            />\n            <Route\n              exact\n              path=\"/song/:id\"\n              render={(props) => (\n                <CreateSong user={this.state.user} {...props} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/login\"\n              render={(props) => {\n                if (!this.state.user) {\n                  return <Login setUser={this.setUser} {...props} />;\n                } else {\n                  return <Redirect to=\"/\" />;\n                }\n              }}\n            />\n            <Route\n              exact\n              path=\"/signup\"\n              render={(props) => {\n                if (!this.state.user) {\n                  return <Signup setUser={this.setUser} {...props} />;\n                } else {\n                  return <Redirect to=\"/\" />;\n                }\n              }}\n            />\n            <ProtectedRoute\n              exact\n              path=\"/profile\"\n              user={this.state.user}\n              setUser={this.setUser}\n              component={Profile}\n            />\n            <ProtectedRoute\n              exact\n              path=\"/create-instrument\"\n              user={this.state.user}\n              setUser={this.setUser}\n              component={CreateInstrument}\n            />\n            <Route\n              exact\n              path=\"/\"\n              render={(props) => <SongsList intro={true} {...props} />}\n            />\n            <Route\n              exact\n              path=\"/listen\"\n              render={(props) => <SongsList intro={false} {...props} />}\n            />\n            <Route\n              exact\n              path=\"/load-song\"\n              render={(props) => {\n                if (this.state.user) {\n                  return <LoadSong user={this.state.user} {...props} />;\n                } else {\n                  return <Redirect to=\"/\" />;\n                }\n              }}\n            />\n          </Switch>\n        </Wrapper>\n      </MainScreen>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst renderApp = async () => {\n  const authResponse = await axios.get(\"/api/auth/loggedin\");\n  const user = authResponse.data;\n  ReactDOM.render(\n    <BrowserRouter>\n      <App user={user} />\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n  );\n};\nrenderApp();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}