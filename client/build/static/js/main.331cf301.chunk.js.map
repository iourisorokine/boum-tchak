{"version":3,"sources":["ui-kit/elements.js","ui-kit/buttons.js","ui-kit/layout.js","ui-kit/typography.js","ui-kit/musicGrid.js","components/CreateSong/Note.jsx","components/CreateSong/CreateLine.jsx","components/Shared/PageSquares.jsx","components/CreateSong/PlayControls.jsx","components/CreateSong/AdvControls.jsx","components/CreateSong/AddInstrument.jsx","components/CreateSong/SaveSong.jsx","components/utils/instruments.js","components/utils/playMechanics.js","components/utils/categories.js","components/CreateSong/CreateSong.jsx","components/DisplaySong/Note.jsx","components/DisplaySong/DisplayLine.jsx","components/DisplaySong/DisplaySong.jsx","components/InfoPages/AppIntro.jsx","components/DisplaySong/SongsList.jsx","components/LoadSong/LoadSong.jsx","components/Auth/utils.js","components/Auth/Login.jsx","components/Auth/Signup.jsx","components/Auth/Profile.jsx","components/Auth/ProtectedRoute.jsx","components/CreateInstrument/Characteristics.jsx","components/CreateInstrument/InstrumentSoundsList.jsx","components/CreateInstrument/AvailableSoundsList.jsx","components/CreateInstrument/CreateSound.jsx","components/CreateInstrument/AddSound.jsx","components/CreateInstrument/CreateInstrument.jsx","components/InfoPages/Help.jsx","components/Header/Header.jsx","App.jsx","serviceWorker.js","index.js"],"names":["ControlsPad","styled","div","Tempo","span","ExpandedMenuItem","SongPostPlay","SongPost","Input","input","props","width","Label","form","label","Select","select","Option","option","ProfilePic","img","src","ColorSquare","backgroundColor","SelectableText","p","selected","Button","button","PlayButton","StopButton","MenuButton","CategoryBtn","DeleteButton","Row","SelectableRow","padding","AppIntroLayout","Column","flexDirection","alignItems","justifyContent","flex","HeaderLayout","BackHeader","MainScreen","Wrapper","maxWidth","PageLayout","BlankSpace","height","Heading2","h2","Heading3","h3","SongHeader","SongTitle","b","LineLabel","HeaderTitle","h1","Alert","MusicGrid","Line","notesPlayingAnimation","keyframes","StyledNote","color","highlighted","clickable","animated","PageSquare","Note","notePosition","status","colors","toggleActiveNote","linePosition","sounds","onClick","CreateLine","notes","noteColors","highlightedNote","isDeleteLineVisible","animatedNotes","deleteLine","currentPage","lenghtOfPage","firstIndex","lastIndex","displayNotes","map","n","i","key","includes","PageSquares","selectPage","pages","length","el","PlayControls","onPlayBtnPress","onStopBtnPress","isPlaying","addOneBar","removeOneBar","isNotePlayedOnClick","setIsNotePlayedOnClick","tempo","setTempo","setTimeoutTempo","numberOfBars","AdvControls","toggleIsAddInstrumentVisible","toggleIsSaveSongVisible","toggleIsDeleteLineVisible","user","to","AddInstrument","addInstrument","useState","newInstruments","setNewInstruments","searchCategory","setSearchCategory","loading","setLoading","fetchInstrumentsData","searchCat","a","searchParams","params","category","axios","get","data","useEffect","cat","selectCategory","fill","stroke","instrument","name","subCategory","SaveSong","saveTheSong","title","setTitle","Fragment","style","margin","type","placeholder","value","onChange","e","target","preparePartition","instruments","partition","forEach","emptyLine","push","prepareInstruments","line","lineSounds","lineColors","url","Audio","id","_id","prepareOneInstrument","playBeat","lines","beatNumber","partitionLine","soundIndex","pause","currentTime","play","SOUND_CATEGORIES","SUB_CATEGORIES","default","Drums","Bass","Synth","Guitar","Piano","Brass","Strings","Flute","Effects","Voice","Other","getSubCategories","getCategories","CreateSong","state","musicPlaying","musicLines","timeoutTempo","isAddInstrumentVisible","isSaveSongVisible","bottomMessage","instr","newPartitionRow","newPartition","newMusicLines","preparedNewInstrument","setState","col","row","updatedPartition","depth","newIndex","playMusic","counter","setInterval","nextPage","stopPlaying","clearInterval","songInstruments","songData","creator","creatorName","username","posted","post","setTimeout","pagesUpdate","Math","ceil","concat","last","splice","slice","lineNumber","updatedInstruments","pageNumber","this","prepareNewMusic","prepareLoadedSong","songId","match","loadedSong","minHeight","display","React","Component","isAnimated","DisplayLine","lengthOfPage","iconsStyle","border","borderRadius","zIndex","DisplaySong","onSongClick","updatedPages","numberOfPages","icon","faStop","faPlay","AppIntro","chevronStyle","paddingTop","faChevronDown","SongsList","isAppIntroDisplayed","songs","setSongs","setCurrentPage","message","setMessage","loadSongs","page","loadedSongs","song","preparedInstruments","LoadSong","songsList","setSongsList","selectedSong","setSelectedSong","fetchData","deleteSong","delete","response","signup","password","then","catch","err","login","Login","setUsername","setPassword","handleLogin","setUser","history","handleChange","htmlFor","textDecoration","Signup","handleSignup","Profile","onLogoutBtnClick","admin","ProtectedRoute","component","rest","render","Characteristics","setName","setCategory","setSubCategory","instrumentCategories","subCat","InstrumentSoundsList","addSound","AvailableSoundsList","availableSounds","selectedSound","selectSound","filterName","setFilterName","filterCategory","setFilterCategory","filterSubCategory","setFilterSubCategory","filteredSounds","filter","sound","toLocaleLowerCase","volumeBtnStyle","borderColor","borderWidth","borderStyle","cursor","soundCategories","faVolumeUp","CreateSound","setView","soundName","setSoundName","soundCategory","setSoundCategory","soundSubCategory","setSoundSubCategory","soundPitch","setSoundPitch","soundFile","setSoundFile","uploadSound","displayMessage","uploadData","FormData","append","uploadedSound","pitch","secure_url","createdSound","mes","multiple","event","selectedFile","files","views","AddSound","switchToOverview","soundColor","setSoundColor","view","onChangeComplete","hex","CreateInstrument","setSounds","setAvailableSounds","setSelectedSound","openAddSoundSection","resetInstrument","saveInstrument","private","createdInstrument","newSound","updatedSounds","Help","alt","linkStyle","textLinkStyle","Header","paddingRight","App","exact","path","Boolean","window","location","hostname","authResponse","ReactDOM","document","getElementById","renderApp","navigator","serviceWorker","ready","registration","unregister","error","console"],"mappings":"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","file":"static/js/main.331cf301.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const ControlsPad = styled.div`\n  padding: 10px;\n`;\n\nexport const Tempo = styled.span`\n  font-size: 16px;\n`;\n\nexport const ExpandedMenuItem = styled.div`\n  margin: auto;\n  min-width: 300px;\n  max-width: 700px;\n  position: absolute;\n  z-index: 10;\n  top: 150px;\n  box-shadow: 3px 3px 5px #bbb;\n  background-color: white;\n  border: solid 1px black;\n  border-radius: 3px;\n  padding: 10px;\n`;\n\nexport const SongPostPlay = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  margin-top: -8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  visibility: hidden;\n`;\n\nexport const SongPost = styled.div`\n  position: relative;\n  margin: 30px 10px;\n  border: solid 1px black;\n  border-radius: 10px;\n  padding-top: 10px;\n  width: 80%;\n  &:hover ${SongPostPlay} {\n    visibility: visible;\n  }\n`;\n\nexport const Input = styled.input`\n  height: 20px;\n  width: ${(props) => props.width || \"100px\"};\n  margin: 10px;\n`;\n\nexport const Form = styled.form`\n  border: solid black 1px;\n  width: ${(props) => (props.width ? `${props.width}px` : \"100%\")};\n`;\n\nexport const Label = styled.label`\n  margin: 0px 5px;\n`;\n\nexport const Select = styled.select`\n  margin: 8px;\n  height: 26px;\n  width: ${(props) => props.width || \"110px\"};\n`;\n\nexport const Option = styled.option`\n  font-size: 12px;\n`;\n\nexport const ProfilePic = styled.img`\n  src: ${(props) => props.src}\n  height: 260px;\n  width: 260px;\n  object-fit: cover;\n  padding: 10px;\n`;\n\nexport const ColorSquare = styled.div`\n  height: 24px;\n  width: 24px;\n  margin: 4px;\n  border: solid black 1px;\n  background-color: ${(props) => props.backgroundColor || \"white\"};\n`;\n\nexport const SelectableText = styled.p`\n  padding: 3px;\n  margin: 0;\n  cursor: pointer;\n  color: ${(props) => (props.selected ? \"white\" : \"black\")};\n  background-color: ${(props) => (props.selected ? \"black\" : \"white\")};\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Button = styled.button`\n  height: 36px;\n  min-width: 36px;\n  margin: 8px;\n  padding: 0px 10px;\n  border-radius: 18px;\n  border: solid 1px black;\n  background-color: ${(props) => props.backgroundColor || \"white\"};\n  font-size: 16px;\n  box-shadow: 3px 3px 5px #bbb;\n  cursor: pointer;\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n`;\n\nexport const PlayButton = styled(Button)`\n  width: 60px;\n  background-color: #0f0;\n  color: #fff;\n  font-size: 20px;\n  font-weight: bold;\n`;\n\nexport const StopButton = styled(Button)`\n  width: 60px;\n  background-color: #f00;\n  color: #fff;\n  font-size: 20px;\n  font-weight: bold;\n`;\n\nexport const MenuButton = styled.div`\n  margin: 8px;\n  border: solid 2px black;\n  border-radius: 5px;\n  padding: 6px 12px;\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n`;\n\nexport const CategoryBtn = styled.button`\n  height: 30px;\n  min-width: 40px;\n  margin: 8px;\n  padding: 0px 10px;\n  border-radius: 15px;\n  border: solid 1px black;\n  color: ${(props) => (props.selected ? \"white\" : \"black\")};\n  background-color: ${(props) => (props.selected ? \"black\" : \"white\")};\n  font-size: 12px;\n  &:hover {\n    background-color: black;\n    color: white;\n    opacity: ${(props) => (props.selected ? 0.5 : 1)};\n  }\n`;\n\nexport const DeleteButton = styled.p`\n  line-height: 10px;\n  padding: 3px;\n  margin: 5px;\n  font-size: 25px;\n  color: red;\n  font-weight: bold;\n  cursor: pointer;\n  &:hover {\n    background-color: red;\n    color: white;\n  }\n`;\n\nconst IconButton = styled.button`\n  color: black;\n  backgroundcolor: white;\n  padding: 6px;\n  bordercolor: black;\n  border: 1px solid black;\n  border-radius: 50%;\n  cursor: pointer;\n`;\n","import styled from \"styled-components\";\n\nexport const Row = styled.div`\n  display: flex;\n  width: 100%;\n`;\n\nexport const SelectableRow = styled(Row)`\n  padding: ${(props) => props.padding || 0};\n  cursor: pointer;\n  &:hover {\n    background-color: black;\n    color: white;\n    opacity: ${(props) => (props.selected ? 0.5 : 1)};\n  }\n`;\n\nexport const AppIntroLayout = styled.div`\n  min-height: 60vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const Column = styled.div`\n  display: flex;\n  flex-direction: ${(props) => props.flexDirection || \"column\"};\n  justify-content: center;\n  min-height: 20px;\n  align-items: ${(props) => props.alignItems || \"flex-start\"};\n  justify-content: ${(props) => props.justifyContent || \"center\"};\n  flex: ${(props) => props.flex || 1};\n`;\n\nexport const HeaderLayout = styled.div`\n  height: 90px;\n  width: 100vw;\n  z-index: 10;\n  background-color: white;\n  display: flex;\n  position: fixed;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 4px 4px 5px #eee;\n`;\n\nexport const BackHeader = styled.div`\n  height: 110px;\n`;\n\nexport const MainScreen = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-direction: ${(props) => props.flexDirection || \"column\"};\n  align-items: ${(props) => props.alignItems || \"center\"};\n  justify-content: ${(props) => props.justifyContent || \"flex-start\"};\n  width: 100vw;\n  max-width: ${(props) => props.maxWidth || \"900px\"};\n`;\n\nexport const PageLayout = styled.div`\n  width: 90%;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flexStart;\n`;\n\nexport const BlankSpace = styled.div`\n  height: ${(props) => props.height || \"20px\"};\n`;\n","import styled from \"styled-components\";\n\nexport const Heading2 = styled.h2`\n  padding: 10px 0;\n  margin: 0 0 10px 0;\n`;\n\nexport const Heading3 = styled.h3`\n  padding: 10px 0;\n  margin: 0 0 4px 0;\n`;\n\nexport const SongHeader = styled.div`\n  margin-top: -32px;\n  padding: 0px 12px;\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const SongTitle = styled.p`\n  padding: 0px 10px;\n  background-color: white;\n  font-weight: ${(props) => (props.b ? \"bold\" : \"regular\")};\n  font-size: 12px;\n`;\n\nexport const LineLabel = styled.p`\n  font-size: 10px;\n  line-height: 10px;\n  width: 60px;\n`;\n\nexport const HeaderTitle = styled.h1`\n  padding: 0px 50px;\n  font-size: 56px;\n  text-shadow: 4px 4px #7799dd;\n`;\n\nexport const Alert = styled.p`\n  color: red;\n`;\n","import styled, { keyframes } from \"styled-components\";\n\nexport const MusicGrid = styled.div`\n  margin: 10px 20px;\n  padding-bottom: 10px;\n`;\n\nexport const Line = styled.div`\n  margin: 0;\n  display: flex;\n`;\n\nconst notesPlayingAnimation = keyframes`\n 0% { \n   height: 30px; \n   width: 30px;\n   margin: 3px; \n  }\n  20% { \n   height: 24px; \n   width: 24px;\n   margin: 6px; \n    }\n 30% { \n   height: 32px; \n    width: 32px;  \n    margin: 2px;\n}\n 100% { \n   height: 30px; \n   width: 30px;\n   margin: 3px; \n }\n`;\n\nexport const StyledNote = styled.div`\n  height: 30px;\n  width: 30px;\n  margin: 3px;\n  box-shadow: 3px 3px 5px ${(props) => props.color};\n  background-color: ${(props) => props.color};\n  opacity: ${(props) => (props.highlighted ? 0.7 : 1)};\n  cursor: pointer;\n  &:hover {\n    height: ${(props) => (props.clickable ? \"24px\" : \"30px\")};\n    width: ${(props) => (props.clickable ? \"24px\" : \"30px\")};\n    margin: ${(props) => (props.clickable ? \"6px\" : \"3px\")};\n  }\n  animation-name: ${(props) => props.animated && notesPlayingAnimation};\n  animation-duration: 0.8s;\n  animation-iteration-count: 1;\n`;\n\nexport const PageSquare = styled.div`\n  height: 8px;\n  width: 8px;\n  margin: 4px;\n  border: 2px solid black;\n  background-color: ${(props) => (props.selected ? \"black\" : \"white\")};\n  cursor: pointer;\n`;\n","import React from \"react\";\nimport { StyledNote } from \"../../ui-kit\";\n\nexport const Note = ({\n  notePosition,\n  status,\n  colors,\n  toggleActiveNote,\n  linePosition,\n  sounds,\n  highlighted,\n  animated,\n}) => {\n  const onNoteClick = () => {\n    toggleActiveNote(notePosition, linePosition, sounds);\n  };\n\n  const color = colors[status];\n\n  return (\n    <StyledNote\n      color={color}\n      highlighted={highlighted}\n      onClick={onNoteClick}\n      clickable={true}\n      animated={animated}\n    />\n  );\n};\n","import React from \"react\";\nimport { Note } from \"./Note\";\nimport { Line, LineLabel, DeleteButton } from \"../../ui-kit\";\n\nexport const CreateLine = ({\n  linePosition,\n  notes,\n  noteColors,\n  toggleActiveNote,\n  sounds,\n  highlightedNote,\n  label,\n  isDeleteLineVisible,\n  animatedNotes,\n  deleteLine,\n  currentPage,\n  lenghtOfPage,\n}) => {\n  const firstIndex = (currentPage - 1) * lenghtOfPage;\n  const lastIndex = currentPage * lenghtOfPage;\n\n  const displayNotes = notes.map((n, i) => {\n    if (i >= firstIndex && i < lastIndex) {\n      return (\n        <Note\n          key={i}\n          status={n}\n          notePosition={i}\n          colors={noteColors}\n          toggleActiveNote={toggleActiveNote}\n          linePosition={linePosition}\n          sounds={sounds}\n          highlighted={highlightedNote === i}\n          animated={animatedNotes.includes(i)}\n        />\n      );\n    }\n    return null;\n  });\n\n  return (\n    <Line>\n      <LineLabel>{label && label}</LineLabel>\n      {isDeleteLineVisible && (\n        <DeleteButton onClick={() => deleteLine(linePosition)}>x</DeleteButton>\n      )}\n      {displayNotes}\n    </Line>\n  );\n};\n","import React from \"react\";\nimport { Row, Column, PageSquare } from \"../../ui-kit\";\n\nexport const PageSquares = ({\n  currentPage,\n  selectPage,\n  pages,\n  clickable = true,\n}) => {\n  if (pages.length < 2) {\n    return null;\n  }\n\n  return (\n    <Row>\n      <Column flex={2}></Column>\n      <Column>\n        <Row>\n          {pages.map((el, i) => {\n            return (\n              <PageSquare\n                key={i}\n                selected={currentPage === i + 1}\n                onClick={clickable ? () => selectPage(i + 1) : null}\n              />\n            );\n          })}\n        </Row>\n      </Column>\n    </Row>\n  );\n};\n","import React from \"react\";\nimport {\n  Button,\n  PlayButton,\n  StopButton,\n  ControlsPad,\n  Tempo,\n} from \"../../ui-kit\";\n\nexport const PlayControls = ({\n  onPlayBtnPress,\n  onStopBtnPress,\n  isPlaying,\n  addOneBar,\n  removeOneBar,\n  isNotePlayedOnClick,\n  setIsNotePlayedOnClick,\n  tempo,\n  setTempo,\n  setTimeoutTempo,\n  numberOfBars,\n}) => {\n  const togglePlayOnClick = () => {\n    setIsNotePlayedOnClick(!isNotePlayedOnClick);\n  };\n\n  const onPlusTempoPress = () => {\n    setTempo(tempo + 5);\n    const calcTimeout = 60000 / tempo / 4;\n    setTimeoutTempo(calcTimeout);\n  };\n\n  const onMinusTempoPress = () => {\n    setTempo(tempo - 5);\n    const calcTimeout = 60000 / tempo / 4;\n    setTimeoutTempo(calcTimeout);\n  };\n\n  return (\n    <ControlsPad>\n      {isPlaying ? (\n        <StopButton onClick={onStopBtnPress}>[]</StopButton>\n      ) : (\n        <PlayButton onClick={onPlayBtnPress}>></PlayButton>\n      )}\n      <Button onClick={togglePlayOnClick}>\n        Play on click: {isNotePlayedOnClick ? \"yes\" : \"no\"}\n      </Button>\n      <Button onClick={removeOneBar}>-</Button>\n      <Tempo>Bars: {numberOfBars}</Tempo>\n      <Button onClick={addOneBar}>+</Button>\n      <Button onClick={onMinusTempoPress}>-</Button>\n      <Tempo>Tempo: {tempo}</Tempo>\n      <Button onClick={onPlusTempoPress}>+</Button>\n    </ControlsPad>\n  );\n};\n","import React from \"react\";\nimport { Button, ControlsPad } from \"../../ui-kit\";\nimport { Link } from \"react-router-dom\";\n\nexport const AdvControls = ({\n  toggleIsAddInstrumentVisible,\n  toggleIsSaveSongVisible,\n  toggleIsDeleteLineVisible,\n  user,\n}) => {\n  return (\n    <ControlsPad>\n      <Button onClick={toggleIsSaveSongVisible}>Save Song</Button>\n      {user && (\n        <Link to=\"/load-song\">\n          <Button>Load Song</Button>\n        </Link>\n      )}\n      <Button onClick={toggleIsAddInstrumentVisible}>Add Instrument</Button>\n      <Button onClick={toggleIsDeleteLineVisible}>Remove Instrument</Button>\n    </ControlsPad>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Bars } from \"svg-loaders-react\";\nimport {\n  CategoryBtn,\n  ExpandedMenuItem,\n  Column,\n  Row,\n  SelectableRow,\n} from \"../../ui-kit\";\nimport axios from \"axios\";\n\nexport const AddInstrument = ({\n  addInstrument,\n  toggleIsAddInstrumentVisible,\n}) => {\n  const [newInstruments, setNewInstruments] = useState([]);\n  const [searchCategory, setSearchCategory] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const categories = [\"Drums\", \"Bass\", \"Synth\", \"Guitar\"];\n\n  const fetchInstrumentsData = async (searchCat) => {\n    const searchParams = searchCat && {\n      params: { category: searchCat },\n    };\n    const { data } = await axios.get(\"/api/instrument\", searchParams);\n    if (data) {\n      setNewInstruments(data);\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    fetchInstrumentsData();\n  }, []);\n\n  const handleClick = (inst) => {\n    addInstrument(inst);\n    toggleIsAddInstrumentVisible();\n  };\n\n  const selectCategory = (cat) => {\n    fetchInstrumentsData(cat);\n    setSearchCategory(cat);\n  };\n\n  return (\n    <ExpandedMenuItem>\n      <Row>\n        <Column flexDirection=\"row\">\n          {categories.map((cat) => {\n            if (cat !== \"default\") {\n              return (\n                <CategoryBtn\n                  key={cat}\n                  selected={searchCategory === cat}\n                  onClick={() => selectCategory(cat)}>\n                  {cat}\n                </CategoryBtn>\n              );\n            }\n          })}\n        </Column>\n      </Row>\n      <Row>\n        <Column>\n          {loading && (\n            <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />\n          )}\n          {newInstruments.map((instrument) => {\n            return (\n              <SelectableRow\n                key={instrument.name}\n                padding=\"4px\"\n                onClick={() => handleClick(instrument)}>\n                <Column>{instrument.name}</Column>\n                <Column>{instrument.category}</Column>\n                <Column>{instrument.subCategory}</Column>\n              </SelectableRow>\n            );\n          })}\n        </Column>\n      </Row>\n    </ExpandedMenuItem>\n  );\n};\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ExpandedMenuItem, Button, Input } from \"../../ui-kit\";\n\nexport const SaveSong = ({ saveTheSong, user, toggleIsSaveSongVisible }) => {\n  const [title, setTitle] = useState(\"\");\n\n  const handleChange = (e) => {\n    setTitle(e.target.value);\n  };\n  return (\n    <ExpandedMenuItem>\n      {user ? (\n        <React.Fragment>\n          <p style={{ margin: 10 }}>\n            Name your song (if you modified an existing song, <br />\n            it will still be saved under as new one):\n          </p>\n          <Input\n            type=\"text\"\n            placeholder=\"Padapoum\"\n            value={title}\n            onChange={handleChange}\n          />\n          <div>\n            <Button onClick={() => saveTheSong(title)}>Save</Button>\n            <Button onClick={() => toggleIsSaveSongVisible()}>Cancel</Button>\n          </div>\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          <p style={{ margin: 10 }}>\n            To save a song, you need to have a profile, but let's do it! <br />\n            Please login or signup:\n          </p>\n\n          <div>\n            <Link to=\"/signup\">\n              <Button>Signup</Button>\n            </Link>\n            <Link to=\"/login\">\n              <Button>Login</Button>\n            </Link>\n          </div>\n        </React.Fragment>\n      )}\n    </ExpandedMenuItem>\n  );\n};\n","export const preparePartition = (instruments, length) => {\n  const partition = [];\n  instruments.forEach((el) => {\n    const emptyLine = [];\n    for (let i = 1; i <= length; i++) {\n      emptyLine.push(0);\n    }\n    partition.push(emptyLine);\n  });\n  return partition;\n};\n\nexport const prepareInstruments = (instruments) => {\n  const preparedInstruments = instruments.map((line) => {\n    const lineSounds = [];\n    const lineColors = [];\n    line.sounds.forEach((el) => {\n      if (el.url) {\n        lineSounds.push(new Audio(el.url));\n      } else {\n        lineSounds.push(null);\n      }\n      lineColors.push(el.color);\n    });\n    return {\n      id: line._id,\n      label: line.name,\n      colors: lineColors,\n      sounds: lineSounds,\n    };\n  });\n  return preparedInstruments;\n};\n\nexport const prepareOneInstrument = (instrument) => {\n  const lineSounds = [];\n  const lineColors = [];\n  instrument.sounds.forEach((el) => {\n    if (el.url) {\n      lineSounds.push(new Audio(el.url));\n    } else {\n      lineSounds.push(null);\n    }\n    lineColors.push(el.color);\n  });\n  return {\n    id: instrument._id,\n    label: instrument.name,\n    colors: lineColors,\n    sounds: lineSounds,\n  };\n};\n","/* Plays one beat of the music, \neach note of the beat being the note on each line corresponding \nto the selected index */\nexport const playBeat = (lines, partition, beatNumber) => {\n  partition.forEach((partitionLine, i) => {\n    if (partitionLine[beatNumber]) {\n      const soundIndex = partitionLine[beatNumber];\n      lines[i].sounds.forEach((el) => {\n        if (el) {\n          el.pause();\n          el.currentTime = 0;\n        }\n      });\n      lines[i].sounds[soundIndex].play();\n    }\n  });\n};\n","const SOUND_CATEGORIES = [\n  \"default\",\n  \"Drums\",\n  \"Bass\",\n  \"Synth\",\n  \"Guitar\",\n  \"Piano\",\n  \"Brass\",\n  \"Strings\",\n  \"Flute\",\n  \"Effects\",\n  \"Voice\",\n  \"Other\",\n];\n\nconst SUB_CATEGORIES = {\n  \"\": [\"\"],\n  default: [\"\"],\n  Drums: [\n    \"\",\n    \"Kick\",\n    \"Snare\",\n    \"Tom\",\n    \"Hi-hat\",\n    \"Cymbal\",\n    \"Vinnyl\",\n    \"Percussion\",\n    \"Clang\",\n    \"Other\",\n  ],\n  Bass: [\"\", \"Acoustic\", \"Fretless\", \"Electric\", \"Picked\", \"Synth\", \"Slap\"],\n  Synth: [\"\", \"Piano\", \"Ambiant\", \"Lead\", \"Pad\", \"Effect\", \"Electronic\"],\n  Guitar: [\n    \"\",\n    \"Acoustic\",\n    \"Clean\",\n    \"Overdrive\",\n    \"Distorsion\",\n    \"Muted\",\n    \"Jazz\",\n    \"Fuzz\",\n    \"Wah\",\n    \"Funk\",\n  ],\n  Piano: [\"\", \"Grand\", \"Acoustic\", \"Clavesin\"],\n  Brass: [\"\", \"Horn\", \"Trumpet\", \"Tuba\", \"Trombone\"],\n  Strings: [\"\", \"Violin\", \"Cello\", \"Double Bass\", \"Harp\", \"Mixed-strings\"],\n  Flute: [\"\", \"Flute\", \"Clarinet\", \"Pipeau\", \"Peruvian\", \"Bass\", \"Recorder\"],\n  Effects: [\"\", \"Scratch\", \"Noise\", \"Clang\", \"Electronic\", \"Mystic\"],\n  Voice: [\"\", \"Hi-sing\", \"Mid-sing\", \"Low-sing\", \"Talk\", \"Noize\"],\n  Other: [\"\"],\n};\n\nexport const getSubCategories = (category) => {\n  return SUB_CATEGORIES[category];\n};\n\nexport const getCategories = () => {\n  return SOUND_CATEGORIES;\n};\n","import React from \"react\";\nimport { CreateLine } from \"./CreateLine\";\nimport { MusicGrid, ExpandedMenuItem } from \"../../ui-kit\";\nimport { PageSquares } from \"../Shared/PageSquares\";\nimport { PlayControls } from \"./PlayControls\";\nimport { AdvControls } from \"./AdvControls\";\nimport { AddInstrument } from \"./AddInstrument\";\nimport { SaveSong } from \"./SaveSong\";\nimport {\n  playBeat,\n  preparePartition,\n  prepareInstruments,\n  prepareOneInstrument,\n} from \"../utils\";\nimport axios from \"axios\";\n\nconst START_PARTITION_LENGTH = 8;\nconst MAX_PARTITION_LENGTH = 64;\nconst DEFAULT_TEMPO = 120;\nconst DEFAULT_TIMEOUT = 60000 / 120 / 4;\nconst LENGTH_OF_PAGE = 16;\n\nexport class CreateSong extends React.Component {\n  state = {\n    partition: [],\n    isPlaying: false,\n    musicPlaying: null,\n    highlightedNote: [-1],\n    animatedNotes: [],\n    musicLines: [],\n    tempo: DEFAULT_TEMPO,\n    timeoutTempo: DEFAULT_TIMEOUT,\n    isNotePlayedOnClick: true,\n    isAddInstrumentVisible: false,\n    isSaveSongVisible: false,\n    bottomMessage: \"\",\n    isDeleteLineVisible: false,\n    currentPage: 1,\n    pages: [1],\n  };\n\n  componentWillUnmount() {\n    this.stopPlaying();\n  }\n\n  componentDidMount() {\n    const prepareNewMusic = async () => {\n      const { data } = await axios.get(\"/api/instrument/starter\");\n      const musicLines = prepareInstruments(data);\n      const newPartition = preparePartition(musicLines, START_PARTITION_LENGTH);\n      this.setState({ musicLines, partition: newPartition });\n    };\n\n    const prepareLoadedSong = async () => {\n      const songId = this.props.match.params.id;\n      const { data: loadedSong } = await axios.get(`/api/song/${songId}`);\n      const newInstruments = [...loadedSong.instruments];\n      const musicLines = prepareInstruments(newInstruments);\n      this.setState({\n        musicLines,\n        partition: loadedSong.partition,\n        tempo: loadedSong.tempo,\n        timeoutTempo: 60000 / loadedSong.tempo / 4,\n      });\n    };\n\n    if (this.props?.match?.params?.id) {\n      prepareLoadedSong();\n    } else {\n      prepareNewMusic();\n    }\n  }\n\n  addInstrument = (instr) => {\n    const length = this.state.partition[0] ? this.state.partition[0].length : 8;\n    const newPartitionRow = [];\n    for (let i = 1; i <= length; i++) {\n      newPartitionRow.push(0);\n    }\n    const newPartition = [...this.state.partition];\n    const newMusicLines = [...this.state.musicLines];\n    const preparedNewInstrument = prepareOneInstrument(instr);\n    newMusicLines.push(preparedNewInstrument);\n    newPartition.push(newPartitionRow);\n    this.setState({\n      musicLines: newMusicLines,\n      partition: newPartition,\n    });\n  };\n\n  toggleActiveNote = (col, row, sounds) => {\n    const updatedPartition = [...this.state.partition];\n    const depth = sounds.length;\n    const newIndex = (updatedPartition[row][col] + 1) % depth;\n    updatedPartition[row][col] = newIndex;\n    if (sounds[newIndex] && this.state.isNotePlayedOnClick) {\n      sounds[newIndex].play();\n    }\n    this.setState({ partition: updatedPartition });\n  };\n\n  playMusic = (musicLines, partition, tempo) => {\n    this.setState({ isPlaying: true, currentPage: 1 });\n    let counter = 0;\n    this.setState({\n      musicPlaying: setInterval(() => {\n        this.setState({\n          highlightedNote: counter,\n          animatedNotes: [counter - 1, counter, counter + 1],\n        });\n        playBeat(musicLines, partition, counter);\n        counter++;\n        if (counter >= partition[0].length) {\n          counter = 0;\n        }\n        if (\n          counter > this.state.currentPage * LENGTH_OF_PAGE ||\n          counter === 0\n        ) {\n          this.nextPage();\n        }\n      }, tempo),\n    });\n  };\n\n  stopPlaying = () => {\n    this.setState({ isPlaying: false });\n    clearInterval(this.state.musicPlaying);\n  };\n\n  onStopBtnPress = () => {\n    this.stopPlaying();\n  };\n\n  onPlayBtnPress = () => {\n    this.playMusic(\n      this.state.musicLines,\n      this.state.partition,\n      this.state.timeoutTempo\n    );\n  };\n\n  saveTheSong = async (title) => {\n    const songInstruments = this.state.musicLines.map((el) => {\n      return el.id;\n    });\n    const songData = {\n      title,\n      partition: this.state.partition,\n      tempo: this.state.tempo,\n      instruments: songInstruments,\n      creator: this.props.user._id || \"anonymous\",\n      creatorName: this.props.user.username || \"anonymous\",\n      posted: true,\n    };\n    await axios.post(\"api/song/\", songData);\n    this.setState({\n      isSaveSongVisible: false,\n      bottomMessage: `New song \"${title}\" successfully saved!`,\n    });\n    setTimeout(() => {\n      this.setState({ bottomMessage: \"\" });\n    }, 1500);\n  };\n\n  addOneBar = () => {\n    if (\n      this.state.partition.length &&\n      this.state.partition[0].length < MAX_PARTITION_LENGTH\n    ) {\n      const updatedPartition = [...this.state.partition];\n      updatedPartition.forEach((el) => {\n        el.push(0);\n      });\n      const p = this.state.pages.length;\n      const pagesCalc = Math.ceil(updatedPartition[0].length / LENGTH_OF_PAGE);\n      const pagesUpdate =\n        p < pagesCalc ? this.state.pages.concat([1]) : this.state.pages;\n      this.setState({ partition: updatedPartition, pages: pagesUpdate });\n    }\n  };\n\n  removeOneBar = () => {\n    const updatedPartition = [...this.state.partition];\n    const last = updatedPartition[0].length - 1;\n    updatedPartition.forEach((el) => {\n      el.splice(last, 1);\n    });\n    const p = this.state.pages.length;\n    const pagesCalc = Math.ceil(updatedPartition[0].length / LENGTH_OF_PAGE);\n    const pagesUpdate =\n      p > pagesCalc ? this.state.pages.slice(0, p - 1) : this.state.pages;\n    this.setState({ partition: updatedPartition, pages: pagesUpdate });\n  };\n\n  deleteLine = (lineNumber) => {\n    const updatedPartition = [...this.state.partition];\n    const updatedInstruments = [...this.state.musicLines];\n    updatedPartition.splice(lineNumber, 1);\n    updatedInstruments.splice(lineNumber, 1);\n    this.setState({\n      partition: updatedPartition,\n      musicLines: updatedInstruments,\n    });\n    this.toggleIsDeleteLineVisible();\n  };\n\n  selectPage = (pageNumber) => {\n    this.setState({ currentPage: pageNumber });\n  };\n\n  nextPage = () => {\n    const current = this.state.currentPage;\n    const total = this.state.pages.length;\n    const nextPage = current >= total ? 1 : this.state.currentPage + 1;\n    this.setState({ currentPage: nextPage });\n  };\n\n  setIsNotePlayedOnClick = (value) => {\n    this.setState({ isNotePlayedOnClick: value });\n  };\n\n  setTempo = (value) => {\n    this.setState({ tempo: value });\n  };\n\n  setTimeoutTempo = (value) => {\n    this.setState({ timeoutTempo: value });\n  };\n\n  toggleIsAddInstrumentVisible = () => {\n    this.setState({\n      isAddInstrumentVisible: !this.state.isAddInstrumentVisible,\n    });\n  };\n\n  toggleIsSaveSongVisible = () => {\n    this.setState({\n      isSaveSongVisible: !this.state.isSaveSongVisible,\n    });\n  };\n\n  toggleIsDeleteLineVisible = () => {\n    this.setState({\n      isDeleteLineVisible: !this.state.isDeleteLineVisible,\n    });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.isAddInstrumentVisible && (\n          <AddInstrument\n            addInstrument={this.addInstrument}\n            toggleIsAddInstrumentVisible={this.toggleIsAddInstrumentVisible}\n          />\n        )}\n        {this.state.isSaveSongVisible && (\n          <SaveSong\n            saveTheSong={this.saveTheSong}\n            toggleIsSaveSongVisible={this.toggleIsSaveSongVisible}\n            user={this.props.user}\n          />\n        )}\n        {this.state.bottomMessage && (\n          <ExpandedMenuItem>\n            <p>{this.state.bottomMessage}</p>\n          </ExpandedMenuItem>\n        )}\n        <PageSquares\n          pages={this.state.pages}\n          selectPage={this.selectPage}\n          currentPage={this.state.currentPage}\n        />\n        <div\n          style={{\n            minHeight: 300,\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}>\n          {!this.state.musicLines.length && (\n            <p>\n              No partition to display yet... Click on \"Add Lines\" to start\n              composing.\n            </p>\n          )}\n          <MusicGrid>\n            {this.state.musicLines &&\n              this.state.musicLines.map((line, i) => {\n                return (\n                  <CreateLine\n                    key={i}\n                    linePosition={i}\n                    label={line.label}\n                    notes={this.state.partition[i]}\n                    noteColors={line.colors}\n                    toggleActiveNote={this.toggleActiveNote}\n                    sounds={line.sounds}\n                    highlightedNote={this.state.highlightedNote}\n                    animatedNotes={this.state.animatedNotes}\n                    isDeleteLineVisible={this.state.isDeleteLineVisible}\n                    deleteLine={this.deleteLine}\n                    currentPage={this.state.currentPage}\n                    lenghtOfPage={LENGTH_OF_PAGE}\n                  />\n                );\n              })}\n          </MusicGrid>\n        </div>\n        <PlayControls\n          onPlayBtnPress={this.onPlayBtnPress}\n          onStopBtnPress={this.onStopBtnPress}\n          addOneBar={this.addOneBar}\n          removeOneBar={this.removeOneBar}\n          isPlaying={this.state.isPlaying}\n          tempo={this.state.tempo}\n          setTempo={this.setTempo}\n          setTimeoutTempo={this.setTimeoutTempo}\n          numberOfBars={\n            this.state.partition[0] ? this.state.partition[0].length : 0\n          }\n          isNotePlayedOnClick={this.state.isNotePlayedOnClick}\n          setIsNotePlayedOnClick={this.setIsNotePlayedOnClick}\n        />\n        <AdvControls\n          toggleIsAddInstrumentVisible={this.toggleIsAddInstrumentVisible}\n          toggleIsSaveSongVisible={this.toggleIsSaveSongVisible}\n          toggleIsDeleteLineVisible={this.toggleIsDeleteLineVisible}\n          user={this.props.user}\n        />\n      </React.Fragment>\n    );\n  }\n}\n","import React from \"react\";\nimport { StyledNote } from \"../../ui-kit\";\n\nexport const Note = ({ status, colors, highlighted, isAnimated }) => {\n  const color = colors[status];\n\n  return (\n    <StyledNote\n      color={color}\n      highlighted={highlighted}\n      animated={isAnimated}\n    />\n  );\n};\n","import React from \"react\";\nimport { Note } from \"./Note\";\nimport { Line } from \"../../ui-kit\";\n\nexport const DisplayLine = ({\n  notes,\n  noteColors,\n  highlightedNote,\n  animatedNotes,\n  lengthOfPage,\n  currentPage,\n}) => {\n  const firstIndex = (currentPage - 1) * lengthOfPage;\n  const lastIndex = currentPage * lengthOfPage;\n\n  const displayNotes = notes.map((n, i) => {\n    if (i >= firstIndex && i < lastIndex) {\n      return (\n        <Note\n          key={i}\n          status={n}\n          colors={noteColors}\n          highlighted={highlightedNote === i}\n          isAnimated={animatedNotes.includes(i)}\n        />\n      );\n    }\n  });\n\n  return <Line>{displayNotes}</Line>;\n};\n","import React from \"react\";\nimport { DisplayLine } from \"./DisplayLine\";\nimport { PageSquares } from \"../Shared/PageSquares\";\nimport { playBeat } from \"../utils\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay } from \"@fortawesome/free-solid-svg-icons\";\nimport { faStop } from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  MusicGrid,\n  SongPost,\n  SongPostPlay,\n  SongHeader,\n  SongTitle,\n  Row,\n} from \"../../ui-kit\";\n\nconst LENGTH_OF_PAGE = 16;\n\nconst iconsStyle = {\n  width: 40,\n  height: 40,\n  padding: \"10px 30px\",\n  border: \"solid 1px rgba(0, 0, 0, 0.6)\",\n  color: \"rgba(0, 0, 0, 0.7)\",\n  backgroundColor: \"rgba(250, 250, 250, 0.5)\",\n  borderRadius: 5,\n  zIndex: 5,\n};\n\nexport class DisplaySong extends React.Component {\n  state = {\n    isPlaying: false,\n    musicPlaying: null,\n    highlightedNote: -1,\n    animatedNotes: [-1, -1, -1],\n    timeoutTempo: 60000 / this.props.tempo / 4,\n    currentPage: 1,\n    pages: [1],\n  };\n\n  componentDidMount() {\n    const updatedPages = [];\n    const numberOfPages = Math.ceil(\n      this.props.partition[0].length / LENGTH_OF_PAGE\n    );\n    for (let i = 1; i <= numberOfPages; i++) {\n      updatedPages.push(1);\n    }\n    this.setState({ pages: updatedPages });\n  }\n\n  componentWillUnmount() {\n    this.stopPlaying();\n  }\n\n  playMusic = (musicLines, partition, tempo) => {\n    this.setState({ isPlaying: true, currentPage: 1 });\n    let counter = 0;\n    this.setState({\n      musicPlaying: setInterval(() => {\n        this.setState({\n          highlightedNote: counter,\n          animatedNotes: [counter - 1, counter, counter + 1],\n        });\n        playBeat(musicLines, partition, counter);\n        counter++;\n        if (counter >= partition[0].length) {\n          counter = 0;\n        }\n        if (\n          counter > this.state.currentPage * LENGTH_OF_PAGE ||\n          counter === 0\n        ) {\n          this.nextPage();\n        }\n      }, tempo),\n    });\n  };\n\n  stopPlaying = () => {\n    this.setState({ isPlaying: false });\n    clearInterval(this.state.musicPlaying);\n  };\n\n  nextPage = () => {\n    const current = this.state.currentPage;\n    const total = this.state.pages.length;\n    const nextPage = current >= total ? 1 : this.state.currentPage + 1;\n    this.setState({ currentPage: nextPage });\n  };\n\n  onSongClick = () => {\n    if (this.state.isPlaying) {\n      this.stopPlaying();\n    } else {\n      this.playMusic(\n        this.props.musicLines,\n        this.props.partition,\n        this.state.timeoutTempo\n      );\n    }\n  };\n\n  render() {\n    return (\n      <SongPost>\n        <SongPostPlay onClick={this.onSongClick}>\n          {this.state.isPlaying ? (\n            <FontAwesomeIcon icon={faStop} color=\"black\" style={iconsStyle} />\n          ) : (\n            <FontAwesomeIcon icon={faPlay} color=\"black\" style={iconsStyle} />\n          )}\n        </SongPostPlay>\n        <SongHeader>\n          <SongTitle b={true}>{this.props.title}</SongTitle>\n          <SongTitle>by {this.props.creatorName}</SongTitle>\n        </SongHeader>\n        <Row>\n          <PageSquares\n            pages={this.state.pages}\n            selectPage={this.selectPage}\n            currentPage={this.state.currentPage}\n            clickable={false}\n          />\n        </Row>\n        <MusicGrid>\n          {this.props.musicLines.map((line, i) => {\n            return (\n              <DisplayLine\n                key={i}\n                linePosition={i}\n                notes={this.props.partition[i]}\n                noteColors={line.colors}\n                sounds={line.sounds}\n                lengthOfPage={LENGTH_OF_PAGE}\n                currentPage={this.state.currentPage}\n                highlightedNote={this.state.highlightedNote}\n                animatedNotes={this.state.animatedNotes}\n              />\n            );\n          })}\n        </MusicGrid>\n      </SongPost>\n    );\n  }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown } from \"@fortawesome/free-solid-svg-icons\";\nimport { Row, Column, Heading2, AppIntroLayout, Button } from \"../../ui-kit\";\n\nexport const AppIntro = () => {\n  const chevronStyle = {\n    padding: 4,\n    paddingTop: 32,\n    width: 40,\n    height: 40,\n  };\n  return (\n    <AppIntroLayout>\n      <Row>\n        <Column justifyContent=\"center\" alignItems=\"center\">\n          <Heading2>Welcome to Boom-Tchak!</Heading2>\n        </Column>\n      </Row>\n      <Row>\n        <Column justifyContent=\"center\" alignItems=\"center\">\n          <p style={{ margin: 0, padding: 8 }}>\n            The app to discover and create nice music loops.\n          </p>\n          <p style={{ margin: 0, padding: 0 }}>\n            Want to start creating music? It's here >>{\" \"}\n            <Link to=\"/create\">\n              <Button>Create</Button>\n            </Link>\n          </p>\n          <p style={{ margin: 0, padding: 0 }}>\n            Need help? This way >>{\" \"}\n            <Link to=\"/help\">\n              <Button>Help</Button>\n            </Link>\n          </p>\n          <p style={{ margin: 0, padding: 8 }}>\n            To check out some nice music loops, scroll down and click on the\n            songs\n          </p>\n        </Column>\n      </Row>\n      <Row>\n        <Column flexDirection=\"row\" justifyContent=\"center\" alignItems=\"center\">\n          <FontAwesomeIcon\n            icon={faChevronDown}\n            style={chevronStyle}\n            color=\"black\"\n          />\n          <FontAwesomeIcon\n            icon={faChevronDown}\n            style={chevronStyle}\n            color=\"black\"\n          />\n          <FontAwesomeIcon\n            icon={faChevronDown}\n            style={chevronStyle}\n            color=\"black\"\n          />\n        </Column>\n      </Row>\n    </AppIntroLayout>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Bars } from \"svg-loaders-react\";\nimport axios from \"axios\";\nimport { DisplaySong } from \"./DisplaySong\";\nimport { prepareInstruments } from \"../utils/instruments\";\nimport { AppIntro } from \"../InfoPages/AppIntro\";\nimport { BlankSpace } from \"../../ui-kit\";\n\nexport const SongsList = ({ isAppIntroDisplayed = false }) => {\n  const [songs, setSongs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [message, setMessage] = useState(\"\");\n\n  const loadSongs = async () => {\n    setLoading(true);\n    const { data: loadedSongs } = await axios.get(\n      `/api/song/posted/${currentPage}`,\n      {\n        page: 1,\n      }\n    );\n    if (!loadedSongs.length) {\n      setMessage(\"no more songs to load...\");\n      setLoading(false);\n      setTimeout(() => {\n        setMessage(\"\");\n      }, 2000);\n      return;\n    }\n    loadedSongs.forEach((song) => {\n      const preparedInstruments = prepareInstruments(song.instruments);\n      song.instruments = preparedInstruments;\n    });\n    setSongs([...songs, ...loadedSongs]);\n    setLoading(false);\n    setCurrentPage(currentPage + 1);\n  };\n\n  useEffect(() => {\n    loadSongs();\n  }, []);\n\n  const loadMore = () => {\n    loadSongs();\n  };\n\n  return (\n    <React.Fragment>\n      {isAppIntroDisplayed && <AppIntro />}\n      {songs.map((song) => {\n        return (\n          <DisplaySong\n            key={song._id}\n            title={song.title}\n            partition={song.partition}\n            musicLines={song.instruments}\n            tempo={song.tempo}\n            creatorName={song.creatorName}\n          />\n        );\n      })}\n      {loading ? (\n        <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />\n      ) : message ? (\n        <p>{message}</p>\n      ) : (\n        <p onClick={loadMore}>loadMore</p>\n      )}\n      <BlankSpace height=\"100px\" />\n    </React.Fragment>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Bars } from \"svg-loaders-react\";\nimport { PageLayout, SelectableText, Button, Heading2, Column } from \"../../ui-kit\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport const LoadSong = (props) => {\n  const [songsList, setSongsList] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedSong, setSelectedSong] = useState(null);\n  const [message, setMessage] = useState(\"\");\n\n  const fetchData = async () => {\n    setLoading(true);\n    const { data } = await axios.get(`/api/song/creator/${props.user._id}`);\n    if (data) {\n      setSongsList(data);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const deleteSong = async (songId) => {\n    const response = await axios.delete(`/api/song/${songId}`);\n    setMessage(response.message);\n    fetchData();\n    setTimeout(() => {\n      setMessage(\"\");\n    }, 1500);\n  };\n\n  return (\n    <PageLayout>\n      <Heading2>Load Song</Heading2>\n      {loading && (\n        <Column alignItems=\"center\">\n          <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />\n        </Column>\n      )}\n      {songsList.map((el) => {\n        return (\n          <SelectableText\n            key={el._id}\n            selected={selectedSong === el._id}\n            onClick={() => {\n              setSelectedSong(el._id);\n            }}>\n            {el.title}\n          </SelectableText>\n        );\n      })}\n      <div>{message && <p>{message}</p>}</div>\n      {selectedSong && (\n        <div style={{ paddingTop: 20 }}>\n          <Link to={`song/${selectedSong}`}>\n            <Button>Load</Button>\n          </Link>\n          <Button onClick={() => deleteSong(selectedSong)}>Delete</Button>\n          <Link to={\"/\"}>\n            <Button>Cancel</Button>\n          </Link>\n        </div>\n      )}\n    </PageLayout>\n  );\n};\n","import axios from \"axios\";\n\nexport const signup = (username, password) => {\n  return axios\n    .post(\"/api/auth/signup\", { username, password })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nexport const login = (username, password) => {\n  return axios\n    .post(\"/api/auth/login\", { username, password })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nexport const logout = () => {\n  return axios\n    .delete(\"/api/auth/logout\")\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n","import React, { useState } from \"react\";\nimport { login } from \"./utils\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Input,\n  Button,\n  PageLayout,\n  Label,\n  Row,\n  Column,\n  Alert,\n  Heading2,\n  BlankSpace,\n} from \"../../ui-kit\";\n\nexport const Login = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const linkStyle = {\n    textDecoration: \"none\",\n    color: \"black\",\n  };\n\n  const handleLogin = async () => {\n    const data = await login(username, password);\n    if (data.message) {\n      setMessage(data.message);\n    } else {\n      props.setUser(data);\n      props.history.push(\"/\");\n    }\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === \"username\") {\n      setUsername(e.target.value);\n    }\n    if (e.target.name === \"password\") {\n      setPassword(e.target.value);\n    }\n  };\n\n  return (\n    <PageLayout>\n      <Row>\n        <Column />\n        <Column flex={1}>\n          <Heading2>Login</Heading2>\n          <Row>\n            <Column>\n              <Label htmlFor=\"username\">Username:</Label>\n            </Column>\n            <Column flex={2}>\n              <Input\n                type=\"text\"\n                name=\"username\"\n                width={\"100%\"}\n                id=\"username\"\n                value={username}\n                onChange={handleChange}\n              />\n            </Column>\n          </Row>\n          <Row>\n            <Column flex={1}>\n              <Label htmlFor=\"password\">Password:</Label>\n            </Column>\n            <Column flex={2}>\n              <Input\n                type=\"password\"\n                name=\"password\"\n                width={\"100%\"}\n                id=\"password\"\n                value={password}\n                onChange={handleChange}\n              />\n            </Column>\n          </Row>\n          <BlankSpace />\n          <Row>\n            <Column alignItems={\"center\"}>\n              {message && <Alert>{message}</Alert>}\n              <Button onClick={handleLogin}>Login</Button>\n              <p>No profile yet?</p>\n              <Link to=\"/signup\" style={linkStyle}>\n                signup\n              </Link>\n            </Column>\n          </Row>\n        </Column>\n        <Column />\n      </Row>\n    </PageLayout>\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  Input,\n  Button,\n  Label,\n  Row,\n  Column,\n  Alert,\n  PageLayout,\n  BlankSpace,\n  Heading2,\n} from \"../../ui-kit\";\nimport { Link } from \"react-router-dom\";\nimport { signup } from \"./utils\";\n\nexport const Signup = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const linkStyle = {\n    textDecoration: \"none\",\n    color: \"black\",\n  };\n\n  const handleSignup = async (e) => {\n    const data = await signup(username, password);\n    if (data.message) {\n      setMessage(data.message);\n    } else {\n      props.setUser(data);\n      props.history.push(\"/\");\n    }\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === \"username\") {\n      setUsername(e.target.value);\n    }\n    if (e.target.name === \"password\") {\n      setPassword(e.target.value);\n    }\n  };\n\n  return (\n    <PageLayout>\n      <Row>\n        <Column />\n        <Column flex={1}>\n          <Heading2>Signup</Heading2>\n          <Row>\n            <Column>\n              <Label htmlFor=\"username\">Username:</Label>\n            </Column>\n            <Column flex={2}>\n              <Input\n                type=\"text\"\n                name=\"username\"\n                width={\"100%\"}\n                id=\"username\"\n                value={username}\n                onChange={handleChange}\n              />\n            </Column>\n          </Row>\n          <Row>\n            <Column flex={1}>\n              <Label htmlFor=\"password\">Password:</Label>\n            </Column>\n            <Column flex={2}>\n              <Input\n                type=\"password\"\n                name=\"password\"\n                width={\"100%\"}\n                id=\"password\"\n                value={password}\n                onChange={handleChange}\n              />\n            </Column>\n          </Row>\n          <BlankSpace />\n          <Row>\n            <Column alignItems={\"center\"}>\n              {message && <Alert>{message}</Alert>}\n              <Button onClick={handleSignup}>Submit</Button>\n              <p>Already have a profile?</p>\n              <Link to=\"/login\" style={linkStyle}>\n                login\n              </Link>\n            </Column>\n          </Row>\n        </Column>\n        <Column />\n      </Row>\n    </PageLayout>\n  );\n};\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { logout } from \"./utils\";\nimport {\n  Row,\n  Column,\n  Button,\n  PageLayout,\n  ProfilePic,\n  Heading2,\n} from \"../../ui-kit\";\n\nexport const Profile = (props) => {\n  const [message, setMessage] = useState(\"\");\n\n  const onLogoutBtnClick = async () => {\n    await logout();\n    props.setUser(null);\n    props.history.push(\"/\");\n  };\n\n  const onCreateInstrumentBtnClick = () => {\n    const isUserAdmin = props.user && props.user.admin === true;\n    if (isUserAdmin) {\n      props.history.push(\"/create-instrument\");\n    } else {\n      setMessage(\"Coming soon, stay tuned...\");\n      setInterval(() => {\n        setMessage(\"\");\n      }, 2000);\n    }\n  };\n\n  if (!props.user) {\n    return (\n      <PageLayout>\n        <Heading2>No Profile...</Heading2>\n        <Row>\n          <Column>Please login or signup to access the profile page</Column>\n        </Row>\n      </PageLayout>\n    );\n  }\n\n  return (\n    <PageLayout>\n      <Row>\n        <Column>\n          <Heading2>Profile</Heading2>\n        </Column>\n      </Row>\n      <Row>\n        <Column flex={2}>\n          <ProfilePic\n            src={\n              \"https://images.unsplash.com/photo-1502377429547-835a416e4a90?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=667&q=80\"\n            }\n          />\n        </Column>\n        <Column justifyContent=\"flex-start\" flex={3}>\n          <h3>Hello, {props.user.username}</h3>\n          <p>Are you ready to create some funky beats today?</p>\n          <Row>\n            <Link to=\"/load-song\">\n              <Button>Load Song</Button>\n            </Link>\n            <Button onClick={onCreateInstrumentBtnClick}>\n              Create Instrument\n            </Button>\n            <Button onClick={onLogoutBtnClick}>Logout</Button>\n          </Row>\n          <Row>\n            <Column>{message && <p>{message}</p>}</Column>\n          </Row>\n        </Column>\n      </Row>\n    </PageLayout>\n  );\n};\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const ProtectedRoute = ({ component: Component, user, ...rest }) => {\n  return (\n    <Route\n      user={user}\n      {...rest}\n      render={(props) => {\n        if (user) {\n          return <Component user={user} {...rest} {...props} />;\n        } else {\n          return <Redirect to=\"/\" />;\n        }\n      }}\n    />\n  );\n};\n","import React from \"react\";\nimport { getCategories, getSubCategories } from \"../utils\";\nimport { Row, Column, Input, Select, Option } from \"../../ui-kit\";\n\nexport const Characteristics = ({\n  name,\n  setName,\n  category,\n  setCategory,\n  subCategory,\n  setSubCategory,\n}) => {\n  const instrumentCategories = getCategories();\n\n  return (\n    <React.Fragment>\n      <Row>\n        <Column flex={1}>Name:</Column>\n        <Column justifyContent=\"flex-start\" flex={2}>\n          <Input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        </Column>\n      </Row>\n      <Row>\n        <Column flex={1}>Category:</Column>\n        <Column justifyContent=\"flex-start\" flex={2}>\n          <Select\n            name=\"category\"\n            value={category}\n            onChange={(e) => setCategory(e.target.value)}>\n            {instrumentCategories.map((cat, i) => {\n              return (\n                <Option key={i} value={cat}>\n                  {cat !== \"default\" && cat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n      <Row>\n        <Column flex={1}>Sub-category:</Column>\n        <Column justifyContent=\"flex-start\" flex={2}>\n          <Select\n            name=\"sub-category\"\n            value={subCategory}\n            onChange={(e) => setSubCategory(e.target.value)}>\n            {getSubCategories(category).map((subCat, i) => {\n              return (\n                <Option key={i} value={subCat}>\n                  {subCat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n    </React.Fragment>\n  );\n};\n","import React from \"react\";\nimport { Row, Column, ColorSquare, Button } from \"../../ui-kit\";\n\nexport const InstrumentSoundsList = ({ sounds, addSound }) => {\n  const playSound = (url) => {\n    new Audio(url).play();\n  };\n\n  return (\n    <React.Fragment>\n      {sounds &&\n        sounds.map((el, i) => {\n          return (\n            <Row key={i}>\n              <Column>\n                <p style={{ margin: 0, padding: \"5px 0\" }}>\n                  {i === 0 ? \"Default\" : `${i}`}\n                </p>\n              </Column>\n              <Column>\n                <ColorSquare backgroundColor={el.color} />\n              </Column>\n              <Column flex={5}>\n                {el.url ? (\n                  <Button onClick={() => playSound(el.url)}>{el.name}</Button>\n                ) : (\n                  <p style={{ margin: 0, padding: \"5px 18px\" }}>No sound</p>\n                )}\n              </Column>\n            </Row>\n          );\n        })}\n      <Row>\n        <Column flex={2}></Column>\n        <Column justifyContent=\"flex-start\" flex={5}>\n          <Button backgroundColor=\"#0f0\" onClick={addSound}>\n            Add Sound\n          </Button>\n        </Column>\n      </Row>\n    </React.Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faVolumeUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { Bars } from \"svg-loaders-react\";\nimport { getCategories, getSubCategories } from \"../utils\";\nimport {\n  Row,\n  Column,\n  SelectableText,\n  Heading3,\n  Select,\n  Option,\n  Input,\n} from \"../../ui-kit\";\n\nexport const AvailableSoundsList = ({\n  loading,\n  availableSounds,\n  selectedSound,\n  selectSound,\n}) => {\n  const [filterName, setFilterName] = useState(\"\");\n  const [filterCategory, setFilterCategory] = useState(\"default\");\n  const [filterSubCategory, setFilterSubCategory] = useState(\"\");\n\n  const filteredSounds = availableSounds.filter((sound) => {\n    return (\n      (!filterName ||\n        sound.name\n          .toLocaleLowerCase()\n          .includes(filterName.toLocaleLowerCase())) &&\n      (filterCategory === \"default\" || filterCategory === sound.category) &&\n      (!filterSubCategory || filterSubCategory === sound.subCategory)\n    );\n  });\n\n  const volumeBtnStyle = {\n    margin: 2,\n    color: \"black\",\n    backgroundColor: \"white\",\n    padding: 6,\n    borderColor: \"black\",\n    borderWidth: 1,\n    borderStyle: \"solid\",\n    borderRadius: \"50%\",\n    cursor: \"pointer\",\n  };\n\n  const soundCategories = getCategories();\n\n  if (loading) {\n    return (\n      <Column alignItems=\"center\">\n        <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />\n      </Column>\n    );\n  }\n  return (\n    <React.Fragment>\n      <Row>\n        <Column></Column>\n        <Column flex={3}>\n          <Heading3>Name</Heading3>\n        </Column>\n        <Column flex={2}>\n          <Heading3>Category</Heading3>\n        </Column>\n        <Column flex={2}>\n          <Heading3>Sub-cat.</Heading3>\n        </Column>\n      </Row>\n      <Row>\n        <Column></Column>\n        <Column flex={3}>\n          <Input\n            type=\"text\"\n            value={filterName}\n            placeholder=\"Search...\"\n            onChange={(e) => setFilterName(e.target.value)}\n          />\n        </Column>\n        <Column flex={2}>\n          <Select\n            name=\"category\"\n            value={filterCategory}\n            onChange={(e) => setFilterCategory(e.target.value)}>\n            {soundCategories.map((cat, i) => {\n              return (\n                <Option key={i} value={cat}>\n                  {cat === \"default\" ? \"all\" : cat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n        <Column flex={2}>\n          <Select\n            name=\"sub-category\"\n            value={filterSubCategory}\n            onChange={(e) => setFilterSubCategory(e.target.value)}>\n            {getSubCategories(filterCategory).map((subCat, i) => {\n              return (\n                <Option key={i} value={subCat}>\n                  {subCat || \"all\"}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n      {filteredSounds.map((el) => {\n        const playSound = () => {\n          return new Audio(el.url).play();\n        };\n        return (\n          <Row key={el._id}>\n            <Column>\n              <FontAwesomeIcon\n                icon={faVolumeUp}\n                style={volumeBtnStyle}\n                onClick={playSound}\n              />\n            </Column>\n            <Column flex={3}>\n              <SelectableText\n                selected={selectedSound && selectedSound.url === el.url}\n                onClick={() => selectSound(el)}>\n                {el.name}\n              </SelectableText>\n            </Column>\n            <Column flex={2}>\n              <SelectableText\n                selected={selectedSound && selectedSound.url === el.url}\n                onClick={() => selectSound(el)}>\n                {el.category}\n              </SelectableText>\n            </Column>\n            <Column flex={2}>\n              <SelectableText\n                selected={selectedSound && selectedSound.url === el.url}\n                onClick={() => selectSound(el)}>\n                {el.subCategory}\n              </SelectableText>\n            </Column>\n          </Row>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { getCategories, getSubCategories } from \"../utils\";\nimport { Row, Column, Input, Button, Select, Option } from \"../../ui-kit\";\n\nexport const CreateSound = ({ setView, fetchData }) => {\n  const [soundName, setSoundName] = useState(\"\");\n  const [soundCategory, setSoundCategory] = useState(\"\");\n  const [soundSubCategory, setSoundSubCategory] = useState(\"\");\n  const [soundPitch, setSoundPitch] = useState(\"\");\n  const [soundFile, setSoundFile] = useState(null);\n  const [message, setMessage] = useState(\"\");\n\n  const fileSelectorHandler = (event) => {\n    const selectedFile = event.target.files[0];\n    setSoundFile(selectedFile);\n  };\n\n  const uploadSound = async () => {\n    if (!soundName || !soundCategory || !soundSubCategory) {\n      displayMessage(\"Please chose a name and select categories\");\n      return;\n    } else if (soundName.length < 5) {\n      displayMessage(\"The sound name must be at least 5 char.\");\n    } else if (!soundFile) {\n      displayMessage(\"please select a file to upload\");\n      return;\n    }\n    const uploadData = new FormData();\n    uploadData.append(\"sounds\", soundFile);\n    const uploadedSound = await axios.post(\"/api/sound/upload\", uploadData);\n    const createdSound = await axios.post(\"/api/sound\", {\n      name: soundName,\n      category: soundCategory,\n      subCategory: soundSubCategory,\n      pitch: soundPitch,\n      url: uploadedSound.data.secure_url,\n    });\n    if (createdSound.message) {\n      displayMessage(createdSound.message);\n      return;\n    }\n    setView(\"ADD\");\n    fetchData();\n  };\n\n  const soundCategories = getCategories();\n\n  const displayMessage = (mes) => {\n    setMessage(mes);\n    setInterval(() => {\n      setMessage(\"\");\n    }, 3000);\n  };\n  return (\n    <React.Fragment>\n      <Row>\n        <Column>Select file:</Column>\n        <Column flex={2}>\n          <Input\n            id=\"file\"\n            name=\"file\"\n            type=\"file\"\n            multiple=\"false\"\n            onChange={fileSelectorHandler}\n          />\n        </Column>\n      </Row>\n      <Row>\n        <Column>Name:</Column>\n        <Column flex={2}>\n          <Input\n            type=\"text\"\n            value={soundName}\n            onChange={(e) => setSoundName(e.target.value)}\n          />\n        </Column>\n      </Row>\n      <Row>\n        <Column>Category:</Column>\n        <Column flex={2}>\n          <Select\n            name=\"category\"\n            onChange={(e) => setSoundCategory(e.target.value)}>\n            {soundCategories.map((cat, i) => {\n              return (\n                <Option key={i} value={cat}>\n                  {cat !== \"default\" && cat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n      <Row>\n        <Column>Sub-Category:</Column>\n        <Column flex={2}>\n          <Select\n            name=\"sub-category\"\n            onChange={(e) => setSoundSubCategory(e.target.value)}>\n            {getSubCategories(soundCategory).map((subCat, i) => {\n              return (\n                <Option key={i} value={subCat}>\n                  {subCat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n      <Row>\n        <Column>Pitch (optional):</Column>\n        <Column flex={2}>\n          <Input\n            type=\"text\"\n            value={soundPitch}\n            onChange={(e) => setSoundPitch(e.target.value)}\n          />\n        </Column>\n      </Row>\n      <Row>\n        <Column></Column>\n        <Column flex={2}>{soundFile && soundFile.name}</Column>\n      </Row>\n      <Row>\n        <Column>{message && message}</Column>\n      </Row>\n      <Row>\n        <Column flex={1}>\n          <Button onClick={uploadSound}>Create Sound</Button>\n        </Column>\n      </Row>\n    </React.Fragment>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { AvailableSoundsList } from \"./AvailableSoundsList\";\nimport { SketchPicker } from \"react-color\";\nimport { CreateSound } from \"./CreateSound\";\nimport { Row, Button, Column, ColorSquare, Heading2 } from \"../../ui-kit\";\n\nconst views = {\n  ADD: \"ADD\",\n  UPLOAD: \"UPLOAD\",\n};\n\nexport const AddSound = ({\n  switchToOverview,\n  availableSounds,\n  selectedSound,\n  selectSound,\n  addSound,\n  loading,\n  fetchData,\n  displayMessage,\n}) => {\n  const [soundColor, setSoundColor] = useState(\"#aaa\");\n  const [view, setView] = useState(views.ADD);\n  const handleColorChange = (color) => {\n    setSoundColor(color.hex);\n  };\n\n  useEffect(() => {\n    selectSound(null);\n  }, []);\n\n  const handleAddSoundClick = () => {\n    if (!selectedSound || !selectedSound.name || !selectedSound.url) {\n      displayMessage(\"Please select a sound first\");\n      return;\n    }\n    addSound({\n      name: selectedSound.name,\n      color: soundColor,\n      url: selectedSound.url,\n    });\n  };\n\n  return (\n    <React.Fragment>\n      <Row>\n        <Column>\n          <Heading2>Add Sound:</Heading2>\n        </Column>\n        <Column flexDirection=\"row\" justifyContent=\"flex-end\">\n          {view === views.ADD && (\n            <Button\n              onClick={() => {\n                setView(views.UPLOAD);\n              }}>\n              Upload own sound\n            </Button>\n          )}\n          {view === views.UPLOAD && (\n            <Button\n              onClick={() => {\n                setView(views.ADD);\n              }}>\n              Search sound\n            </Button>\n          )}\n\n          <Button backgroundColor=\"#0f0\" onClick={handleAddSoundClick}>\n            Add\n          </Button>\n          <Button backgroundColor=\"#f00\" onClick={switchToOverview}>\n            Cancel\n          </Button>\n        </Column>\n      </Row>\n      <Row>\n        <Column flex={2} justifyContent=\"flex-start\">\n          {view === views.ADD && (\n            <React.Fragment>\n              <Row>\n                <Column\n                  flexDirection=\"row\"\n                  alignItems=\"center\"\n                  justifyContent=\"flex-start\">\n                  <p>Color:</p>\n                  <ColorSquare backgroundColor={soundColor} />\n                </Column>\n              </Row>\n              <SketchPicker\n                color={soundColor}\n                onChangeComplete={handleColorChange}\n              />\n            </React.Fragment>\n          )}\n        </Column>\n        <Column flex={3}>\n          {view === views.UPLOAD && (\n            <CreateSound setView={setView} fetchData={fetchData} />\n          )}\n          {view === views.ADD && (\n            <AvailableSoundsList\n              loading={loading}\n              availableSounds={availableSounds}\n              selectedSound={selectedSound}\n              selectSound={selectSound}\n            />\n          )}\n        </Column>\n      </Row>\n    </React.Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport { Characteristics } from \"./Characteristics\";\nimport { InstrumentSoundsList } from \"./InstrumentSoundsList\";\nimport { AddSound } from \"./AddSound\";\nimport axios from \"axios\";\nimport { Row, Column, Button, PageLayout, Heading2, Alert } from \"../../ui-kit\";\n\nconst views = {\n  OVERVIEW: \"OVERVIEW\",\n  ADD_SOUND: \"ADD_SOUND\",\n};\n\nexport const CreateInstrument = (props) => {\n  const [name, setName] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [subCategory, setSubCategory] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [sounds, setSounds] = useState([\n    { name: \"default\", color: \"#ddd\", url: \"\" },\n  ]);\n  const [view, setView] = useState(views.OVERVIEW);\n  const [loading, setLoading] = useState(false);\n  const [availableSounds, setAvailableSounds] = useState([]);\n  const [selectedSound, setSelectedSound] = useState(null);\n\n  const openAddSoundSection = async () => {\n    setView(views.ADD_SOUND);\n    await fetchData();\n  };\n\n  const fetchData = async () => {\n    setLoading(true);\n    const { data } = await axios.get(\"/api/sound\");\n    if (data) {\n      setAvailableSounds(data);\n      setLoading(false);\n    }\n  };\n\n  const displayMessage = (mes) => {\n    setMessage(mes);\n    setInterval(() => {\n      setMessage(\"\");\n    }, 2000);\n  };\n\n  const addSound = (sound) => {\n    if ((!sound.url, !sound.color)) {\n      displayMessage(\"Please select or upload a sound and pick a color\");\n      return;\n    }\n    const newSound = {\n      name: sound.name,\n      color: sound.color,\n      url: sound.url,\n    };\n    const updatedSounds = [...sounds, newSound];\n    setSounds(updatedSounds);\n    setView(views.OVERVIEW);\n  };\n\n  const switchToOverview = () => {\n    setView(views.OVERVIEW);\n  };\n\n  const selectSound = (sound) => {\n    setSelectedSound(sound);\n  };\n\n  const resetInstrument = () => {\n    setName(\"\");\n    setCategory(\"\");\n    setSubCategory(\"\");\n    setSounds([{ name: \"default\", color: \"#ddd\", url: \"\" }]);\n  };\n\n  const saveInstrument = async () => {\n    if (!name || !category || !subCategory) {\n      displayMessage(\"All fields must be filled\");\n      return;\n    }\n    if (sounds.length < 2) {\n      displayMessage(\"You must select at least 1 sound\");\n      return;\n    }\n    const createdInstrument = await axios.post(\"/api/instrument\", {\n      name,\n      category,\n      subCategory,\n      sounds,\n      creator: props.user._id,\n      private: false,\n    });\n    if (createdInstrument.message) {\n      displayMessage(createdInstrument.message);\n    } else if (createdInstrument.status === 200) {\n      displayMessage(`Success! You just created a new instrument!`);\n      resetInstrument();\n    }\n  };\n\n  const toggleHelp = () => {};\n\n  return (\n    <PageLayout>\n      <Row>{message && <Alert>{message}</Alert>}</Row>\n      {view === views.ADD_SOUND && (\n        <AddSound\n          switchToOverview={switchToOverview}\n          availableSounds={availableSounds}\n          selectedSound={selectedSound}\n          selectSound={selectSound}\n          loading={loading}\n          addSound={addSound}\n          fetchData={fetchData}\n          displayMessage={displayMessage}\n        />\n      )}\n      {view === views.OVERVIEW && (\n        <React.Fragment>\n          <Row>\n            <Column flex={1}>\n              <Heading2>Create Instrument</Heading2>\n            </Column>\n            <Column\n              flex={2}\n              flexDirection=\"row\"\n              alignItems=\"flex-end\"\n              justifyContent=\"flex-end\">\n              <Button onClick={saveInstrument}>Save Instrument</Button>\n              <Button onClick={resetInstrument}>Reset</Button>\n              <Button onClick={toggleHelp}>Help</Button>\n            </Column>\n          </Row>\n          <Row>\n            <Column flex={2}>\n              <Characteristics\n                name={name}\n                setName={setName}\n                category={category}\n                setCategory={setCategory}\n                subCategory={subCategory}\n                setSubCategory={setSubCategory}\n              />\n            </Column>\n            <Column flex={1}></Column>\n          </Row>\n          <Row>\n            <Column>\n              <h3>Sounds:</h3>\n            </Column>\n          </Row>\n          <Row>\n            <Column>\n              <InstrumentSoundsList\n                sounds={sounds}\n                addSound={openAddSoundSection}\n              />\n            </Column>\n          </Row>\n        </React.Fragment>\n      )}\n    </PageLayout>\n  );\n};\n","import React from \"react\";\nimport { Row, Column, PageLayout, Heading2, Heading3 } from \"../../ui-kit\";\n\nexport const Help = () => {\n  return (\n    <PageLayout>\n      <Row>\n        <Column>\n          <Heading2>Help</Heading2>\n        </Column>\n      </Row>\n      <Row>\n        <Column>\n          <p>\n            The 2 main sections of the app are \"Listen\", where you can browse,\n            check and play the music loops that are created, and \"Create\" where\n            you can create your own loops.\n          </p>\n        </Column>\n      </Row>\n      <Row>\n        <Column>\n          <Heading3>Create song</Heading3>\n          <p>\n            In the song creation space you see the music grid which is composed\n            of notes represented by gray squares, and a control panel at the\n            bottom:\n          </p>\n          <Row alignItems=\"center\" justifyContent=\"center\">\n            <Column alignItems=\"center\" justifyContent=\"center\">\n              <img src=\"images/music-grid-1.png\" alt=\"Music grid example\" />\n            </Column>\n          </Row>\n          <p>\n            On the music grid, the horizontal axis is the time, the vertical is\n            the array of instruments that are available to you. Let's first try\n            the default instruments.\n          </p>\n          <p>\n            By clicking on a square, it changes color as you activate a sound to\n            be played at a certain time in the loop. For example if you click on\n            the first square of the kick, a kick will be played at the\n            beginning.\n          </p>\n          <Row alignItems=\"center\" justifyContent=\"center\">\n            <Column alignItems=\"center\" justifyContent=\"center\">\n              <img src=\"images/music-grid-2.png\" alt=\"Music grid example\" />\n            </Column>\n          </Row>\n          <p>\n            Some instruments have only one sound, some have several, clicking\n            several times on the same square switches between different sounds.\n            Let's create a basic loop by switching on the notes (1 click) to\n            form the following pattern:\n          </p>\n          <Row alignItems=\"center\" justifyContent=\"center\">\n            <Column alignItems=\"center\" justifyContent=\"center\">\n              <img src=\"images/music-grid-3.png\" alt=\"Music grid example\" />\n            </Column>\n          </Row>\n          <p>\n            Press play and the magic happens! The notes are read as a sequence,\n            at a 120 tempo, 8 squares represent a second, so our loop is 1\n            second long.\n          </p>\n          <p>\n            To make the loop longer, press the \"+\" button next to \"bars\" and the\n            grid extends. When the grid is longer than 16 notes, it gets spread\n            on several pages that you can check and select using the page\n            selector:\n          </p>\n          <Row alignItems=\"center\" justifyContent=\"center\">\n            <Column alignItems=\"center\" justifyContent=\"center\">\n              <img\n                src=\"images/music-pages-selectors.png\"\n                alt=\"Page selectors example\"\n              />\n            </Column>\n          </Row>\n          <p>\n            You can add and remove instruments (grid lines) using the menu. Once\n            you are happy with your creation, click on \"save\" to keep it and\n            share it. To save, you will need to create a profile, but this takes\n            a couple of seconds. That's about it!\n          </p>\n        </Column>\n      </Row>\n      <Row>\n        <Column>\n          <Heading3>Have fun!</Heading3>\n        </Column>\n      </Row>\n    </PageLayout>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { HeaderLayout, HeaderTitle, MenuButton, Wrapper } from \"../../ui-kit\";\n\nconst linkStyle = {\n  textDecoration: \"none\",\n  color: \"black\",\n};\n\nconst textLinkStyle = {\n  textDecoration: \"none\",\n  color: \"black\",\n  padding: \"0 8px\",\n};\n\nexport const Header = (props) => {\n  return (\n    <HeaderLayout>\n      <Wrapper flexDirection=\"row\" justifyContent=\"space-between\">\n        <Link style={linkStyle} to=\"/\">\n          <HeaderTitle>Boum-Tchak!</HeaderTitle>\n        </Link>\n        <div\n          style={{ display: \"flex\", paddingRight: 20, alignItems: \"center\" }}>\n          <Link style={linkStyle} to=\"/listen\">\n            <MenuButton>Listen</MenuButton>\n          </Link>\n          <Link style={linkStyle} to=\"/create\">\n            <MenuButton>Create</MenuButton>\n          </Link>\n          {props.user ? (\n            <Link style={linkStyle} to=\"/profile\">\n              <MenuButton>Profile</MenuButton>\n            </Link>\n          ) : (\n            <React.Fragment>\n              <Link style={linkStyle} to=\"/signup\">\n                <MenuButton>Signup</MenuButton>\n              </Link>\n              <Link style={textLinkStyle} to=\"/login\">\n                Login\n              </Link>\n            </React.Fragment>\n          )}\n          <Link style={textLinkStyle} to=\"/help\">\n            Help\n          </Link>\n        </div>\n      </Wrapper>\n    </HeaderLayout>\n  );\n};\n","import React from \"react\";\nimport { CreateSong } from \"./components/CreateSong/CreateSong\";\nimport { SongsList } from \"./components/DisplaySong/SongsList\";\nimport { LoadSong } from \"./components/LoadSong/LoadSong\";\nimport { Login } from \"./components/Auth/Login\";\nimport { Signup } from \"./components/Auth/Signup\";\nimport { Profile } from \"./components/Auth/Profile\";\nimport { ProtectedRoute } from \"./components/Auth/ProtectedRoute\";\nimport { CreateInstrument } from \"./components/CreateInstrument/CreateInstrument\";\nimport { Help } from \"./components/InfoPages/Help\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { MainScreen, Wrapper, BackHeader } from \"./ui-kit\";\nimport { Header } from \"./components/Header/Header\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  state = {\n    user: this.props.user,\n  };\n\n  setUser = (user) => {\n    this.setState({\n      user: user,\n    });\n  };\n\n  render() {\n    return (\n      <MainScreen>\n        <Header user={this.state.user} />\n        <Wrapper>\n          <BackHeader />\n          <Switch>\n            <Route\n              exact\n              path=\"/create\"\n              render={(props) => (\n                <CreateSong user={this.state.user} {...props} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/help\"\n              render={(props) => <Help {...props} />}\n            />\n            <Route\n              exact\n              path=\"/song/:id\"\n              render={(props) => (\n                <CreateSong user={this.state.user} {...props} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/login\"\n              render={(props) => {\n                if (!this.state.user) {\n                  return <Login setUser={this.setUser} {...props} />;\n                } else {\n                  return <Redirect to=\"/\" />;\n                }\n              }}\n            />\n            <Route\n              exact\n              path=\"/signup\"\n              render={(props) => {\n                if (!this.state.user) {\n                  return <Signup setUser={this.setUser} {...props} />;\n                } else {\n                  return <Redirect to=\"/\" />;\n                }\n              }}\n            />\n            <ProtectedRoute\n              exact\n              path=\"/profile\"\n              user={this.state.user}\n              setUser={this.setUser}\n              component={Profile}\n            />\n            <ProtectedRoute\n              exact\n              path=\"/create-instrument\"\n              user={this.state.user}\n              setUser={this.setUser}\n              component={CreateInstrument}\n            />\n            <Route\n              exact\n              path=\"/\"\n              render={(props) => (\n                <SongsList isAppIntroDisplayed={true} {...props} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/listen\"\n              render={(props) => (\n                <SongsList isAppIntroDisplayed={false} {...props} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/load-song\"\n              render={(props) => {\n                if (this.state.user) {\n                  return <LoadSong user={this.state.user} {...props} />;\n                } else {\n                  return <Redirect to=\"/\" />;\n                }\n              }}\n            />\n          </Switch>\n        </Wrapper>\n      </MainScreen>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst renderApp = async () => {\n  const authResponse = await axios.get(\"/api/auth/loggedin\");\n  const user = authResponse.data;\n  ReactDOM.render(\n    <BrowserRouter>\n      <App user={user} />\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n  );\n};\nrenderApp();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}