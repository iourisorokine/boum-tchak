(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{126:function(e,t,n){e.exports=n(270)},132:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),c=n(12),o=n(0),l=n.n(o),i=n(116),u=n.n(i),s=(n(132),n(1)),m=n(2),d=n(4),p=n(3),f=n(13),g=n(10),h=n(14),b=n(15);function E(){var e=Object(h.a)(["\n  padding: 3px;\n  margin: 0px;\n  cursor: pointer;\n  color: ",";\n  background-color: ",";\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n"]);return E=function(){return e},e}function x(){var e=Object(h.a)(["\n  height: 24px;\n  width: 24px;\n  margin: 4px;\n  border: solid black 1px;\n  background-color: ",";\n"]);return x=function(){return e},e}function v(){var e=Object(h.a)(["\n  src: ","\n  height: 260px;\n  width: 260px;\n  object-fit: cover;\n  padding: 10px;\n"]);return v=function(){return e},e}function O(){var e=Object(h.a)(["\n  font-size: 12px;\n"]);return O=function(){return e},e}function y(){var e=Object(h.a)(["\n  margin: 8px;\n  height: 26px;\n  width: ",";\n"]);return y=function(){return e},e}function j(){var e=Object(h.a)(["\n  margin: 0px 5px;\n"]);return j=function(){return e},e}function S(){var e=Object(h.a)(["\n  border: solid black 1px;\n  width: ",";\n"]);return S=function(){return e},e}function k(){var e=Object(h.a)(["\n  height: 24px;\n  width: ",";\n  margin: 10px;\n  border: 1px solid black;\n  border-radius: 4px;\n"]);return k=function(){return e},e}function w(){var e=Object(h.a)(["\n  position: relative;\n  margin: 30px 10px;\n  border: solid 1px black;\n  border-radius: 10px;\n  padding-top: 10px;\n  width: 80%;\n  &:hover "," {\n    visibility: visible;\n  }\n"]);return w=function(){return e},e}function C(){var e=Object(h.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  margin-top: -8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  visibility: hidden;\n"]);return C=function(){return e},e}function I(){var e=Object(h.a)(["\n  margin: auto;\n  min-width: 400px;\n  max-width: 700px;\n  position: absolute;\n  z-index: 10;\n  top: 150px;\n  box-shadow: 3px 3px 5px #bbb;\n  background-color: white;\n  border: solid 1px black;\n  border-radius: 3px;\n  padding: 10px;\n"]);return I=function(){return e},e}function T(){var e=Object(h.a)(["\n  padding: 10px;\n"]);return T=function(){return e},e}var P=b.a.div(T()),N=b.a.div(I()),_=b.a.div(C()),A=b.a.div(w(),_),D=b.a.input(k(),(function(e){return e.width||"100px"})),M=(b.a.form(S(),(function(e){return e.width?"".concat(e.width,"px"):"100%"})),b.a.label(j())),L=b.a.select(y(),(function(e){return e.width||"110px"})),R=b.a.option(O()),V=b.a.img(v(),(function(e){return e.src})),B=b.a.div(x(),(function(e){return e.backgroundColor||"white"})),U=b.a.p(E(),(function(e){return e.selected?"white":"black"}),(function(e){return e.selected?"black":"white"}));function F(){var e=Object(h.a)(["\n  color: ",";\n  border: 1px solid #aaa;\n  margin: ",";\n  padding: ",";\n  background-color: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: background-color 0.5s, color 0.5s;\n  &:hover {\n    background-color: #888;\n    color: #fff;\n  }\n"]);return F=function(){return e},e}function z(){var e=Object(h.a)(["\n  color: ",";\n  border: 1px solid #aaa;\n  margin: 4px 4px 4px 8px;\n  background-color: #fff;\n  border-radius: 4px;\n  font-size: 12px;\n  &:hover {\n    background-color: #aaa;\n    color: #fff;\n  }\n"]);return z=function(){return e},e}function H(){var e=Object(h.a)(["\n  color: black;\n  backgroundcolor: white;\n  padding: 6px;\n  bordercolor: black;\n  border: 1px solid black;\n  border-radius: 50%;\n  cursor: pointer;\n"]);return H=function(){return e},e}function G(){var e=Object(h.a)(["\n  line-height: 10px;\n  padding: 3px;\n  margin: 5px;\n  font-size: 25px;\n  color: red;\n  font-weight: bold;\n  cursor: pointer;\n  &:hover {\n    background-color: red;\n    color: white;\n  }\n"]);return G=function(){return e},e}function W(){var e=Object(h.a)(["\n  height: 30px;\n  min-width: 40px;\n  margin: 8px;\n  padding: 0px 10px;\n  border-radius: 15px;\n  border: solid 1px black;\n  color: ",";\n  background-color: ",";\n  font-size: 12px;\n  &:hover {\n    background-color: black;\n    color: white;\n    opacity: ",";\n  }\n"]);return W=function(){return e},e}function J(){var e=Object(h.a)(["\n  margin: 8px;\n  border: solid 1px black;\n  border-radius: 5px;\n  padding: 6px 12px;\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n  transition: background-color 0.7s, color 0.7s;\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n"]);return J=function(){return e},e}function Y(){var e=Object(h.a)(["\n  width: 60px;\n  background-color: #f00;\n  color: #fff;\n  font-size: 20px;\n  font-weight: bold;\n"]);return Y=function(){return e},e}function q(){var e=Object(h.a)(["\n  width: 60px;\n  background-color: #0f0;\n  color: #fff;\n  font-size: 20px;\n  font-weight: bold;\n"]);return q=function(){return e},e}function K(){var e=Object(h.a)(["\n  height: 36px;\n  min-width: 36px;\n  margin: 8px;\n  padding: 0px 10px;\n  border-radius: 18px;\n  border: solid 1px black;\n  background-color: ",";\n  font-size: 14px;\n  box-shadow: 3px 3px 5px #bbb;\n  cursor: pointer;\n  transition: background-color 0.7s, color 0.7s;\n  &:hover {\n    background-color: ",";\n    color: white;\n  }\n"]);return K=function(){return e},e}var X=b.a.button(K(),(function(e){return e.backgroundColor||"white"}),(function(e){return e.hoverColor||"black"})),Q=Object(b.a)(X)(q()),$=Object(b.a)(X)(Y()),Z=b.a.div(J()),ee=b.a.button(W(),(function(e){return e.selected?"white":"black"}),(function(e){return e.selected?"black":"white"}),(function(e){return e.selected?.5:1})),te=b.a.p(G()),ne=(b.a.button(H()),b.a.button(z(),(function(e){return e.color||"#aaa"}))),ae=b.a.button(F(),(function(e){return e.color||"#888"}),(function(e){return e.margin||"4px 4px 4px 0px"}),(function(e){return e.padding||"default"}));function re(){var e=Object(h.a)(["\n  height: ",";\n"]);return re=function(){return e},e}function ce(){var e=Object(h.a)(["\n  width: 90%;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flexStart;\n"]);return ce=function(){return e},e}function oe(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n  width: 100vw;\n  max-width: ",";\n"]);return oe=function(){return e},e}function le(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return le=function(){return e},e}function ie(){var e=Object(h.a)(["\n  height: 110px;\n"]);return ie=function(){return e},e}function ue(){var e=Object(h.a)(["\n  height: 70px;\n  width: 100vw;\n  z-index: 10;\n  background-color: white;\n  display: flex;\n  position: fixed;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 4px 4px 5px #eee;\n"]);return ue=function(){return e},e}function se(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: center;\n  min-height: 20px;\n  padding: ",";\n  align-items: ",";\n  justify-content: ",";\n  flex: ",";\n"]);return se=function(){return e},e}function me(){var e=Object(h.a)(["\n  min-height: 60vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return me=function(){return e},e}function de(){var e=Object(h.a)(["\n  padding: ",";\n  cursor: pointer;\n  color: ",";\n  background-color: ",";\n  &:hover {\n    background-color: ",";\n    color: ",";\n    opacity: ",";\n  }\n"]);return de=function(){return e},e}function pe(){var e=Object(h.a)(["\n  padding: ",";\n  display: flex;\n  width: 100%;\n"]);return pe=function(){return e},e}var fe=b.a.div(pe(),(function(e){return e.padding||0})),ge=Object(b.a)(fe)(de(),(function(e){return e.padding||0}),(function(e){return e.selected?"white":"black"}),(function(e){return e.selected?"black":e.bgColor||"white"}),(function(e){return e.noHoverHighlight&&!e.selected?"white":"black"}),(function(e){return e.noHoverHighlight&&!e.selected?"black":"white"}),(function(e){return e.selected?.5:1})),he=b.a.div(me()),be=b.a.div(se(),(function(e){return e.flexDirection||"column"}),(function(e){return e.padding||0}),(function(e){return e.alignItems||"flex-start"}),(function(e){return e.justifyContent||"center"}),(function(e){return e.flex||1})),Ee=b.a.div(ue()),xe=b.a.div(ie()),ve=b.a.div(le()),Oe=b.a.div(oe(),(function(e){return e.flexDirection||"column"}),(function(e){return e.alignItems||"center"}),(function(e){return e.justifyContent||"flex-start"}),(function(e){return e.maxWidth||"900px"})),ye=b.a.div(ce()),je=b.a.div(re(),(function(e){return e.height||"20px"}));function Se(){var e=Object(h.a)(["\n  color: red;\n"]);return Se=function(){return e},e}function ke(){var e=Object(h.a)(["\n  padding: 0px 50px;\n  font-size: 36px;\n  text-shadow: 4px 4px #7799dd;\n"]);return ke=function(){return e},e}function we(){var e=Object(h.a)(["\n  font-size: 12px;\n"]);return we=function(){return e},e}function Ce(){var e=Object(h.a)(["\n  font-size: 12px;\n  line-height: 12px;\n  padding: ",";\n  margin: 0;\n"]);return Ce=function(){return e},e}function Ie(){var e=Object(h.a)(["\n  font-size: 10px;\n  line-height: 10px;\n  width: ",";\n"]);return Ie=function(){return e},e}function Te(){var e=Object(h.a)(["\n  padding: 0px 10px;\n  background-color: white;\n  font-weight: ",";\n  font-size: 12px;\n"]);return Te=function(){return e},e}function Pe(){var e=Object(h.a)(["\n  margin-top: -32px;\n  padding: 0px 12px;\n  display: flex;\n  justify-content: space-between;\n"]);return Pe=function(){return e},e}function Ne(){var e=Object(h.a)(["\n  padding: 10px 0;\n  margin: 0 0 4px 0;\n"]);return Ne=function(){return e},e}function _e(){var e=Object(h.a)(["\n  padding: 10px 0;\n  margin: 0 0 10px 0;\n"]);return _e=function(){return e},e}var Ae=b.a.h2(_e()),De=b.a.h3(Ne()),Me=b.a.div(Pe()),Le=b.a.p(Te(),(function(e){return e.b?"bold":"regular"})),Re=b.a.p(Ie(),(function(e){return e.width||"70px"})),Ve=b.a.p(Ce(),(function(e){return e.padding||2})),Be=b.a.span(we()),Ue=b.a.h1(ke()),Fe=b.a.p(Se());function ze(){var e=Object(h.a)(["\n  border-bottom: 1px solid #aaa;\n  width: 138px;\n  margin: 0px 3px 12px 3px;\n  font-size: 10px;\n  color: #aaa;\n"]);return ze=function(){return e},e}function He(){var e=Object(h.a)(["\n  height: 8px;\n  width: 8px;\n  margin: 4px;\n  border-width: 2px;\n  border-style: solid;\n  border-radius: 50%;\n  border-color: ",";\n  background-color: ",";\n  cursor: pointer;\n"]);return He=function(){return e},e}function Ge(){var e=Object(h.a)(["\n  height: 30px;\n  width: 30px;\n  margin: 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  box-shadow: 3px 3px 5px ",";\n  background-color: ",";\n  opacity: ",";\n  cursor: pointer;\n  &:hover {\n    height: ",";\n    width: ",";\n    margin: ",";\n  }\n  animation-name: ",";\n  animation-duration: 0.8s;\n  animation-iteration-count: 1;\n"]);return Ge=function(){return e},e}function We(){var e=Object(h.a)(["\n 0% { \n   height: 30px; \n   width: 30px;\n   margin: 3px; \n  }\n  20% { \n   height: 24px; \n   width: 24px;\n   margin: 6px; \n    }\n 30% { \n   height: 32px; \n    width: 32px;  \n    margin: 2px;\n}\n 100% { \n   height: 30px; \n   width: 30px;\n   margin: 3px; \n }\n"]);return We=function(){return e},e}function Je(){var e=Object(h.a)(["\n  margin: 0;\n  display: flex;\n"]);return Je=function(){return e},e}function Ye(){var e=Object(h.a)(["\n  margin: 10px 20px;\n  padding-bottom: 10px;\n"]);return Ye=function(){return e},e}var qe=b.a.div(Ye()),Ke=b.a.div(Je()),Xe=Object(b.b)(We()),Qe=b.a.div(Ge(),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.highlighted?.7:1}),(function(e){return e.clickable?"24px":"30px"}),(function(e){return e.clickable?"24px":"30px"}),(function(e){return e.clickable?"6px":"3px"}),(function(e){return e.animated&&Xe})),$e=b.a.div(He(),(function(e){return e.color||"black"}),(function(e){return e.selected?e.color||"black":"white"})),Ze=b.a.div(ze()),et=Object(o.createContext)(),tt=et,nt=function(e){var t=e.clickable,n=void 0===t||t,a=e.createMode,r=Object(o.useContext)(et),c=r.currentPage,i=r.setCurrentPage,u=r.pages;return u.length<2&&!a?null:l.a.createElement(fe,null,l.a.createElement(be,{flex:2}),l.a.createElement(be,null,l.a.createElement(fe,null,u.map((function(e,t){return l.a.createElement($e,{key:t,selected:c===t+1,onClick:n?function(){return i(t+1)}:null})})))))},at=n(16),rt=function(e,t){if(!e)return[];var n=[];return e.forEach((function(){for(var e=[],a=1;a<=t;a++)e.push(0);n.push(e)})),n},ct=function(e){if(e.length)return e.map((function(e){return"Tone Synth"===e.category?ot(e):lt(e)}))},ot=function(e){for(var t=e.colors,n=e.pitches,a=[],r=0;r<n.length;r++)a.push({});return{id:e._id,label:e.name,isToneJs:!0,colors:t,sounds:a,pitches:n}},lt=function(e){var t=[],n=[];return e.sounds.forEach((function(e){e||(t.push({name:"default",url:""}),n.push("")),e.url?(t.push(new Audio(e.url)),n.push(e.pitch||"")):(t.push(null),n.push(""))})),{id:e._id,label:e.name,colors:e.colors,isToneJs:!1,sounds:t,pitches:n}},it=n(56),ut=(new it.a).toDestination(),st=function(e,t,n){t.forEach((function(t,a){if(t[n]){var r=t[n];if(e[a].isToneJs){if(e[a].isToneJs){var c=it.b();ut.triggerAttackRelease(e[a].pitches[r],"8n",c-.1)}}else e[a].sounds.forEach((function(e){e&&(e.pause(),e.currentTime=0)})),e[a].sounds[r].play()}}))},mt=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=it.b(),ut.triggerAttackRelease(t,"8n",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=["default","Drums","Bass","Synth","Guitar","Tone Synth","Piano","Brass","Strings","Flute","Effects","Voice","Other"],pt={"":[""],default:[""],Drums:["","Kick","Snare","Tom","Hi-hat","Cymbal","Vinnyl","Percussion","Clang","Other"],Bass:["","Acoustic","Fretless","Electric","Picked","Synth","Slap"],Synth:["","Piano","Ambiant","Lead","Pad","Effect","Electronic"],Guitar:["","Acoustic","Clean","Overdrive","Distorsion","Muted","Jazz","Fuzz","Wah","Funk"],"Tone Synth":["","Synth","AMSynth","FMSynth"],Piano:["","Grand","Acoustic","Clavesin"],Brass:["","Horn","Trumpet","Tuba","Trombone"],Strings:["","Violin","Cello","Double Bass","Harp","Mixed-strings"],Flute:["","Flute","Clarinet","Pipeau","Peruvian","Bass","Recorder"],Effects:["","Scratch","Noise","Clang","Electronic","Mystic"],Voice:["","Hi-sing","Mid-sing","Low-sing","Talk","Noize"],Other:[""]},ft=function(e){return pt[e]},gt=function(){return dt},ht=function(){var e=["Anonymous","Mysterious","Unknown","Forgotten"],t=["Musician","Troubadour","Creator","Barde","Artist","Beats Maker","Sounds Juggler"],n=function(e){return Math.floor(Math.random()*e)};return"".concat(e[n(e.length)]," ").concat(t[n(t.length)])},bt=n(24),Et=n(25),xt={width:16,height:16},vt=function(e){var t=e.onStopBtnPress,n=e.addOneBar,a=e.removeOneBar,r=e.onPlayBtnPress,c=e.user,i=Object(o.useContext)(et),u=i.tempo,s=i.setTempo,m=i.isPlaying,d=i.partition,p=i.setTimeoutTempo,f=i.isNotePlayedOnClick,g=i.isSaveSongVisible,h=i.setIsSaveSongVisible,b=i.setIsNotePlayedOnClick,E=d[0]?d[0].length:0;return l.a.createElement(P,null,m?l.a.createElement($,{onClick:t},l.a.createElement(bt.a,{icon:Et.c,color:"white",style:xt})):l.a.createElement(Q,{onClick:r},l.a.createElement(bt.a,{icon:Et.b,color:"white",style:xt})),l.a.createElement(X,{onClick:function(){b(!f)}},"Play on click: ",f?"yes":"no"),l.a.createElement(X,{onClick:a},"-"),l.a.createElement(Be,null,"Notes: ",E),l.a.createElement(X,{onClick:n},"+"),l.a.createElement(X,{onClick:function(){s(u-5),p(6e4/u/4)}},"-"),l.a.createElement(Be,null,"Tempo: ",u),l.a.createElement(X,{onClick:function(){s(u+5),p(6e4/u/4)}},"+"),l.a.createElement(X,{onClick:function(){return h(!g)}},"Save"),c&&l.a.createElement(at.b,{to:"/load-song"},l.a.createElement(X,null,"Load")))},Ot=n(34),yt=n(125),jt=n(17),St=n.n(jt),kt=function(e){var t=e.addInstrument,n=Object(o.useState)([]),a=Object(g.a)(n,2),i=a[0],u=a[1],s=Object(o.useState)(null),m=Object(g.a)(s,2),d=m[0],p=m[1],h=Object(o.useState)(!1),b=Object(g.a)(h,2),E=b[0],x=b[1],v=Object(o.useState)([]),O=Object(g.a)(v,2),y=O[0],j=O[1],S=Object(o.useContext)(et).toggleIsAddInstrumentVisible,k=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,o,l,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t&&{params:{category:t}},e.next=3,St.a.get("/api/instrument",a);case 3:c=e.sent,(o=c.data)&&(u(o),n&&(l=o.map((function(e){return e.category})),i=Object(f.a)(new Set(l)),j(i))),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){x(!0),k(null,!0)}),[]);var w=function(e){var n=e.index,a=e.style,r=i[n];return l.a.createElement(ge,{style:a,bgColor:n%2===0?"#eee":"#fff",padding:"4px 0 4px 0",onClick:function(){return t(r),void S()}},l.a.createElement(be,{flex:2},l.a.createElement(Ve,null,r.name)),l.a.createElement(be,null,l.a.createElement(Ve,null,r.category)),l.a.createElement(be,null,l.a.createElement(Ve,null,r.subCategory)))};return l.a.createElement(N,null,l.a.createElement(fe,{padding:"10px 12px 4px 12px"},l.a.createElement(De,null,"Add Instrument")),l.a.createElement(fe,{padding:"10px 12px 4px 12px"},l.a.createElement(be,{flexDirection:"row"},y.map((function(e){if("default"!==e)return l.a.createElement(ee,{key:e,selected:d===e,onClick:function(){return function(e){k(e),p(e)}(e)}},e)})))),E&&l.a.createElement(be,{justifyContent:"center",alignItems:"center"},l.a.createElement(Ot.Bars,{width:100,height:50,fill:"#000",stroke:"#000"})),l.a.createElement(fe,{padding:"4px 12px 0 12px"},l.a.createElement(be,null,l.a.createElement(yt.a,{height:260,width:380,itemCount:i.length,itemSize:30},w))),l.a.createElement(fe,{padding:"20px 0 10px 0"},l.a.createElement(be,{alignItems:"center"},l.a.createElement(X,{hoverColor:"red",onClick:S},"Cancel"))))},wt=function(e){var t=e.saveTheSong,n=e.user,a=e.toggleIsSaveSongVisible,r=Object(o.useState)(""),c=Object(g.a)(r,2),i=c[0],u=c[1];return l.a.createElement(N,null,l.a.createElement(l.a.Fragment,null,n?l.a.createElement("p",{style:{margin:10}},"Name your song (if you modified an existing song, ",l.a.createElement("br",null),"it will still be saved under as new one):"):l.a.createElement("p",{style:{margin:10}},"You don't have a user account yet, therefore your song ",l.a.createElement("br",null),"will be published as annonymous... to bad!",l.a.createElement("br",null),"Please create a user profile before saving next time ",l.a.createElement("br",null),"Name your song:"),l.a.createElement(D,{type:"text",placeholder:"My Supa Song...",value:i,width:"260px",onChange:function(e){u(e.target.value)}}),l.a.createElement("div",null,l.a.createElement(X,{onClick:function(){return t(i)}},"Save"),l.a.createElement(X,{onClick:function(){return a()}},"Cancel"))))},Ct={START_PARTITION_LENGTH:8,MAX_PARTITION_LENGTH:64,DEFAULT_TEMPO:120,DEFAULT_TIMEOUT:125,DEFAULT_SOUND_ID:"5fba8681963aad73cd4ce0b6"},It=function(e){var t=e.notePosition,n=e.color,a=e.status,r=e.toggleActiveNote,c=e.linePosition,o=e.sounds,i=e.highlighted,u=e.animated,s=e.pitches,m=s[a];return l.a.createElement(Qe,{color:n,highlighted:i,onClick:function(){r(t,c,o,s)},clickable:!0,animated:u},m||"")},Tt=function(e){var t=e.linePosition,n=e.notes,a=e.noteColors,r=e.toggleActiveNote,c=e.sounds,i=e.pitches,u=e.highlightedNote,s=e.label,m=e.animatedNotes,d=e.currentPage,p=e.lenghtOfPage,f=Object(o.useContext)(et),g=f.isRemoveInstrumentVisible,h=f.deleteLine,b=(d-1)*p,E=d*p,x=(null===n||void 0===n?void 0:n.length)?n.map((function(e,n){return n>=b&&n<E?l.a.createElement(It,{key:n,status:e,notePosition:n,color:a[e],toggleActiveNote:r,linePosition:t,sounds:c,pitches:i,highlighted:u===n,animated:m.includes(n)}):null})):[];return l.a.createElement(Ke,null,l.a.createElement(Re,{width:"90px"},s&&s),g&&l.a.createElement(te,{onClick:function(){return h(t)}},"x"),x)},Pt=function(e){var t=e.totalLength,n=e.lengthOfPage,a=e.isLastPage,r=e.currentPage,c=Object(o.useContext)(et),i=c.copyOneBar,u=c.copiedPartitionBar,s=c.pasteOneBar,m=n/4,d=[],p=a&&!(t&&t%n===0)?t%n:t>n?n:t;if(n&&n>=4)for(var f=function(e){var t=(r-1)*m+e/4-1;d.push(l.a.createElement(Ze,{key:t},"1 bar",l.a.createElement(ne,{onClick:function(){return i(t)}},"copy"),u&&l.a.createElement(ne,{onClick:function(){return s(t)}},"paste")))},g=4;g<=p;g+=4)f(g);return l.a.createElement(fe,null,l.a.createElement(Re,{width:"90px"}),d)},Nt=function(e){var t=e.partition,n=e.lengthOfPage,a=e.currentPage,r=e.pages,c=e.instruments,o=e.toggleActiveNote,i=e.highlightedNote,u=e.animatedNotes,s=e.toggleIsAddInstrumentVisible,m=e.toggleIsRemoveInstrumentVisible;return l.a.createElement("div",{style:{minHeight:300,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},l.a.createElement(qe,null,l.a.createElement(Pt,{totalLength:t[0]&&t[0].length,lengthOfPage:n,isLastPage:a===r.length,currentPage:a}),c.length?l.a.createElement(l.a.Fragment,null,c.map((function(e,r){return l.a.createElement(Tt,{key:r,linePosition:r,label:e.label,notes:t[r],noteColors:e.colors,toggleActiveNote:o,sounds:e.sounds,pitches:e.pitches,highlightedNote:i,animatedNotes:u,currentPage:a,lenghtOfPage:n})})),l.a.createElement(fe,{padding:"16px 0px 0px 0px"},l.a.createElement(ae,{padding:"2px 16px 2px 16px",onClick:s},"+ Add ",l.a.createElement("br",null),"instrument"),l.a.createElement(ae,{padding:"2px 16px 2px 16px",onClick:m},"- Remove ",l.a.createElement("br",null),"instrument"))):l.a.createElement(ae,{padding:"8px 8px 8px 8px",onClick:s},"No partition to display yet... Click here to add your first instrument")))},_t=function(e){var t=Object(o.useState)(""),n=Object(g.a)(t,2),a=n[0],i=n[1],u=Object(o.useState)(-1),s=Object(g.a)(u,2),m=s[0],d=s[1],p=l.a.useRef(null),h=window.innerWidth>=800?16:12,b=Object(o.useContext)(et),E=b.tempo,x=b.setTempo,v=b.setIsPlaying,O=b.instruments,y=b.setInstruments,j=b.partition,S=b.setPartition,k=b.setTimeoutTempo,w=b.isNotePlayedOnClick,C=b.isAddInstrumentVisible,I=b.toggleIsAddInstrumentVisible,T=b.toggleIsRemoveInstrumentVisible,P=b.isSaveSongVisible,_=b.setIsSaveSongVisible,A=b.animatedNotes,D=b.timeoutTempo,M=b.setAnimatedNotes,L=b.currentPage,R=b.setCurrentPage,V=b.pages,B=b.setPages;Object(o.useEffect)((function(){var t,n,a=null===e||void 0===e||null===(t=e.match)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.id;return a?F(a):U(),function(){return z()}}),[]);var U=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.a.get("/api/instrument/starter");case 2:t=e.sent,n=t.data,a=ct(n),c=rt(a,Ct.START_PARTITION_LENGTH),y(a),S(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,o,l,i,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.a.get("/api/song/".concat(t));case 2:for(n=e.sent,a=n.data,c=Object(f.a)(a.instruments),o=ct(c),y(o),S(a.partition),x(a.tempo),k(6e4/a.tempo/4),l=Math.ceil(a.partition[0].length/h),i=[],u=1;u<=l;u++)i.push(1);B(i);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){v(!1),clearInterval(p.current)},H=function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c,o,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=O.map((function(e){return e.id})),l={title:n,partition:j,tempo:E,instruments:o,creator:(null===(a=e.user)||void 0===a?void 0:a._id)||void 0,creatorName:(null===(c=e.user)||void 0===c?void 0:c.username)||ht(),posted:!0},t.next=4,St.a.post("api/song/",l);case 4:_(!1),i('New song "'.concat(n,'" successfully saved!')),setTimeout((function(){i("")}),1500);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,C&&l.a.createElement(kt,{addInstrument:function(e){for(var t=j[0]?j[0].length:8,n=[],a=1;a<=t;a++)n.push(0);var r,c=Object(f.a)(j),o=Object(f.a)(O),l="Tone Synth"===(r=e).category?ot(r):lt(r);o.push(l),c.push(n),y(o),S(c)}}),P&&l.a.createElement(wt,{saveTheSong:H,toggleIsSaveSongVisible:function(){return _(!P)},user:e.user}),a&&l.a.createElement(N,null,l.a.createElement("p",null,a)),l.a.createElement(nt,{createMode:!0}),l.a.createElement(Nt,{partition:j,lengthOfPage:h,currentPage:L,pages:V,instruments:O,toggleActiveNote:function(e,t,n,a){var r=Object(f.a)(j),c=n.length,o=(r[t][e]+1)%c;r[t][e]=o,n[o]instanceof Audio&&w?n[o].play():O[t].isToneJs&&a.length&&a[o]&&mt(a[o]),S(r)},highlightedNote:m,animatedNotes:A,toggleIsAddInstrumentVisible:I,toggleIsRemoveInstrumentVisible:T}),l.a.createElement(vt,{onStopBtnPress:z,addOneBar:function(){if(j.length&&j[0].length<Ct.MAX_PARTITION_LENGTH){var e=Object(f.a)(j);e.forEach((function(e){e.push(0)}));var t=Math.ceil(e[0].length/h),n=V.length<t?V.concat([1]):V;S(e),B(n)}},onPlayBtnPress:function(){!function(e,t,n){if(t&&t.length){v(!0),R(1);var a=0;p.current=setInterval((function(){if(d(a),M([a-1,a,a+1]),st(e,t,a),++a>=t[0].length&&(a=0),a%h===1){var n=Math.ceil(a/h);R(n)}}),n)}}(O,j,D)},removeOneBar:function(){var e=Object(f.a)(j),t=e[0].length-1;e.forEach((function(e){e.splice(t,1)}));var n=Math.ceil(e[0].length/h),a=V.length>n?V.slice(0,V.length-1):V;S(e),B(a),L>a.length&&R(a.length)},user:e.user}))},At=function(e){var t=e.status,n=e.colors,a=e.highlighted,r=e.isAnimated,c=n[t];return l.a.createElement(Qe,{color:c,highlighted:a,animated:r})},Dt=function(e){var t=e.notes,n=e.noteColors,a=e.highlightedNote,r=e.animatedNotes,c=e.lengthOfPage,o=e.currentPage,i=(o-1)*c,u=o*c,s=t.map((function(e,t){if(t>=i&&t<u)return l.a.createElement(At,{key:t,status:e,colors:n,highlighted:a===t,isAnimated:r.includes(t)})}));return l.a.createElement(Ke,null,s)},Mt={width:40,height:40,padding:"10px 30px",border:"solid 1px rgba(0, 0, 0, 0.6)",color:"rgba(0, 0, 0, 0.7)",backgroundColor:"rgba(250, 250, 250, 0.5)",borderRadius:5,zIndex:5},Lt=function(e){var t=e.title,n=e.partition,a=e.musicLines,r=e.tempo,c=e.creatorName,i=Object(o.useState)(!1),u=Object(g.a)(i,2),s=u[0],m=u[1],d=Object(o.useState)(-1),p=Object(g.a)(d,2),f=p[0],h=p[1],b=Object(o.useState)([-1,-1,-1]),E=Object(g.a)(b,2),x=E[0],v=E[1],O=Object(o.useState)(1),y=Object(g.a)(O,2),j=y[0],S=y[1],k=Object(o.useState)([1]),w=Object(g.a)(k,2),C=w[0],I=w[1],T=6e4/r/4,P=Object(o.useRef)(null),N=window.innerWidth>=800?16:12;Object(o.useEffect)((function(){for(var e=[],t=Math.ceil(n[0].length/N),a=1;a<=t;a++)e.push(1);I(e)}),[]),Object(o.useEffect)((function(){return function(){return D()}}),[]);var D=function(){m(!1),clearInterval(P.current)};return l.a.createElement(A,null,l.a.createElement(_,{onClick:function(){s?D():function(e,t,n){m(!0),S(1);var a=0;P.current=setInterval((function(){if(h(a),v([a-1,a,a+1]),st(e,t,a),++a>=t[0].length&&(a=0),a%N===1){var n=Math.ceil(a/N);S(n)}}),n)}(a,n,T)}},s?l.a.createElement(bt.a,{icon:Et.c,color:"black",style:Mt}):l.a.createElement(bt.a,{icon:Et.b,color:"black",style:Mt})),l.a.createElement(Me,null,l.a.createElement(Le,{b:!0},t),l.a.createElement(Le,null,"by ",c)),l.a.createElement(fe,null,l.a.createElement(nt,{pages:C,currentPage:j,clickable:!1})),l.a.createElement(qe,null,a.map((function(e,t){return l.a.createElement(Dt,{key:t,linePosition:t,notes:n[t],noteColors:e.colors,sounds:e.sounds,lengthOfPage:N,currentPage:j,highlightedNote:f,animatedNotes:x})}))))},Rt=function(){var e={padding:4,paddingTop:32,width:40,height:40};return l.a.createElement(he,null,l.a.createElement(fe,null,l.a.createElement(be,{justifyContent:"center",alignItems:"center"},l.a.createElement(Ae,null,"Welcome to Boom-Tchak!"))),l.a.createElement(fe,null,l.a.createElement(be,{justifyContent:"center",alignItems:"center"},l.a.createElement("p",{style:{margin:0,padding:8}},"The app to discover and create nice music loops."),l.a.createElement("p",{style:{margin:0,padding:0}},"Want to start creating music? It's here -"," ",l.a.createElement(at.b,{to:"/create"},l.a.createElement(X,null,"Create"))),l.a.createElement("p",{style:{margin:0,padding:0}},"Need help? This way -"," ",l.a.createElement(at.b,{to:"/help"},l.a.createElement(X,null,"Help"))),l.a.createElement("p",{style:{margin:0,padding:8}},"To check out some nice music loops, scroll down and click on the songs"))),l.a.createElement(fe,null,l.a.createElement(be,{flexDirection:"row",justifyContent:"center",alignItems:"center"},l.a.createElement(bt.a,{icon:Et.a,style:e,color:"black"}),l.a.createElement(bt.a,{icon:Et.a,style:e,color:"black"}),l.a.createElement(bt.a,{icon:Et.a,style:e,color:"black"}))))},Vt=function(e){var t=e.isAppIntroDisplayed,n=void 0!==t&&t,a=Object(o.useState)([]),i=Object(g.a)(a,2),u=i[0],s=i[1],m=Object(o.useState)(!1),d=Object(g.a)(m,2),p=d[0],h=d[1],b=Object(o.useState)(1),E=Object(g.a)(b,2),x=E[0],v=E[1],O=Object(o.useState)(""),y=Object(g.a)(O,2),j=y[0],S=y[1],k=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,St.a.get("/api/song/posted/".concat(x),{page:1});case 3:if(t=e.sent,(n=t.data).length){e.next=10;break}return S("no more songs to load..."),h(!1),setTimeout((function(){S("")}),2e3),e.abrupt("return");case 10:n.forEach((function(e){var t=ct(e.instruments);e.instruments=t})),s([].concat(Object(f.a)(u),Object(f.a)(n))),h(!1),v(x+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){k()}),[]);return l.a.createElement(l.a.Fragment,null,n&&l.a.createElement(Rt,null),u.map((function(e){return l.a.createElement(Lt,{key:e._id,title:e.title,partition:e.partition,musicLines:e.instruments,tempo:e.tempo,creatorName:e.creatorName})})),p?l.a.createElement(Ot.Bars,{width:100,height:50,fill:"#000",stroke:"#000"}):j?l.a.createElement("p",null,j):l.a.createElement(Z,{onClick:function(){k()}},"load more"),l.a.createElement(je,{height:"100px"}))},Bt=function(e){var t=Object(o.useState)([]),n=Object(g.a)(t,2),a=n[0],i=n[1],u=Object(o.useState)(!1),s=Object(g.a)(u,2),m=s[0],d=s[1],p=Object(o.useState)(null),f=Object(g.a)(p,2),h=f[0],b=f[1],E=Object(o.useState)(""),x=Object(g.a)(E,2),v=x[0],O=x[1],y=function(){var t=Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.next=3,St.a.get("/api/song/creator/".concat(e.user._id));case 3:n=t.sent,(a=n.data)&&(i(a),d(!1));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){y()}),[]);var j=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.a.delete("/api/song/".concat(t));case 2:n=e.sent,O(n.message),y(),setTimeout((function(){O("")}),1500);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(ye,null,l.a.createElement(Ae,null,"Load Song"),m&&l.a.createElement(be,{alignItems:"center"},l.a.createElement(Ot.Bars,{width:100,height:50,fill:"#000",stroke:"#000"})),a.map((function(e){return l.a.createElement(U,{key:e._id,selected:h===e._id,onClick:function(){b(e._id)}},e.title)})),l.a.createElement("div",null,v&&l.a.createElement("p",null,v)),h&&l.a.createElement("div",{style:{paddingTop:20}},l.a.createElement(at.b,{to:"/create/".concat(h)},l.a.createElement(X,null,"Load")),l.a.createElement(X,{onClick:function(){return j(h)}},"Delete"),l.a.createElement(at.b,{to:"/"},l.a.createElement(X,null,"Cancel"))))},Ut=function(e,t){return St.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Ft=function(e,t){return St.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},zt=function(e){var t=Object(o.useState)(""),n=Object(g.a)(t,2),a=n[0],i=n[1],u=Object(o.useState)(""),s=Object(g.a)(u,2),m=s[0],d=s[1],p=Object(o.useState)(""),f=Object(g.a)(p,2),h=f[0],b=f[1],E=function(){var t=Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ft(a,m);case 2:(n=t.sent).message?b(n.message):(e.setUser(n),e.history.push("/"));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(e){"username"===e.target.name&&i(e.target.value),"password"===e.target.name&&d(e.target.value)};return l.a.createElement(ye,null,l.a.createElement(fe,null,l.a.createElement(be,null),l.a.createElement(be,{flex:1},l.a.createElement(Ae,null,"Login"),l.a.createElement(fe,null,l.a.createElement(be,null,l.a.createElement(M,{htmlFor:"username"},"Username:")),l.a.createElement(be,{flex:2},l.a.createElement(D,{type:"text",name:"username",width:"100%",id:"username",value:a,onChange:x}))),l.a.createElement(fe,null,l.a.createElement(be,{flex:1},l.a.createElement(M,{htmlFor:"password"},"Password:")),l.a.createElement(be,{flex:2},l.a.createElement(D,{type:"password",name:"password",width:"100%",id:"password",value:m,onChange:x}))),l.a.createElement(je,null),l.a.createElement(fe,null,l.a.createElement(be,{alignItems:"center"},h&&l.a.createElement(Fe,null,h),l.a.createElement(X,{onClick:E},"Login"),l.a.createElement("p",null,"No profile yet?"),l.a.createElement(at.b,{to:"/signup",style:{textDecoration:"none",color:"black"}},"signup")))),l.a.createElement(be,null)))},Ht=function(e){var t=Object(o.useState)(""),n=Object(g.a)(t,2),a=n[0],i=n[1],u=Object(o.useState)(""),s=Object(g.a)(u,2),m=s[0],d=s[1],p=Object(o.useState)(""),f=Object(g.a)(p,2),h=f[0],b=f[1],E=function(){var t=Object(c.a)(r.a.mark((function t(n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ut(a,m);case 2:(c=t.sent).message?b(c.message):(e.setUser(c),e.history.push("/"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(e){"username"===e.target.name&&i(e.target.value),"password"===e.target.name&&d(e.target.value)};return l.a.createElement(ye,null,l.a.createElement(fe,null,l.a.createElement(be,null),l.a.createElement(be,{flex:1},l.a.createElement(Ae,null,"Signup"),l.a.createElement(fe,null,l.a.createElement(be,null,l.a.createElement(M,{htmlFor:"username"},"Username:")),l.a.createElement(be,{flex:2},l.a.createElement(D,{type:"text",name:"username",width:"100%",id:"username",value:a,onChange:x}))),l.a.createElement(fe,null,l.a.createElement(be,{flex:1},l.a.createElement(M,{htmlFor:"password"},"Password:")),l.a.createElement(be,{flex:2},l.a.createElement(D,{type:"password",name:"password",width:"100%",id:"password",value:m,onChange:x}))),l.a.createElement(je,null),l.a.createElement(fe,null,l.a.createElement(be,{alignItems:"center"},h&&l.a.createElement(Fe,null,h),l.a.createElement(X,{onClick:E},"Submit"),l.a.createElement("p",null,"Already have a profile?"),l.a.createElement(at.b,{to:"/login",style:{textDecoration:"none",color:"black"}},"login")))),l.a.createElement(be,null)))},Gt=function(e){var t=Object(o.useState)(""),n=Object(g.a)(t,2),a=n[0],i=n[1],u=function(){var t=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,St.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:e.setUser(null),e.history.push("/");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.user?l.a.createElement(ye,null,l.a.createElement(fe,null,l.a.createElement(be,null,l.a.createElement(Ae,null,"Profile"))),l.a.createElement(fe,null,l.a.createElement(be,{flex:2},l.a.createElement(V,{src:"https://images.unsplash.com/photo-1502377429547-835a416e4a90?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=667&q=80"})),l.a.createElement(be,{justifyContent:"flex-start",flex:3},l.a.createElement("h3",null,"Hello, ",e.user.username),l.a.createElement("p",null,"Are you ready to create some funky beats today?"),l.a.createElement(fe,null,l.a.createElement(at.b,{to:"/load-song"},l.a.createElement(X,null,"Load Song")),l.a.createElement(X,{onClick:function(){e.user&&!0===e.user.admin?e.history.push("/create-instrument"):(i("Coming soon, stay tuned..."),setInterval((function(){i("")}),2e3))}},"Create Instrument"),l.a.createElement(X,{onClick:u},"Logout")),l.a.createElement(fe,null,l.a.createElement(be,null,a&&l.a.createElement("p",null,a)))))):l.a.createElement(ye,null,l.a.createElement(Ae,null,"No Profile..."),l.a.createElement(fe,null,l.a.createElement(be,null,"Please login or signup to access the profile page")))},Wt=n(29),Jt=n(20),Yt=function(e){var t=e.component,n=e.user,a=Object(Wt.a)(e,["component","user"]);return l.a.createElement(Jt.b,Object.assign({user:n},a,{render:function(e){return n?l.a.createElement(t,Object.assign({user:n},a,e)):l.a.createElement(Jt.a,{to:"/"})}}))},qt=function(e){var t=e.name,n=e.setName,a=e.category,r=e.setCategory,c=e.subCategory,o=e.setSubCategory,i=gt();return l.a.createElement(l.a.Fragment,null,l.a.createElement(fe,null,l.a.createElement(be,{flex:1},"Name:"),l.a.createElement(be,{justifyContent:"flex-start",flex:2},l.a.createElement(D,{width:"160px",type:"text",value:t,onChange:function(e){return n(e.target.value)}}))),l.a.createElement(fe,null,l.a.createElement(be,{flex:1},"Category:"),l.a.createElement(be,{justifyContent:"flex-start",flex:2},l.a.createElement(L,{name:"category",width:"170px",value:a,onChange:function(e){return r(e.target.value)}},i.map((function(e,t){return l.a.createElement(R,{key:t,value:e},"default"!==e&&e)}))))),l.a.createElement(fe,null,l.a.createElement(be,{flex:1},"Sub-category:"),l.a.createElement(be,{justifyContent:"flex-start",flex:2},l.a.createElement(L,{name:"sub-category",width:"170px",value:c,onChange:function(e){return o(e.target.value)}},ft(a).map((function(e,t){return l.a.createElement(R,{key:t,value:e},e)}))))))},Kt=function(e){var t=e.sounds,n=e.colors,a=e.addSound;return l.a.createElement(l.a.Fragment,null,t&&t.map((function(e,t){return l.a.createElement(fe,{key:t},l.a.createElement(be,null,l.a.createElement("p",{style:{margin:0,padding:"5px 0"}},0===t?"Default":"".concat(t))),l.a.createElement(be,null,l.a.createElement(B,{backgroundColor:n[t]})),l.a.createElement(be,{flex:5},e.url?l.a.createElement(X,{onClick:function(){return t=e.url,void new Audio(t).play();var t}},e.name):l.a.createElement("p",{style:{margin:0,padding:"5px 18px"}},"No sound")))})),l.a.createElement(fe,null,l.a.createElement(be,{flex:2}),l.a.createElement(be,{justifyContent:"flex-start",flex:5},l.a.createElement(X,{backgroundColor:"#0f0",onClick:a},"Add Sound"))))},Xt=function(e){var t=e.loading,n=e.availableSounds,a=e.selectedSound,r=e.selectSound,c=e.filterName,i=Object(o.useState)("default"),u=Object(g.a)(i,2),s=u[0],m=u[1],d=Object(o.useState)(""),p=Object(g.a)(d,2),f=p[0],h=p[1],b=n.filter((function(e){return(!c||e.name.toLocaleLowerCase().includes(c.toLocaleLowerCase()))&&("default"===s||s===e.category)&&(!f||f===e.subCategory)})),E={margin:2,color:"black",backgroundColor:"white",padding:6,borderColor:"black",borderWidth:1,borderStyle:"solid",borderRadius:"50%",cursor:"pointer"},x=gt();return t?l.a.createElement(be,{alignItems:"center"},l.a.createElement(Ot.Bars,{width:100,height:50,fill:"#000",stroke:"#000"})):l.a.createElement(l.a.Fragment,null,l.a.createElement(fe,null,l.a.createElement(be,null),l.a.createElement(be,{flex:2},l.a.createElement(De,null,"Name")),l.a.createElement(be,{flex:2,flexDirection:"row",justifyContent:"left"},l.a.createElement(De,null,"Category"),l.a.createElement(L,{name:"category",width:"60px",value:s,onChange:function(e){return m(e.target.value)}},x.map((function(e,t){return l.a.createElement(R,{key:t,value:e},"default"===e?"all":e)})))),l.a.createElement(be,{flex:2,flexDirection:"row",justifyContent:"left"},l.a.createElement(De,null,"Sub-cat."),l.a.createElement(L,{name:"sub-category",width:"60px",value:f,onChange:function(e){return h(e.target.value)}},ft(s).map((function(e,t){return l.a.createElement(R,{key:t,value:e},e||"all")})))),l.a.createElement(be,{flex:2},l.a.createElement(De,null,"Pitch"))),b.map((function(e){return l.a.createElement(ge,{selected:a&&a.url===e.url,noHoverHighlight:!0,onClick:function(){return r(e)},key:e._id},l.a.createElement(be,null,l.a.createElement(bt.a,{icon:Et.d,style:E,onClick:function(){return new Audio(e.url).play()}})),["name","category","subCategory","pitch"].map((function(t,n){return l.a.createElement(be,{key:n,flex:2},e[t])})))})))},Qt=function(e){var t=e.setView,n=e.fetchData,a=Object(o.useState)(""),i=Object(g.a)(a,2),u=i[0],s=i[1],m=Object(o.useState)(""),d=Object(g.a)(m,2),p=d[0],f=d[1],h=Object(o.useState)(""),b=Object(g.a)(h,2),E=b[0],x=b[1],v=Object(o.useState)(""),O=Object(g.a)(v,2),y=O[0],j=O[1],S=Object(o.useState)(null),k=Object(g.a)(S,2),w=k[0],C=k[1],I=Object(o.useState)(""),T=Object(g.a)(I,2),P=T[0],N=T[1],_=function(){var e=Object(c.a)(r.a.mark((function e(){var a,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&p&&E){e.next=5;break}return M("Please chose a name and select categories"),e.abrupt("return");case 5:if(!(u.length<5)){e.next=9;break}M("The sound name must be at least 5 char."),e.next=12;break;case 9:if(w){e.next=12;break}return M("please select a file to upload"),e.abrupt("return");case 12:return(a=new FormData).append("sounds",w),e.next=16,St.a.post("/api/sound/upload",a);case 16:return c=e.sent,e.next=19,St.a.post("/api/sound",{name:u,category:p,subCategory:E,pitch:y,url:c.data.secure_url});case 19:if(!(o=e.sent).message){e.next=23;break}return M(o.message),e.abrupt("return");case 23:t("ADD"),n();case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=gt(),M=function(e){N(e),setInterval((function(){N("")}),3e3)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(fe,null,l.a.createElement(be,null,"Select file:"),l.a.createElement(be,{flex:2},l.a.createElement(D,{id:"file",name:"file",type:"file",multiple:"false",onChange:function(e){var t=e.target.files[0];C(t)}}))),l.a.createElement(fe,null,l.a.createElement(be,null,"Name:"),l.a.createElement(be,{flex:2},l.a.createElement(D,{type:"text",value:u,onChange:function(e){return s(e.target.value)}}))),l.a.createElement(fe,null,l.a.createElement(be,null,"Category:"),l.a.createElement(be,{flex:2},l.a.createElement(L,{name:"category",onChange:function(e){return f(e.target.value)}},A.map((function(e,t){return l.a.createElement(R,{key:t,value:e},"default"!==e&&e)}))))),l.a.createElement(fe,null,l.a.createElement(be,null,"Sub-Category:"),l.a.createElement(be,{flex:2},l.a.createElement(L,{name:"sub-category",onChange:function(e){return x(e.target.value)}},ft(p).map((function(e,t){return l.a.createElement(R,{key:t,value:e},e)}))))),l.a.createElement(fe,null,l.a.createElement(be,null,"Pitch (optional):"),l.a.createElement(be,{flex:2},l.a.createElement(D,{type:"text",value:y,onChange:function(e){return j(e.target.value)}}))),l.a.createElement(fe,null,l.a.createElement(be,null),l.a.createElement(be,{flex:2},w&&w.name)),l.a.createElement(fe,null,l.a.createElement(be,null,P&&P)),l.a.createElement(fe,null,l.a.createElement(be,{flex:1},l.a.createElement(X,{onClick:_},"Create Sound"))))},$t="ADD",Zt="UPLOAD",en=function(e){var t=e.switchToOverview,n=e.availableSounds,a=e.selectedSound,r=e.selectSound,c=e.addSound,i=e.loading,u=e.fetchData,s=e.displayMessage,m=Object(o.useState)($t),d=Object(g.a)(m,2),p=d[0],f=d[1],h=Object(o.useState)(""),b=Object(g.a)(h,2),E=b[0],x=b[1];Object(o.useEffect)((function(){r(null)}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(fe,null,l.a.createElement(be,{flexDirection:"row",justifyContent:"left"},l.a.createElement(Ae,null,"Add Sound")),l.a.createElement(be,{flexDirection:"row",justifyContent:"left"},l.a.createElement(D,{type:"text",width:"140px",value:E,placeholder:"Search...",onChange:function(e){return x(e.target.value)}})),l.a.createElement(be,{flex:2,flexDirection:"row",justifyContent:"flex-end"},l.a.createElement(X,{backgroundColor:"#0f0",onClick:function(){a&&a.name&&a.url?c({id:a._id,name:a.name,color:"#ddd",url:a.url}):s("Please select a sound first")}},"Add"),l.a.createElement(X,{backgroundColor:"#f00",onClick:t},"Cancel"),p===$t&&l.a.createElement(X,{onClick:function(){f(Zt)}},"Upload own sound"),p===Zt&&l.a.createElement(X,{onClick:function(){f($t)}},"Search sound"))),l.a.createElement(fe,null,l.a.createElement(be,{flex:1},p===Zt&&l.a.createElement(Qt,{setView:f,fetchData:u}),p===$t&&l.a.createElement(Xt,{loading:i,availableSounds:n,selectedSound:a,selectSound:r,filterName:E}))))},tn=n(124),nn="OVERVIEW",an="ADD_SOUND",rn=function(e){var t=Object(o.useState)(""),n=Object(g.a)(t,2),a=n[0],i=n[1],u=Object(o.useState)(""),s=Object(g.a)(u,2),m=s[0],d=s[1],p=Object(o.useState)(""),h=Object(g.a)(p,2),b=h[0],E=h[1],x=Object(o.useState)(""),v=Object(g.a)(x,2),O=v[0],y=v[1],j=Object(o.useState)([{id:Ct.DEFAULT_SOUND_ID}]),S=Object(g.a)(j,2),k=S[0],w=S[1],C=Object(o.useState)(nn),I=Object(g.a)(C,2),T=I[0],P=I[1],N=Object(o.useState)(!1),_=Object(g.a)(N,2),A=_[0],D=_[1],M=Object(o.useState)([]),L=Object(g.a)(M,2),R=L[0],V=L[1],B=Object(o.useState)(null),U=Object(g.a)(B,2),F=U[0],z=U[1],H=Object(o.useState)("start"),G=Object(g.a)(H,2),W=G[0],J=G[1],Y=Object(o.useState)(["#ddd"]),q=Object(g.a)(Y,2),K=q[0],Q=q[1],$=Object(o.useState)("#aaaaaa"),Z=Object(g.a)($,2),te=Z[0],ne=Z[1],ae=Object(o.useState)("#555555"),re=Object(g.a)(ae,2),ce=re[0],oe=re[1],le=Object(o.useState)("#aaaaaa"),ie=Object(g.a)(le,2),ue=ie[0],se=ie[1];Object(o.useEffect)((function(){me()}),[te,ce]);var me=function(){var e=Object(f.a)(K),t=k.length;if(1!==t){if(t>=2&&(e[1]=te),t>=3&&(e[t-1]=ce),t>3)for(var n=function(e,t,n){function a(e){var t,n,a,r=e.length>6?e.substr(1,e.length-1):e;return r.length>3?(t=r.substr(0,2),n=r.substr(2,2),a=r.substr(4,2)):(t=r.substr(0,1)+r.substr(0,1),n=r.substr(1,1)+r.substr(1,1),a=r.substr(2,1)+r.substr(2,1)),[parseInt(t,16),parseInt(n,16),parseInt(a,16)]}for(var r=function(e,t,n){return n=n||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(n)+e},c=a(e),o=a(t),l=[],i=100/(n+1),u=[o[0]-c[0],o[1]-c[1],o[2]-c[2]],s=0;s<n;s++){var m=r(u[0]>0?Math.round(u[0]/100*(i*(s+1))).toString(16):Math.round(c[0]+u[0]/100*(i*(s+1))).toString(16),2),d=r(u[1]>0?Math.round(u[1]/100*(i*(s+1))).toString(16):Math.round(c[1]+u[1]/100*(i*(s+1))).toString(16),2),p=r(u[2]>0?Math.round(u[2]/100*(i*(s+1))).toString(16):Math.round(c[2]+u[2]/100*(i*(s+1))).toString(16),2);l[s]=["#",m,d,p].join("")}return l}(te,ce,t-3),a=2;a<t-1;a++)e[a]=n[a-2];Q(e)}},de=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(an),e.next=3,pe();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,St.a.get("/api/sound");case 3:t=e.sent,(n=t.data)&&(V(n),D(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(e){y(e),setInterval((function(){y("")}),2e3)},he=function(){i(""),d(""),E(""),w([{id:Ct.DEFAULT_SOUND_ID}])},Ee=function(){var t=Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a&&m&&b){t.next=3;break}return ge("Please enter the fields: ".concat(a?"":"Name"," ").concat(m?"":"Category"," ").concat(b?"":"Sub-category")),t.abrupt("return");case 3:if(!(k.length<2)){t.next=6;break}return ge("You must select at least 1 sound"),t.abrupt("return");case 6:return t.next=8,St.a.post("/api/instrument",{name:a,category:m,subCategory:b,sounds:k.map((function(e){return e.id||null})),colors:K,creator:e.user._id,private:!1});case 8:(n=t.sent).message?ge(n.message):200===n.status&&(ge("Success! You just created a new instrument!"),he());case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return l.a.createElement(ye,null,l.a.createElement(fe,null,O&&l.a.createElement(Fe,null,O)),T===an&&l.a.createElement(en,{switchToOverview:function(){P(nn)},availableSounds:R,selectedSound:F,selectSound:function(e){z(e)},loading:A,addSound:function(e){if(e.url,e.color){var t={id:e.id,name:e.name,url:e.url,pitch:e.pitch||""},n=[].concat(Object(f.a)(k),[t]);w(n),Q([].concat(Object(f.a)(K),["#ddd"])),P(nn)}else ge("Please select or upload a sound and pick a color")},fetchData:pe,displayMessage:ge}),T===nn&&l.a.createElement(l.a.Fragment,null,l.a.createElement(fe,null,l.a.createElement(be,{flex:1},l.a.createElement(Ae,null,"Create Instrument")),l.a.createElement(be,{flex:2,flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-end"},l.a.createElement(X,{onClick:Ee},"Save Instrument"),l.a.createElement(X,{onClick:he},"Reset"),l.a.createElement(X,{onClick:function(){}},"Help"))),l.a.createElement(fe,null,l.a.createElement(be,{flex:2},l.a.createElement(qt,{name:a,setName:i,category:m,setCategory:d,subCategory:b,setSubCategory:E}),l.a.createElement(fe,null,l.a.createElement(be,null,l.a.createElement("h3",null,"Sounds:"))),l.a.createElement(fe,null,l.a.createElement(be,null,l.a.createElement(Kt,{sounds:k,colors:K,addSound:de})))),l.a.createElement(be,{flex:1},l.a.createElement(tn.a,{color:ue,onChangeComplete:function(e){se(e.hex),"start"===W?ne(e.hex):"end"===W&&oe(e.hex)}}),l.a.createElement(fe,null,l.a.createElement(be,{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},l.a.createElement(ee,{selected:"start"===W,onClick:function(){return J("start")}},"Pick start color"),l.a.createElement(ee,{selected:"end"===W,onClick:function(){return J("end")}},"Pick end color")))))))},cn=function(){return l.a.createElement(ye,null,l.a.createElement(fe,null,l.a.createElement(be,null,l.a.createElement(Ae,null,"Help"))),l.a.createElement(fe,null,l.a.createElement(be,null,l.a.createElement("p",null,'The 2 main sections of the app are "Listen", where you can browse, check and play the music loops that are created, and "Create" where you can create your own loops.'))),l.a.createElement(fe,null,l.a.createElement(be,null,l.a.createElement(De,null,"Create song"),l.a.createElement("p",null,"In the song creation space you see the music grid which is composed of notes represented by gray squares, and a control panel at the bottom:"),l.a.createElement(fe,{alignItems:"center",justifyContent:"center"},l.a.createElement(be,{alignItems:"center",justifyContent:"center"},l.a.createElement("img",{src:"images/music-grid-1.png",alt:"Music grid example"}))),l.a.createElement("p",null,"On the music grid, the horizontal axis is the time, the vertical is the array of instruments that are available to you. Let's first try the default instruments."),l.a.createElement("p",null,"By clicking on a square, it changes color as you activate a sound to be played at a certain time in the loop. For example if you click on the first square of the kick, a kick will be played at the beginning."),l.a.createElement(fe,{alignItems:"center",justifyContent:"center"},l.a.createElement(be,{alignItems:"center",justifyContent:"center"},l.a.createElement("img",{src:"images/music-grid-2.png",alt:"Music grid example"}))),l.a.createElement("p",null,"Some instruments have only one sound, some have several, clicking several times on the same square switches between different sounds. Let's create a basic loop by switching on the notes (1 click) to form the following pattern:"),l.a.createElement(fe,{alignItems:"center",justifyContent:"center"},l.a.createElement(be,{alignItems:"center",justifyContent:"center"},l.a.createElement("img",{src:"images/music-grid-3.png",alt:"Music grid example"}))),l.a.createElement("p",null,"Press play and the magic happens! The notes are read as a sequence, at a 120 tempo, 8 squares represent a second, so our loop is 1 second long."),l.a.createElement("p",null,'To make the loop longer, press the "+" button next to "bars" and the grid extends. When the grid is longer than 16 notes, it gets spread on several pages that you can check and select using the page selector:'),l.a.createElement(fe,{alignItems:"center",justifyContent:"center"},l.a.createElement(be,{alignItems:"center",justifyContent:"center"},l.a.createElement("img",{src:"images/music-pages-selectors.png",alt:"Page selectors example"}))),l.a.createElement("p",null,'You can add and remove instruments (grid lines) using the menu. Once you are happy with your creation, click on "save" to keep it and share it. To save, you will need to create a profile, but this takes a couple of seconds. That\'s about it!'))),l.a.createElement(fe,null,l.a.createElement(be,null,l.a.createElement(De,null,"Have fun!"))))},on={textDecoration:"none",color:"black"},ln={textDecoration:"none",color:"black",padding:"0 8px"},un=function(e){return l.a.createElement(Ee,null,l.a.createElement(Oe,{flexDirection:"row",justifyContent:"space-between"},l.a.createElement(at.b,{style:on,to:"/"},l.a.createElement(Ue,null,"Boum-Tchak!")),l.a.createElement("div",{style:{display:"flex",paddingRight:20,alignItems:"center"}},l.a.createElement(at.b,{style:on,to:"/listen"},l.a.createElement(Z,null,"Listen")),l.a.createElement(at.b,{style:on,to:"/create"},l.a.createElement(Z,null,"Create")),e.user?l.a.createElement(at.b,{style:on,to:"/profile"},l.a.createElement(Z,null,"Profile")):l.a.createElement(l.a.Fragment,null,l.a.createElement(at.b,{style:on,to:"/signup"},l.a.createElement(Z,null,"Signup")),l.a.createElement(at.b,{style:ln,to:"/login"},"Login")),l.a.createElement(at.b,{style:ln,to:"/help"},"Help"))))},sn=(n(269),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(ve,null,l.a.createElement(un,{user:this.state.user}),l.a.createElement(Oe,null,l.a.createElement(xe,null),l.a.createElement(Jt.d,null,l.a.createElement(Jt.b,{exact:!0,path:"/create",render:function(t){return l.a.createElement(_t,Object.assign({user:e.state.user},t))}}),l.a.createElement(Jt.b,{exact:!0,path:"/help",render:function(e){return l.a.createElement(cn,e)}}),l.a.createElement(Jt.b,{exact:!0,path:"/create/:id",render:function(t){return l.a.createElement(_t,Object.assign({user:e.state.user},t))}}),l.a.createElement(Jt.b,{exact:!0,path:"/login",render:function(t){return e.state.user?l.a.createElement(Jt.a,{to:"/"}):l.a.createElement(zt,Object.assign({setUser:e.setUser},t))}}),l.a.createElement(Jt.b,{exact:!0,path:"/signup",render:function(t){return e.state.user?l.a.createElement(Jt.a,{to:"/"}):l.a.createElement(Ht,Object.assign({setUser:e.setUser},t))}}),l.a.createElement(Yt,{exact:!0,path:"/profile",user:this.state.user,setUser:this.setUser,component:Gt}),l.a.createElement(Yt,{exact:!0,path:"/create-instrument",user:this.state.user,setUser:this.setUser,component:rn}),l.a.createElement(Jt.b,{exact:!0,path:"/",render:function(e){return l.a.createElement(Vt,Object.assign({isAppIntroDisplayed:!0},e))}}),l.a.createElement(Jt.b,{exact:!0,path:"/listen",render:function(e){return l.a.createElement(Vt,Object.assign({isAppIntroDisplayed:!1},e))}}),l.a.createElement(Jt.b,{exact:!0,path:"/load-song",render:function(t){return e.state.user?l.a.createElement(Bt,Object.assign({user:e.state.user},t)):l.a.createElement(Jt.a,{to:"/"})}}))))}}]),n}(l.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var mn=n(8),dn=function(e,t){var n=t.payload;switch(t.type){case"SET_TEMPO":return Object(mn.a)(Object(mn.a)({},e),{},{tempo:n});case"SET_TIMEOUT_TEMPO":return Object(mn.a)(Object(mn.a)({},e),{},{timeoutTempo:n});case"SET_IS_ADD_INSTRUMENT_VISIBLE":return Object(mn.a)(Object(mn.a)({},e),{},{isAddInstrumentVisible:n});case"SET_IS_REMOVE_INSTRUMENT_VISIBLE":return Object(mn.a)(Object(mn.a)({},e),{},{isRemoveInstrumentVisible:n});case"SET_IS_NOTE_PLAYED_ON_CLICK":return Object(mn.a)(Object(mn.a)({},e),{},{isNotePlayedOnClick:n});case"SET_IS_SAVE_SONG_VISIBLE":return Object(mn.a)(Object(mn.a)({},e),{},{isSaveSongVisible:n});case"SET_IS_PLAYING":return Object(mn.a)(Object(mn.a)({},e),{},{isPlaying:n});case"SET_INSTRUMENTS":return Object(mn.a)(Object(mn.a)({},e),{},{instruments:n});case"SET_PARTITION":return Object(mn.a)(Object(mn.a)({},e),{},{partition:n});case"SET_COPIED_PARTITION_BAR":return Object(mn.a)(Object(mn.a)({},e),{},{copiedPartitionBar:n});case"SET_ANIMATED_NOTES":return Object(mn.a)(Object(mn.a)({},e),{},{animatedNotes:n});case"SET_CURRENT_PAGE":return Object(mn.a)(Object(mn.a)({},e),{},{currentPage:n});case"SET_PAGES":return Object(mn.a)(Object(mn.a)({},e),{},{pages:n});default:return e}},pn=function(e){var t={isPLaying:!1,instruments:[],partition:[],copiedPartitionBar:null,isRemoveInstrumentVisible:!1,partitionLength:Ct.START_PARTITION_LENGTH,maxPartitionLength:Ct.MAX_PARTITION_LENGTH,tempo:Ct.DEFAULT_TEMPO,timeoutTempo:Ct.DEFAULT_TIMEOUT,isNotePlayedOnClick:!0,isAddInstrumentVisible:!1,isSaveSongVisible:!1,animatedNotes:[],currentPage:1,pages:[1]},n=Object(o.useReducer)(dn,t),a=Object(g.a)(n,2),r=a[0],c=a[1],i=function(e){c({type:"SET_IS_REMOVE_INSTRUMENT_VISIBLE",payload:e})},u=function(e){c({type:"SET_INSTRUMENTS",payload:e})},s=function(e){c({type:"SET_PARTITION",payload:e})};return l.a.createElement(tt.Provider,{value:{tempo:r.tempo,isPlaying:r.isPlaying,instruments:r.instruments,partition:r.partition,copiedPartitionBar:r.copiedPartitionBar,timeoutTempo:r.timeoutTempo,isNotePlayedOnClick:r.isNotePlayedOnClick,isAddInstrumentVisible:r.isAddInstrumentVisible,isSaveSongVisible:r.isSaveSongVisible,isRemoveInstrumentVisible:r.isRemoveInstrumentVisible,animatedNotes:r.animatedNotes,currentPage:r.currentPage,pages:r.pages,setTempo:function(e){c({type:"SET_TEMPO",payload:e})},setIsPlaying:function(e){c({type:"SET_IS_PLAYING",payload:e})},setInstruments:u,setPartition:s,copyOneBar:function(e){var t=[],n=4*e,a=n+3;r.partition.forEach((function(e){for(var r=[],c=n;c<=a;c++)r.push(e[c]);t.push(r)})),c({type:"SET_COPIED_PARTITION_BAR",payload:t})},pasteOneBar:function(e){var t=[],n=r.partition[0].length,a=4*e,o=a+3;r.partition.forEach((function(e,c){for(var l=[],i=0,u=0;u<n;u++)u>=a&&u<=o?(l.push(r.copiedPartitionBar[c][0+i]),i++):l.push(e[u]);t.push(l)})),c({type:"SET_PARTITION",payload:t})},setIsRemoveInstrumentVisible:i,toggleIsRemoveInstrumentVisible:function(){var e=!r.isRemoveInstrumentVisible;c({type:"SET_IS_REMOVE_INSTRUMENT_VISIBLE",payload:e})},setTimeoutTempo:function(e){c({type:"SET_TIMEOUT_TEMPO",payload:e})},setIsNotePlayedOnClick:function(e){c({type:"SET_IS_NOTE_PLAYED_ON_CLICK",payload:e})},toggleIsAddInstrumentVisible:function(){var e=!r.isAddInstrumentVisible;c({type:"SET_IS_ADD_INSTRUMENT_VISIBLE",payload:e})},setIsSaveSongVisible:function(e){c({type:"SET_IS_SAVE_SONG_VISIBLE",payload:e})},deleteLine:function(e){var t=Object(f.a)(r.partition),n=Object(f.a)(r.instruments);t.splice(e,1),n.splice(e,1),s(t),u(n),i(!i)},setAnimatedNotes:function(e){c({type:"SET_ANIMATED_NOTES",payload:e})},setCurrentPage:function(e){c({type:"SET_CURRENT_PAGE",payload:e})},setPages:function(e){c({type:"SET_PAGES",payload:e})}}},e.children)};(function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.a.get("/api/auth/loggedin");case 2:t=e.sent,n=t.data,u.a.render(l.a.createElement(at.a,null,l.a.createElement(pn,null,l.a.createElement(sn,{user:n}))),document.getElementById("root"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[126,1,2]]]);
//# sourceMappingURL=main.2b364a7d.chunk.js.map