(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{142:function(e,t,n){},279:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var r=n(7),c=n.n(r),i=n(14),a=n(1),s=n(0),o=n.n(s),u=n(45),l=n.n(u),j=(n(142),n(8)),d=n(2),b=n(3),h=n(5),x=n(4),f=n(15),p=n(11),O=n(16),g=n(17);function m(){var e=Object(O.a)(["\n  padding: 3px;\n  margin: 0px;\n  cursor: pointer;\n  color: ",";\n  background-color: ",";\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n"]);return m=function(){return e},e}function v(){var e=Object(O.a)(["\n  height: 24px;\n  width: 24px;\n  margin: 4px;\n  border: solid black 1px;\n  background-color: ",";\n"]);return v=function(){return e},e}function y(){var e=Object(O.a)(["\n  src: ","\n  height: 260px;\n  width: 260px;\n  object-fit: cover;\n  padding: 10px;\n"]);return y=function(){return e},e}function w(){var e=Object(O.a)(["\n  font-size: 12px;\n"]);return w=function(){return e},e}function k(){var e=Object(O.a)(["\n  margin: 8px;\n  height: 26px;\n  width: ",";\n"]);return k=function(){return e},e}function S(){var e=Object(O.a)(["\n  margin: 0px 5px;\n"]);return S=function(){return e},e}function C(){var e=Object(O.a)(["\n  border: solid black 1px;\n  width: ",";\n"]);return C=function(){return e},e}function T(){var e=Object(O.a)(["\n  height: 24px;\n  width: ",";\n  margin: 10px;\n  border: 1px solid black;\n  border-radius: 4px;\n"]);return T=function(){return e},e}function I(){var e=Object(O.a)(["\n  position: relative;\n  margin: 30px 10px;\n  border: solid 1px black;\n  border-radius: 10px;\n  padding-top: 10px;\n  width: 80%;\n  &:hover "," {\n    visibility: visible;\n  }\n"]);return I=function(){return e},e}function P(){var e=Object(O.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  margin-top: -8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  visibility: hidden;\n"]);return P=function(){return e},e}function N(){var e=Object(O.a)(["\n  margin: auto;\n  min-width: 400px;\n  max-width: 700px;\n  position: absolute;\n  z-index: 10;\n  top: 150px;\n  box-shadow: 3px 3px 5px #bbb;\n  background-color: white;\n  border: solid 1px black;\n  border-radius: 3px;\n  padding: 10px;\n"]);return N=function(){return e},e}function A(){var e=Object(O.a)(["\n  padding: 10px;\n"]);return A=function(){return e},e}var E=g.a.div(A()),_=g.a.div(N()),D=g.a.div(P()),L=g.a.div(I(),D),M=g.a.input(T(),(function(e){return e.width||"100px"})),B=(g.a.form(C(),(function(e){return e.width?"".concat(e.width,"px"):"100%"})),g.a.label(S())),U=g.a.select(k(),(function(e){return e.width||"110px"})),V=g.a.option(w()),F=g.a.img(y(),(function(e){return e.src})),R=g.a.div(v(),(function(e){return e.backgroundColor||"white"})),z=g.a.p(m(),(function(e){return e.selected?"white":"black"}),(function(e){return e.selected?"black":"white"}));function H(){var e=Object(O.a)(["\n  color: ",";\n  border: 1px solid #aaa;\n  margin: ",";\n  padding: ",";\n  background-color: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: background-color 0.5s, color 0.5s;\n  &:hover {\n    background-color: #888;\n    color: #fff;\n  }\n"]);return H=function(){return e},e}function G(){var e=Object(O.a)(["\n  color: ",";\n  border: 1px solid #aaa;\n  margin: 4px 4px 4px 8px;\n  background-color: #fff;\n  border-radius: 4px;\n  font-size: 12px;\n  &:hover {\n    background-color: #aaa;\n    color: #fff;\n  }\n"]);return G=function(){return e},e}function W(){var e=Object(O.a)(["\n  color: black;\n  backgroundcolor: white;\n  padding: 6px;\n  bordercolor: black;\n  border: 1px solid black;\n  border-radius: 50%;\n  cursor: pointer;\n"]);return W=function(){return e},e}function J(){var e=Object(O.a)(["\n  color: ",";\n  border: 1px solid #aaa;\n  margin: ",";\n  padding: ",";\n  background-color: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  font-weight: bold;\n  transition: background-color 0.5s, color 0.5s;\n  &:hover {\n    background-color: #f00;\n    color: #fff;\n  }\n"]);return J=function(){return e},e}function q(){var e=Object(O.a)(["\n  height: 30px;\n  min-width: 40px;\n  margin: 8px;\n  padding: 0px 10px;\n  border-radius: 15px;\n  border: solid 1px black;\n  color: ",";\n  background-color: ",";\n  font-size: 12px;\n  &:hover {\n    background-color: black;\n    color: white;\n    opacity: ",";\n  }\n"]);return q=function(){return e},e}function Y(){var e=Object(O.a)(["\n  margin: 8px;\n  border: solid 1px black;\n  border-radius: 5px;\n  padding: 6px 12px;\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n  transition: background-color 0.7s, color 0.7s;\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n"]);return Y=function(){return e},e}function X(){var e=Object(O.a)(["\n  width: 60px;\n  background-color: #f00;\n  color: #fff;\n  font-size: 20px;\n  font-weight: bold;\n"]);return X=function(){return e},e}function K(){var e=Object(O.a)(["\n  width: 60px;\n  background-color: #0f0;\n  color: #fff;\n  font-size: 20px;\n  font-weight: bold;\n"]);return K=function(){return e},e}function Q(){var e=Object(O.a)(["\n  height: 36px;\n  min-width: 36px;\n  margin: 8px;\n  padding: 0px 10px;\n  border-radius: 18px;\n  border: solid 1px black;\n  background-color: ",";\n  font-size: 14px;\n  box-shadow: 3px 3px 5px #bbb;\n  cursor: pointer;\n  transition: background-color 0.7s, color 0.7s;\n  &:hover {\n    background-color: ",";\n    color: white;\n  }\n"]);return Q=function(){return e},e}var $=g.a.button(Q(),(function(e){return e.backgroundColor||"white"}),(function(e){return e.hoverColor||"black"})),Z=Object(g.a)($)(K()),ee=Object(g.a)($)(X()),te=g.a.div(Y()),ne=g.a.button(q(),(function(e){return e.selected?"white":"black"}),(function(e){return e.selected?"black":"white"}),(function(e){return e.selected?.5:1})),re=g.a.p(J(),(function(e){return e.color||"#888"}),(function(e){return e.margin||"4px 8px 4px 0px"}),(function(e){return e.padding||"2px"})),ce=(g.a.button(W()),g.a.button(G(),(function(e){return e.color||"#aaa"}))),ie=g.a.button(H(),(function(e){return e.color||"#888"}),(function(e){return e.margin||"4px 4px 4px 0px"}),(function(e){return e.padding||"default"}));function ae(){var e=Object(O.a)(["\n  height: ",";\n"]);return ae=function(){return e},e}function se(){var e=Object(O.a)(["\n  width: 90%;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flexStart;\n"]);return se=function(){return e},e}function oe(){var e=Object(O.a)(["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n  width: 100vw;\n  max-width: ",";\n"]);return oe=function(){return e},e}function ue(){var e=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return ue=function(){return e},e}function le(){var e=Object(O.a)(["\n  height: 110px;\n"]);return le=function(){return e},e}function je(){var e=Object(O.a)(["\n  height: 70px;\n  width: 100vw;\n  z-index: 10;\n  background-color: white;\n  display: flex;\n  position: fixed;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 4px 4px 5px #eee;\n"]);return je=function(){return e},e}function de(){var e=Object(O.a)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: center;\n  min-height: 20px;\n  padding: ",";\n  align-items: ",";\n  justify-content: ",";\n  flex: ",";\n"]);return de=function(){return e},e}function be(){var e=Object(O.a)(["\n  min-height: 60vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return be=function(){return e},e}function he(){var e=Object(O.a)(["\n  padding: ",";\n  cursor: pointer;\n  color: ",";\n  background-color: ",";\n  &:hover {\n    background-color: ",";\n    color: ",";\n    opacity: ",";\n  }\n"]);return he=function(){return e},e}function xe(){var e=Object(O.a)(["\n  padding: ",";\n  display: flex;\n  width: 100%;\n"]);return xe=function(){return e},e}var fe=g.a.div(xe(),(function(e){return e.padding||0})),pe=Object(g.a)(fe)(he(),(function(e){return e.padding||0}),(function(e){return e.selected?"white":"black"}),(function(e){return e.selected?"black":e.bgColor||"white"}),(function(e){return e.noHoverHighlight&&!e.selected?"white":"black"}),(function(e){return e.noHoverHighlight&&!e.selected?"black":"white"}),(function(e){return e.selected?.5:1})),Oe=g.a.div(be()),ge=g.a.div(de(),(function(e){return e.flexDirection||"column"}),(function(e){return e.padding||0}),(function(e){return e.alignItems||"flex-start"}),(function(e){return e.justifyContent||"center"}),(function(e){return e.flex||1})),me=g.a.div(je()),ve=g.a.div(le()),ye=g.a.div(ue()),we=g.a.div(oe(),(function(e){return e.flexDirection||"column"}),(function(e){return e.alignItems||"center"}),(function(e){return e.justifyContent||"flex-start"}),(function(e){return e.maxWidth||"900px"})),ke=g.a.div(se()),Se=g.a.div(ae(),(function(e){return e.height||"20px"}));function Ce(){var e=Object(O.a)(["\n  color: ",";\n  margin: ",";\n  padding: ",";\n  font-size: 14px;\n"]);return Ce=function(){return e},e}function Te(){var e=Object(O.a)(["\n  color: red;\n"]);return Te=function(){return e},e}function Ie(){var e=Object(O.a)(["\n  padding: 0px 50px;\n  font-size: 36px;\n  text-shadow: 4px 4px #7799dd;\n"]);return Ie=function(){return e},e}function Pe(){var e=Object(O.a)(["\n  font-size: 12px;\n"]);return Pe=function(){return e},e}function Ne(){var e=Object(O.a)(["\n  font-size: 12px;\n  line-height: 12px;\n  padding: ",";\n  margin: 0;\n"]);return Ne=function(){return e},e}function Ae(){var e=Object(O.a)(["\n  font-size: 10px;\n  line-height: 10px;\n  width: ",";\n"]);return Ae=function(){return e},e}function Ee(){var e=Object(O.a)(["\n  padding: 0px 10px;\n  background-color: white;\n  font-weight: ",";\n  font-size: 12px;\n"]);return Ee=function(){return e},e}function _e(){var e=Object(O.a)(["\n  margin-top: -32px;\n  padding: 0px 12px;\n  display: flex;\n  justify-content: space-between;\n"]);return _e=function(){return e},e}function De(){var e=Object(O.a)(["\n  padding: 10px 0;\n  margin: 0 0 4px 0;\n"]);return De=function(){return e},e}function Le(){var e=Object(O.a)(["\n  padding: 10px 0;\n  margin: 0 0 10px 0;\n"]);return Le=function(){return e},e}var Me=g.a.h2(Le()),Be=g.a.h3(De()),Ue=g.a.div(_e()),Ve=g.a.p(Ee(),(function(e){return e.b?"bold":"regular"})),Fe=g.a.p(Ae(),(function(e){return e.width||"70px"})),Re=g.a.p(Ne(),(function(e){return e.padding||2})),ze=g.a.span(Pe()),He=g.a.h1(Ie()),Ge=g.a.p(Te()),We=g.a.p(Ce(),(function(e){return e.color||"#888"}),(function(e){return e.margin||"4px 4px 4px 0px"}),(function(e){return e.padding||"default"}));function Je(){var e=Object(O.a)(["\n  border-bottom: 1px solid #aaa;\n  width: 138px;\n  margin: 0px 3px 12px 3px;\n  font-size: 10px;\n  color: #aaa;\n"]);return Je=function(){return e},e}function qe(){var e=Object(O.a)(["\n  height: 8px;\n  width: 8px;\n  margin: 4px;\n  border-width: 2px;\n  border-style: solid;\n  border-radius: 50%;\n  border-color: ",";\n  background-color: ",";\n  cursor: pointer;\n"]);return qe=function(){return e},e}function Ye(){var e=Object(O.a)(["\n  height: 30px;\n  width: 30px;\n  margin: 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  box-shadow: 3px 3px 5px ",";\n  background-color: ",";\n  opacity: ",";\n  cursor: pointer;\n  &:hover {\n    height: ",";\n    width: ",";\n    margin: ",";\n  }\n  animation-name: ",";\n  animation-duration: 0.8s;\n  animation-iteration-count: 1;\n"]);return Ye=function(){return e},e}function Xe(){var e=Object(O.a)(["\n 0% { \n   height: 30px; \n   width: 30px;\n   margin: 3px; \n  }\n  20% { \n   height: 24px; \n   width: 24px;\n   margin: 6px; \n    }\n 30% { \n   height: 32px; \n    width: 32px;  \n    margin: 2px;\n}\n 100% { \n   height: 30px; \n   width: 30px;\n   margin: 3px; \n }\n"]);return Xe=function(){return e},e}function Ke(){var e=Object(O.a)(["\n  margin: 0;\n  display: flex;\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(O.a)(["\n  margin: 10px 20px;\n  padding-bottom: 10px;\n"]);return Qe=function(){return e},e}var $e=g.a.div(Qe()),Ze=g.a.div(Ke()),et=Object(g.b)(Xe()),tt=g.a.div(Ye(),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.highlighted?.7:1}),(function(e){return e.clickable?"24px":"30px"}),(function(e){return e.clickable?"24px":"30px"}),(function(e){return e.clickable?"6px":"3px"}),(function(e){return e.animated&&et})),nt=g.a.div(qe(),(function(e){return e.color||"black"}),(function(e){return e.selected?e.color||"black":"white"})),rt=g.a.div(Je()),ct=n(296),it=Object(s.createContext)(),at=it,st=function(e){var t=e.clickable,n=void 0===t||t,r=Object(s.useContext)(it),c=r.currentPage,i=r.setCurrentPage,o=r.pages,u=r.isNotePlayedOnClick,l=r.setIsNotePlayedOnClick,j=r.tempo,d=r.setTempo,b=r.setTimeoutTempo;return Object(a.jsxs)(fe,{padding:"0 0 24px 0",children:[Object(a.jsxs)(ge,{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:[Object(a.jsx)(We,{children:"Play on click"}),Object(a.jsx)(ct.a,{onChange:function(){l(!u)},checked:u})]}),Object(a.jsxs)(ge,{flexDirection:"row",alignItems:"center",justifyContent:"center",children:[Object(a.jsx)(ie,{onClick:function(){d(j-5),b(6e4/j/4)},children:"-"}),Object(a.jsxs)(We,{children:["tempo: ",j]}),Object(a.jsx)(ie,{onClick:function(){d(j+5),b(6e4/j/4)},children:"+"})]}),Object(a.jsxs)(ge,{flexDirection:"row",alignItems:"center",justifyContent:"left",children:[Object(a.jsx)(We,{children:"Pages:"}),o.map((function(e,t){return Object(a.jsx)(nt,{selected:c===t+1,onClick:n?function(){return i(t+1)}:null},t)}))]})]})},ot=n(18),ut=n(28),lt=n(29),jt={width:16,height:16},dt=function(e){var t=e.onStopBtnPress,n=e.addOneBar,r=e.removeOneBar,c=e.onPlayBtnPress,i=e.user,o=Object(s.useContext)(it),u=o.isPlaying,l=o.partition,j=o.isSaveSongVisible,d=o.setIsSaveSongVisible,b=l[0]?l[0].length:0;return Object(a.jsxs)(E,{children:[u?Object(a.jsx)(ee,{onClick:t,children:Object(a.jsx)(ut.a,{icon:lt.c,color:"white",style:jt})}):Object(a.jsx)(Z,{onClick:c,children:Object(a.jsx)(ut.a,{icon:lt.b,color:"white",style:jt})}),Object(a.jsx)($,{onClick:r,children:"-"}),Object(a.jsxs)(ze,{children:["Length: ",b]}),Object(a.jsx)($,{onClick:n,children:"+"}),Object(a.jsx)($,{onClick:function(){return d(!j)},children:"Save"}),i&&Object(a.jsx)(ot.b,{to:"/load-song",children:Object(a.jsx)($,{children:"Load"})})]})},bt=n(38),ht=n(134),xt=n(19),ft=n.n(xt),pt=function(e){var t=e.addInstrument,n=Object(s.useState)([]),r=Object(p.a)(n,2),o=r[0],u=r[1],l=Object(s.useState)(null),j=Object(p.a)(l,2),d=j[0],b=j[1],h=Object(s.useState)(!1),x=Object(p.a)(h,2),O=x[0],g=x[1],m=Object(s.useState)([]),v=Object(p.a)(m,2),y=v[0],w=v[1],k=Object(s.useContext)(it).toggleIsAddInstrumentVisible,S=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,i,a,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t&&{params:{category:t}},e.next=3,ft.a.get("/api/instrument",r);case 3:i=e.sent,(a=i.data)&&(u(a),n&&(s=a.map((function(e){return e.category})),o=Object(f.a)(new Set(s)),w(o))),g(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){g(!0),S(null,!0)}),[]);return Object(a.jsxs)(_,{children:[Object(a.jsx)(fe,{padding:"10px 12px 4px 12px",children:Object(a.jsx)(Be,{children:"Add Instrument"})}),Object(a.jsx)(fe,{padding:"10px 12px 4px 12px",children:Object(a.jsx)(ge,{flexDirection:"row",children:y.map((function(e){if("default"!==e)return Object(a.jsx)(ne,{selected:d===e,onClick:function(){return function(e){S(e),b(e)}(e)},children:e},e)}))})}),O&&Object(a.jsx)(ge,{justifyContent:"center",alignItems:"center",children:Object(a.jsx)(bt.Bars,{width:100,height:50,fill:"#000",stroke:"#000"})}),Object(a.jsx)(fe,{padding:"4px 12px 0 12px",children:Object(a.jsx)(ge,{children:Object(a.jsx)(ht.a,{height:260,width:380,itemCount:o.length,itemSize:30,children:function(e){var n=e.index,r=e.style,c=o[n];return Object(a.jsxs)(pe,{style:r,bgColor:n%2===0?"#eee":"#fff",padding:"4px 0 4px 0",onClick:function(){return t(c),void k()},children:[Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(Re,{children:c.name})}),Object(a.jsx)(ge,{children:Object(a.jsx)(Re,{children:c.category})}),Object(a.jsx)(ge,{children:Object(a.jsx)(Re,{children:c.subCategory})})]})}})})}),Object(a.jsx)(fe,{padding:"20px 0 10px 0",children:Object(a.jsx)(ge,{alignItems:"center",children:Object(a.jsx)($,{hoverColor:"red",onClick:k,children:"Cancel"})})})]})},Ot=function(e){var t=e.saveTheSong,n=e.user,r=e.toggleIsSaveSongVisible,c=Object(s.useState)(""),i=Object(p.a)(c,2),u=i[0],l=i[1];return Object(a.jsx)(_,{children:Object(a.jsxs)(o.a.Fragment,{children:[n?Object(a.jsxs)("p",{style:{margin:10},children:["Name your song (if you modified an existing song, ",Object(a.jsx)("br",{}),"it will still be saved under as new one):"]}):Object(a.jsxs)("p",{style:{margin:10},children:["You don't have a user account yet, therefore your song ",Object(a.jsx)("br",{}),"will be published as annonymous... to bad!",Object(a.jsx)("br",{}),"Please create a user profile before saving next time ",Object(a.jsx)("br",{}),"Name your song:"]}),Object(a.jsx)(M,{type:"text",placeholder:"My Supa Song...",value:u,width:"260px",onChange:function(e){l(e.target.value)}}),Object(a.jsxs)("div",{children:[Object(a.jsx)($,{onClick:function(){return t(u)},children:"Save"}),Object(a.jsx)($,{onClick:function(){return r()},children:"Cancel"})]})]})})},gt={START_PARTITION_LENGTH:8,MAX_PARTITION_LENGTH:64,DEFAULT_TEMPO:120,DEFAULT_TIMEOUT:125,DEFAULT_SOUND_ID:"5fba8681963aad73cd4ce0b6"},mt=function(e,t){if(!e)return[];var n=[];return e.forEach((function(){for(var e=[],r=1;r<=t;r++)e.push(0);n.push(e)})),n},vt=function(e){if(e.length)return e.map((function(e){return"Tone Synth"===e.category?yt(e):wt(e)}))},yt=function(e){for(var t=e.colors,n=e.pitches,r=[],c=0;c<n.length;c++)r.push({});return{id:e._id,label:e.name,isToneJs:!0,colors:t,sounds:r,pitches:n}},wt=function(e){var t=[],n=[];return e.sounds.forEach((function(e){e||(t.push({name:"default",url:""}),n.push("")),e.url?(t.push(new Audio(e.url)),n.push(e.pitch||"")):(t.push(null),n.push(""))})),{id:e._id,label:e.name,colors:e.colors,isToneJs:!1,sounds:t,pitches:n}},kt=n(64),St=(new kt.a).toDestination(),Ct=function(e,t,n){t.forEach((function(t,r){if(t[n]){var c=t[n];if(e[r].isToneJs){if(e[r].isToneJs){var i=kt.b();St.triggerAttackRelease(e[r].pitches[c],"8n",i-.1)}}else e[r].sounds.forEach((function(e){e&&(e.pause(),e.currentTime=0)})),e[r].sounds[c].play()}}))},Tt=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kt.b(),St.triggerAttackRelease(t,"8n",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),It=["default","Drums","Bass","Synth","Guitar","Tone Synth","Piano","Brass","Strings","Flute","Effects","Voice","Other"],Pt={"":[""],default:[""],Drums:["","Kick","Snare","Tom","Hi-hat","Cymbal","Vinnyl","Percussion","Clang","Other"],Bass:["","Acoustic","Fretless","Electric","Picked","Synth","Slap"],Synth:["","Piano","Ambiant","Lead","Pad","Effect","Electronic"],Guitar:["","Acoustic","Clean","Overdrive","Distorsion","Muted","Jazz","Fuzz","Wah","Funk"],"Tone Synth":["","Synth","AMSynth","FMSynth"],Piano:["","Grand","Acoustic","Clavesin"],Brass:["","Horn","Trumpet","Tuba","Trombone"],Strings:["","Violin","Cello","Double Bass","Harp","Mixed-strings"],Flute:["","Flute","Clarinet","Pipeau","Peruvian","Bass","Recorder"],Effects:["","Scratch","Noise","Clang","Electronic","Mystic"],Voice:["","Hi-sing","Mid-sing","Low-sing","Talk","Noize"],Other:[""]},Nt=function(e){return Pt[e]},At=function(){return It},Et=function(){var e=["Anonymous","Mysterious","Unknown","Forgotten"],t=["Musician","Troubadour","Creator","Barde","Artist","Beats Maker","Sounds Juggler"],n=function(e){return Math.floor(Math.random()*e)};return"".concat(e[n(e.length)]," ").concat(t[n(t.length)])},_t=function(e){var t=e.notePosition,n=e.color,r=e.status,c=e.toggleActiveNote,i=e.linePosition,s=e.sounds,o=e.highlighted,u=e.animated,l=e.pitches,j=l[r];return Object(a.jsx)(tt,{color:n,highlighted:o,onClick:function(){c(t,i,s,l)},clickable:!0,animated:u,children:j||""})},Dt=function(e){var t=e.linePosition,n=e.notes,r=e.noteColors,c=e.toggleActiveNote,i=e.sounds,o=e.pitches,u=e.highlightedNote,l=e.label,j=e.animatedNotes,d=e.currentPage,b=e.lenghtOfPage,h=Object(s.useContext)(it).deleteLine,x=(d-1)*b,f=d*b,p=(null===n||void 0===n?void 0:n.length)?n.map((function(e,n){return n>=x&&n<f?Object(a.jsx)(_t,{status:e,notePosition:n,color:r[e],toggleActiveNote:c,linePosition:t,sounds:i,pitches:o,highlighted:u===n,animated:j.includes(n)},n):null})):[];return Object(a.jsxs)(Ze,{children:[Object(a.jsx)(re,{onClick:function(){return h(t)},children:"x"}),Object(a.jsx)(Fe,{width:"100px",children:l&&l}),p]})},Lt=function(e){var t=e.totalLength,n=e.lengthOfPage,r=e.isLastPage,c=e.currentPage,i=Object(s.useContext)(it),o=i.copyOneBar,u=i.copiedPartitionBar,l=i.pasteOneBar,j=n/4,d=[],b=r&&!(t&&t%n===0)?t%n:t>n?n:t;if(n&&n>=4)for(var h=function(e){var t=(c-1)*j+e/4-1;d.push(Object(a.jsxs)(rt,{children:["1 bar",Object(a.jsx)(ce,{onClick:function(){return o(t)},children:"copy"}),u&&Object(a.jsx)(ce,{onClick:function(){return l(t)},children:"paste"})]},t))},x=4;x<=b;x+=4)h(x);return Object(a.jsxs)(fe,{children:[Object(a.jsx)(Fe,{width:"124px"}),d]})},Mt=function(e){var t=e.partition,n=e.lengthOfPage,r=e.currentPage,c=e.pages,i=e.instruments,s=e.toggleActiveNote,u=e.highlightedNote,l=e.animatedNotes,j=e.toggleIsAddInstrumentVisible;return Object(a.jsx)("div",{style:{minHeight:300,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:Object(a.jsxs)($e,{children:[Object(a.jsx)(Lt,{totalLength:t[0]&&t[0].length,lengthOfPage:n,isLastPage:r===c.length,currentPage:r}),i.length?Object(a.jsxs)(o.a.Fragment,{children:[i.map((function(e,c){return Object(a.jsx)(Dt,{linePosition:c,label:e.label,notes:t[c],noteColors:e.colors,toggleActiveNote:s,sounds:e.sounds,pitches:e.pitches,highlightedNote:u,animatedNotes:l,currentPage:r,lenghtOfPage:n},c)})),Object(a.jsx)(Ze,{children:Object(a.jsx)(Fe,{width:"124px",children:Object(a.jsx)(ie,{onClick:j,children:"+ Add instrument"})})})]}):Object(a.jsx)(ie,{padding:"8px 8px 8px 8px",onClick:j,children:"No partition to display yet... Click here to add your first instrument"})]})})},Bt=function(e){var t=Object(s.useState)(""),n=Object(p.a)(t,2),r=n[0],u=n[1],l=Object(s.useState)(-1),j=Object(p.a)(l,2),d=j[0],b=j[1],h=o.a.useRef(null),x=window.innerWidth>=800?16:12,O=Object(s.useContext)(it),g=O.tempo,m=O.setTempo,v=O.setIsPlaying,y=O.instruments,w=O.setInstruments,k=O.partition,S=O.setPartition,C=O.setTimeoutTempo,T=O.isNotePlayedOnClick,I=O.isAddInstrumentVisible,P=O.toggleIsAddInstrumentVisible,N=O.isSaveSongVisible,A=O.setIsSaveSongVisible,E=O.animatedNotes,D=O.timeoutTempo,L=O.setAnimatedNotes,M=O.currentPage,B=O.setCurrentPage,U=O.pages,V=O.setPages;Object(s.useEffect)((function(){var t,n,r=null===e||void 0===e||null===(t=e.match)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.id;return r?R(r):F(),function(){return z()}}),[]);var F=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.a.get("/api/instrument/starter");case 2:t=e.sent,n=t.data,r=vt(n),i=mt(r,gt.START_PARTITION_LENGTH),w(r),S(i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i,a,s,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.a.get("/api/song/".concat(t));case 2:for(n=e.sent,r=n.data,i=Object(f.a)(r.instruments),a=vt(i),w(a),S(r.partition),m(r.tempo),C(6e4/r.tempo/4),s=Math.ceil(r.partition[0].length/x),o=[],u=1;u<=s;u++)o.push(1);V(o);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){v(!1),clearInterval(h.current)},H=function(){var t=Object(i.a)(c.a.mark((function t(n){var r,i,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=y.map((function(e){return e.id})),s={title:n,partition:k,tempo:g,instruments:a,creator:(null===(r=e.user)||void 0===r?void 0:r._id)||void 0,creatorName:(null===(i=e.user)||void 0===i?void 0:i.username)||Et(),posted:!0},t.next=4,ft.a.post("api/song/",s);case 4:A(!1),u('New song "'.concat(n,'" successfully saved!')),setTimeout((function(){u("")}),1500);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(o.a.Fragment,{children:[I&&Object(a.jsx)(pt,{addInstrument:function(e){for(var t=k[0]?k[0].length:8,n=[],r=1;r<=t;r++)n.push(0);var c,i=Object(f.a)(k),a=Object(f.a)(y),s="Tone Synth"===(c=e).category?yt(c):wt(c);a.push(s),i.push(n),w(a),S(i)}}),N&&Object(a.jsx)(Ot,{saveTheSong:H,toggleIsSaveSongVisible:function(){return A(!N)},user:e.user}),r&&Object(a.jsx)(_,{children:Object(a.jsx)("p",{children:r})}),Object(a.jsx)(st,{}),Object(a.jsx)(Mt,{partition:k,lengthOfPage:x,currentPage:M,pages:U,instruments:y,toggleActiveNote:function(e,t,n,r){var c=Object(f.a)(k),i=n.length,a=(c[t][e]+1)%i;c[t][e]=a,n[a]instanceof Audio&&T?n[a].play():y[t].isToneJs&&r.length&&r[a]&&Tt(r[a]),S(c)},highlightedNote:d,animatedNotes:E,toggleIsAddInstrumentVisible:P}),Object(a.jsx)(dt,{onPlayBtnPress:function(){!function(e,t,n){if(t&&t.length){v(!0),B(1);var r=0;h.current=setInterval((function(){if(b(r),L([r-1,r,r+1]),Ct(e,t,r),++r>=t[0].length&&(r=0),r%x===1){var n=Math.ceil(r/x);B(n)}}),n)}}(y,k,D)},onStopBtnPress:z,addOneBar:function(){if(k.length&&k[0].length<gt.MAX_PARTITION_LENGTH){var e=Object(f.a)(k);e.forEach((function(e){e.push(0)}));var t=Math.ceil(e[0].length/x),n=U.length<t?U.concat([1]):U;S(e),V(n)}},removeOneBar:function(){var e;if(!((null===(e=k[0])||void 0===e?void 0:e.length)<2)){var t=Object(f.a)(k),n=t[0].length-1;t.forEach((function(e){e.splice(n,1)}));var r=Math.ceil(t[0].length/x),c=U.length>r?U.slice(0,U.length-1):U;S(t),V(c),M>c.length&&B(c.length)}},user:e.user})]})},Ut=function(e){var t=e.status,n=e.colors,r=e.highlighted,c=e.isAnimated,i=n[t];return Object(a.jsx)(tt,{color:i,highlighted:r,animated:c})},Vt=function(e){var t=e.notes,n=e.noteColors,r=e.highlightedNote,c=e.animatedNotes,i=e.lengthOfPage,s=e.currentPage,o=(s-1)*i,u=s*i,l=t.map((function(e,t){if(t>=o&&t<u)return Object(a.jsx)(Ut,{status:e,colors:n,highlighted:r===t,isAnimated:c.includes(t)},t)}));return Object(a.jsx)(Ze,{children:l})},Ft={width:40,height:40,padding:"10px 30px",border:"solid 1px rgba(0, 0, 0, 0.6)",color:"rgba(0, 0, 0, 0.7)",backgroundColor:"rgba(250, 250, 250, 0.5)",borderRadius:5,zIndex:5},Rt=function(e){var t=e.title,n=e.partition,r=e.musicLines,c=e.tempo,i=e.creatorName,o=Object(s.useState)(!1),u=Object(p.a)(o,2),l=u[0],j=u[1],d=Object(s.useState)(-1),b=Object(p.a)(d,2),h=b[0],x=b[1],f=Object(s.useState)([-1,-1,-1]),O=Object(p.a)(f,2),g=O[0],m=O[1],v=Object(s.useState)(1),y=Object(p.a)(v,2),w=y[0],k=y[1],S=Object(s.useState)([1]),C=Object(p.a)(S,2),T=(C[0],C[1]),I=6e4/c/4,P=Object(s.useRef)(null),N=window.innerWidth>=800?16:12;Object(s.useEffect)((function(){for(var e=[],t=Math.ceil(n[0].length/N),r=1;r<=t;r++)e.push(1);T(e)}),[]),Object(s.useEffect)((function(){return function(){return A()}}),[]);var A=function(){j(!1),clearInterval(P.current)};return Object(a.jsxs)(L,{children:[Object(a.jsx)(D,{onClick:function(){l?A():function(e,t,n){j(!0),k(1);var r=0;P.current=setInterval((function(){if(x(r),m([r-1,r,r+1]),Ct(e,t,r),++r>=t[0].length&&(r=0),r%N===1){var n=Math.ceil(r/N);k(n)}}),n)}(r,n,I)},children:l?Object(a.jsx)(ut.a,{icon:lt.c,color:"black",style:Ft}):Object(a.jsx)(ut.a,{icon:lt.b,color:"black",style:Ft})}),Object(a.jsxs)(Ue,{children:[Object(a.jsx)(Ve,{b:!0,children:t}),Object(a.jsxs)(Ve,{children:["by ",i]})]}),Object(a.jsx)($e,{children:r.map((function(e,t){return Object(a.jsx)(Vt,{linePosition:t,notes:n[t],noteColors:e.colors,sounds:e.sounds,lengthOfPage:N,currentPage:w,highlightedNote:h,animatedNotes:g},t)}))})]})},zt=function(){var e={padding:4,paddingTop:32,width:40,height:40};return Object(a.jsxs)(Oe,{children:[Object(a.jsx)(fe,{children:Object(a.jsx)(ge,{justifyContent:"center",alignItems:"center",children:Object(a.jsx)(Me,{children:"Welcome to Boom-Tchak!"})})}),Object(a.jsx)(fe,{children:Object(a.jsxs)(ge,{justifyContent:"center",alignItems:"center",children:[Object(a.jsx)("p",{style:{margin:0,padding:8},children:"The app to discover and create nice music loops."}),Object(a.jsxs)("p",{style:{margin:0,padding:0},children:["Want to start creating music? It's here -"," ",Object(a.jsx)(ot.b,{to:"/create",children:Object(a.jsx)($,{children:"Create"})})]}),Object(a.jsxs)("p",{style:{margin:0,padding:0},children:["Need help? This way -"," ",Object(a.jsx)(ot.b,{to:"/help",children:Object(a.jsx)($,{children:"Help"})})]}),Object(a.jsx)("p",{style:{margin:0,padding:8},children:"To check out some nice music loops, scroll down and click on the songs"})]})}),Object(a.jsx)(fe,{children:Object(a.jsxs)(ge,{flexDirection:"row",justifyContent:"center",alignItems:"center",children:[Object(a.jsx)(ut.a,{icon:lt.a,style:e,color:"black"}),Object(a.jsx)(ut.a,{icon:lt.a,style:e,color:"black"}),Object(a.jsx)(ut.a,{icon:lt.a,style:e,color:"black"})]})})]})},Ht=function(e){var t=e.isAppIntroDisplayed,n=void 0!==t&&t,r=Object(s.useState)([]),u=Object(p.a)(r,2),l=u[0],j=u[1],d=Object(s.useState)(!1),b=Object(p.a)(d,2),h=b[0],x=b[1],O=Object(s.useState)(1),g=Object(p.a)(O,2),m=g[0],v=g[1],y=Object(s.useState)(""),w=Object(p.a)(y,2),k=w[0],S=w[1],C=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,ft.a.get("/api/song/posted/".concat(m),{page:1});case 3:if(t=e.sent,(n=t.data).length){e.next=10;break}return S("no more songs to load..."),x(!1),setTimeout((function(){S("")}),2e3),e.abrupt("return");case 10:n.forEach((function(e){var t=vt(e.instruments);e.instruments=t})),j([].concat(Object(f.a)(l),Object(f.a)(n))),x(!1),v(m+1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){C()}),[]);return Object(a.jsxs)(o.a.Fragment,{children:[n&&Object(a.jsx)(zt,{}),l.map((function(e){return Object(a.jsx)(Rt,{title:e.title,partition:e.partition,musicLines:e.instruments,tempo:e.tempo,creatorName:e.creatorName},e._id)})),h?Object(a.jsx)(bt.Bars,{width:100,height:50,fill:"#000",stroke:"#000"}):k?Object(a.jsx)("p",{children:k}):Object(a.jsx)(te,{onClick:function(){C()},children:"load more"}),Object(a.jsx)(Se,{height:"100px"})]})},Gt=function(e){var t=Object(s.useState)([]),n=Object(p.a)(t,2),r=n[0],o=n[1],u=Object(s.useState)(!1),l=Object(p.a)(u,2),j=l[0],d=l[1],b=Object(s.useState)(null),h=Object(p.a)(b,2),x=h[0],f=h[1],O=Object(s.useState)(""),g=Object(p.a)(O,2),m=g[0],v=g[1],y=function(){var t=Object(i.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.next=3,ft.a.get("/api/song/creator/".concat(e.user._id));case 3:n=t.sent,(r=n.data)&&(o(r),d(!1));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){y()}),[]);var w=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.a.delete("/api/song/".concat(t));case 2:n=e.sent,v(n.message),y(),setTimeout((function(){v("")}),1500);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(ke,{children:[Object(a.jsx)(Me,{children:"Load Song"}),j&&Object(a.jsx)(ge,{alignItems:"center",children:Object(a.jsx)(bt.Bars,{width:100,height:50,fill:"#000",stroke:"#000"})}),r.map((function(e){return Object(a.jsx)(z,{selected:x===e._id,onClick:function(){f(e._id)},children:e.title},e._id)})),Object(a.jsx)("div",{children:m&&Object(a.jsx)("p",{children:m})}),x&&Object(a.jsxs)("div",{style:{paddingTop:20},children:[Object(a.jsx)(ot.b,{to:"/create/".concat(x),children:Object(a.jsx)($,{children:"Load"})}),Object(a.jsx)($,{onClick:function(){return w(x)},children:"Delete"}),Object(a.jsx)(ot.b,{to:"/",children:Object(a.jsx)($,{children:"Cancel"})})]})]})},Wt=function(e,t){return ft.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Jt=function(e,t){return ft.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},qt=function(e){var t=Object(s.useState)(""),n=Object(p.a)(t,2),r=n[0],o=n[1],u=Object(s.useState)(""),l=Object(p.a)(u,2),j=l[0],d=l[1],b=Object(s.useState)(""),h=Object(p.a)(b,2),x=h[0],f=h[1],O=function(){var t=Object(i.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jt(r,j);case 2:(n=t.sent).message?f(n.message):(e.setUser(n),e.history.push("/"));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(e){"username"===e.target.name&&o(e.target.value),"password"===e.target.name&&d(e.target.value)};return Object(a.jsx)(ke,{children:Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{}),Object(a.jsxs)(ge,{flex:1,children:[Object(a.jsx)(Me,{children:"Login"}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{children:Object(a.jsx)(B,{htmlFor:"username",children:"Username:"})}),Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(M,{type:"text",name:"username",width:"100%",id:"username",value:r,onChange:g})})]}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{flex:1,children:Object(a.jsx)(B,{htmlFor:"password",children:"Password:"})}),Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(M,{type:"password",name:"password",width:"100%",id:"password",value:j,onChange:g})})]}),Object(a.jsx)(Se,{}),Object(a.jsx)(fe,{children:Object(a.jsxs)(ge,{alignItems:"center",children:[x&&Object(a.jsx)(Ge,{children:x}),Object(a.jsx)($,{onClick:O,children:"Login"}),Object(a.jsx)("p",{children:"No profile yet?"}),Object(a.jsx)(ot.b,{to:"/signup",style:{textDecoration:"none",color:"black"},children:"signup"})]})})]}),Object(a.jsx)(ge,{})]})})},Yt=function(e){var t=Object(s.useState)(""),n=Object(p.a)(t,2),r=n[0],o=n[1],u=Object(s.useState)(""),l=Object(p.a)(u,2),j=l[0],d=l[1],b=Object(s.useState)(""),h=Object(p.a)(b,2),x=h[0],f=h[1],O=function(){var t=Object(i.a)(c.a.mark((function t(n){var i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wt(r,j);case 2:(i=t.sent).message?f(i.message):(e.setUser(i),e.history.push("/"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(e){"username"===e.target.name&&o(e.target.value),"password"===e.target.name&&d(e.target.value)};return Object(a.jsx)(ke,{children:Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{}),Object(a.jsxs)(ge,{flex:1,children:[Object(a.jsx)(Me,{children:"Signup"}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{children:Object(a.jsx)(B,{htmlFor:"username",children:"Username:"})}),Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(M,{type:"text",name:"username",width:"100%",id:"username",value:r,onChange:g})})]}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{flex:1,children:Object(a.jsx)(B,{htmlFor:"password",children:"Password:"})}),Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(M,{type:"password",name:"password",width:"100%",id:"password",value:j,onChange:g})})]}),Object(a.jsx)(Se,{}),Object(a.jsx)(fe,{children:Object(a.jsxs)(ge,{alignItems:"center",children:[x&&Object(a.jsx)(Ge,{children:x}),Object(a.jsx)($,{onClick:O,children:"Submit"}),Object(a.jsx)("p",{children:"Already have a profile?"}),Object(a.jsx)(ot.b,{to:"/login",style:{textDecoration:"none",color:"black"},children:"login"})]})})]}),Object(a.jsx)(ge,{})]})})},Xt=function(e){var t=Object(s.useState)(""),n=Object(p.a)(t,2),r=n[0],o=n[1],u=function(){var t=Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:e.setUser(null),e.history.push("/");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.user?Object(a.jsxs)(ke,{children:[Object(a.jsx)(fe,{children:Object(a.jsx)(ge,{children:Object(a.jsx)(Me,{children:"Profile"})})}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(F,{src:"https://images.unsplash.com/photo-1502377429547-835a416e4a90?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=667&q=80"})}),Object(a.jsxs)(ge,{justifyContent:"flex-start",flex:3,children:[Object(a.jsxs)("h3",{children:["Hello, ",e.user.username]}),Object(a.jsx)("p",{children:"Are you ready to create some funky beats today?"}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ot.b,{to:"/load-song",children:Object(a.jsx)($,{children:"Load Song"})}),Object(a.jsx)($,{onClick:function(){e.user&&!0===e.user.admin?e.history.push("/create-instrument"):(o("Coming soon, stay tuned..."),setInterval((function(){o("")}),2e3))},children:"Create Instrument"}),Object(a.jsx)($,{onClick:u,children:"Logout"})]}),Object(a.jsx)(fe,{children:Object(a.jsx)(ge,{children:r&&Object(a.jsx)("p",{children:r})})})]})]})]}):Object(a.jsxs)(ke,{children:[Object(a.jsx)(Me,{children:"No Profile..."}),Object(a.jsx)(fe,{children:Object(a.jsx)(ge,{children:"Please login or signup to access the profile page"})})]})},Kt=n(33),Qt=n(21),$t=function(e){var t=e.component,n=e.user,r=Object(Kt.a)(e,["component","user"]);return Object(a.jsx)(Qt.b,Object(j.a)(Object(j.a)({user:n},r),{},{render:function(e){return n?Object(a.jsx)(t,Object(j.a)(Object(j.a)({user:n},r),e)):Object(a.jsx)(Qt.a,{to:"/"})}}))},Zt=function(e){var t=e.name,n=e.setName,r=e.category,c=e.setCategory,i=e.subCategory,s=e.setSubCategory,u=At();return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{flex:1,children:"Name:"}),Object(a.jsx)(ge,{justifyContent:"flex-start",flex:2,children:Object(a.jsx)(M,{width:"160px",type:"text",value:t,onChange:function(e){return n(e.target.value)}})})]}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{flex:1,children:"Category:"}),Object(a.jsx)(ge,{justifyContent:"flex-start",flex:2,children:Object(a.jsx)(U,{name:"category",width:"170px",value:r,onChange:function(e){return c(e.target.value)},children:u.map((function(e,t){return Object(a.jsx)(V,{value:e,children:"default"!==e&&e},t)}))})})]}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{flex:1,children:"Sub-category:"}),Object(a.jsx)(ge,{justifyContent:"flex-start",flex:2,children:Object(a.jsx)(U,{name:"sub-category",width:"170px",value:i,onChange:function(e){return s(e.target.value)},children:Nt(r).map((function(e,t){return Object(a.jsx)(V,{value:e,children:e},t)}))})})]})]})},en=function(e){var t=e.sounds,n=e.colors,r=e.addSound;return Object(a.jsxs)(o.a.Fragment,{children:[t&&t.map((function(e,t){return Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{children:Object(a.jsx)("p",{style:{margin:0,padding:"5px 0"},children:0===t?"Default":"".concat(t)})}),Object(a.jsx)(ge,{children:Object(a.jsx)(R,{backgroundColor:n[t]})}),Object(a.jsx)(ge,{flex:5,children:e.url?Object(a.jsx)($,{onClick:function(){return t=e.url,void new Audio(t).play();var t},children:e.name}):Object(a.jsx)("p",{style:{margin:0,padding:"5px 18px"},children:"No sound"})})]},t)})),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{flex:2}),Object(a.jsx)(ge,{justifyContent:"flex-start",flex:5,children:Object(a.jsx)($,{backgroundColor:"#0f0",onClick:r,children:"Add Sound"})})]})]})},tn=function(e){var t=e.loading,n=e.availableSounds,r=e.selectedSound,c=e.selectSound,i=e.filterName,u=Object(s.useState)("default"),l=Object(p.a)(u,2),j=l[0],d=l[1],b=Object(s.useState)(""),h=Object(p.a)(b,2),x=h[0],f=h[1],O=n.filter((function(e){return(!i||e.name.toLocaleLowerCase().includes(i.toLocaleLowerCase()))&&("default"===j||j===e.category)&&(!x||x===e.subCategory)})),g={margin:2,color:"black",backgroundColor:"white",padding:6,borderColor:"black",borderWidth:1,borderStyle:"solid",borderRadius:"50%",cursor:"pointer"},m=At();return t?Object(a.jsx)(ge,{alignItems:"center",children:Object(a.jsx)(bt.Bars,{width:100,height:50,fill:"#000",stroke:"#000"})}):Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{}),Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(Be,{children:"Name"})}),Object(a.jsxs)(ge,{flex:2,flexDirection:"row",justifyContent:"left",children:[Object(a.jsx)(Be,{children:"Category"}),Object(a.jsx)(U,{name:"category",width:"60px",value:j,onChange:function(e){return d(e.target.value)},children:m.map((function(e,t){return Object(a.jsx)(V,{value:e,children:"default"===e?"all":e},t)}))})]}),Object(a.jsxs)(ge,{flex:2,flexDirection:"row",justifyContent:"left",children:[Object(a.jsx)(Be,{children:"Sub-cat."}),Object(a.jsx)(U,{name:"sub-category",width:"60px",value:x,onChange:function(e){return f(e.target.value)},children:Nt(j).map((function(e,t){return Object(a.jsx)(V,{value:e,children:e||"all"},t)}))})]}),Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(Be,{children:"Pitch"})})]}),O.map((function(e){return Object(a.jsxs)(pe,{selected:r&&r.url===e.url,noHoverHighlight:!0,onClick:function(){return c(e)},children:[Object(a.jsx)(ge,{children:Object(a.jsx)(ut.a,{icon:lt.d,style:g,onClick:function(){return new Audio(e.url).play()}})}),["name","category","subCategory","pitch"].map((function(t,n){return Object(a.jsx)(ge,{flex:2,children:e[t]},n)}))]},e._id)}))]})},nn=function(e){var t=e.setView,n=e.fetchData,r=Object(s.useState)(""),u=Object(p.a)(r,2),l=u[0],j=u[1],d=Object(s.useState)(""),b=Object(p.a)(d,2),h=b[0],x=b[1],f=Object(s.useState)(""),O=Object(p.a)(f,2),g=O[0],m=O[1],v=Object(s.useState)(""),y=Object(p.a)(v,2),w=y[0],k=y[1],S=Object(s.useState)(null),C=Object(p.a)(S,2),T=C[0],I=C[1],P=Object(s.useState)(""),N=Object(p.a)(P,2),A=N[0],E=N[1],_=function(){var e=Object(i.a)(c.a.mark((function e(){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&h&&g){e.next=5;break}return L("Please chose a name and select categories"),e.abrupt("return");case 5:if(!(l.length<5)){e.next=9;break}L("The sound name must be at least 5 char."),e.next=12;break;case 9:if(T){e.next=12;break}return L("please select a file to upload"),e.abrupt("return");case 12:return(r=new FormData).append("sounds",T),e.next=16,ft.a.post("/api/sound/upload",r);case 16:return i=e.sent,e.next=19,ft.a.post("/api/sound",{name:l,category:h,subCategory:g,pitch:w,url:i.data.secure_url});case 19:if(!(a=e.sent).message){e.next=23;break}return L(a.message),e.abrupt("return");case 23:t("ADD"),n();case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=At(),L=function(e){E(e),setInterval((function(){E("")}),3e3)};return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{children:"Select file:"}),Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(M,{id:"file",name:"file",type:"file",multiple:"false",onChange:function(e){var t=e.target.files[0];I(t)}})})]}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{children:"Name:"}),Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(M,{type:"text",value:l,onChange:function(e){return j(e.target.value)}})})]}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{children:"Category:"}),Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(U,{name:"category",onChange:function(e){return x(e.target.value)},children:D.map((function(e,t){return Object(a.jsx)(V,{value:e,children:"default"!==e&&e},t)}))})})]}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{children:"Sub-Category:"}),Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(U,{name:"sub-category",onChange:function(e){return m(e.target.value)},children:Nt(h).map((function(e,t){return Object(a.jsx)(V,{value:e,children:e},t)}))})})]}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{children:"Pitch (optional):"}),Object(a.jsx)(ge,{flex:2,children:Object(a.jsx)(M,{type:"text",value:w,onChange:function(e){return k(e.target.value)}})})]}),Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{}),Object(a.jsx)(ge,{flex:2,children:T&&T.name})]}),Object(a.jsx)(fe,{children:Object(a.jsx)(ge,{children:A&&A})}),Object(a.jsx)(fe,{children:Object(a.jsx)(ge,{flex:1,children:Object(a.jsx)($,{onClick:_,children:"Create Sound"})})})]})},rn="ADD",cn="UPLOAD",an=function(e){var t=e.switchToOverview,n=e.availableSounds,r=e.selectedSound,c=e.selectSound,i=e.addSound,u=e.loading,l=e.fetchData,j=e.displayMessage,d=Object(s.useState)(rn),b=Object(p.a)(d,2),h=b[0],x=b[1],f=Object(s.useState)(""),O=Object(p.a)(f,2),g=O[0],m=O[1];Object(s.useEffect)((function(){c(null)}),[]);return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{flexDirection:"row",justifyContent:"left",children:Object(a.jsx)(Me,{children:"Add Sound"})}),Object(a.jsx)(ge,{flexDirection:"row",justifyContent:"left",children:Object(a.jsx)(M,{type:"text",width:"140px",value:g,placeholder:"Search...",onChange:function(e){return m(e.target.value)}})}),Object(a.jsxs)(ge,{flex:2,flexDirection:"row",justifyContent:"flex-end",children:[Object(a.jsx)($,{backgroundColor:"#0f0",onClick:function(){r&&r.name&&r.url?i({id:r._id,name:r.name,color:"#ddd",url:r.url}):j("Please select a sound first")},children:"Add"}),Object(a.jsx)($,{backgroundColor:"#f00",onClick:t,children:"Cancel"}),h===rn&&Object(a.jsx)($,{onClick:function(){x(cn)},children:"Upload own sound"}),h===cn&&Object(a.jsx)($,{onClick:function(){x(rn)},children:"Search sound"})]})]}),Object(a.jsx)(fe,{children:Object(a.jsxs)(ge,{flex:1,children:[h===cn&&Object(a.jsx)(nn,{setView:x,fetchData:l}),h===rn&&Object(a.jsx)(tn,{loading:u,availableSounds:n,selectedSound:r,selectSound:c,filterName:g})]})})]})},sn=n(133),on="OVERVIEW",un="ADD_SOUND",ln=function(e){var t=Object(s.useState)(""),n=Object(p.a)(t,2),r=n[0],u=n[1],l=Object(s.useState)(""),j=Object(p.a)(l,2),d=j[0],b=j[1],h=Object(s.useState)(""),x=Object(p.a)(h,2),O=x[0],g=x[1],m=Object(s.useState)(""),v=Object(p.a)(m,2),y=v[0],w=v[1],k=Object(s.useState)([{id:gt.DEFAULT_SOUND_ID}]),S=Object(p.a)(k,2),C=S[0],T=S[1],I=Object(s.useState)(on),P=Object(p.a)(I,2),N=P[0],A=P[1],E=Object(s.useState)(!1),_=Object(p.a)(E,2),D=_[0],L=_[1],M=Object(s.useState)([]),B=Object(p.a)(M,2),U=B[0],V=B[1],F=Object(s.useState)(null),R=Object(p.a)(F,2),z=R[0],H=R[1],G=Object(s.useState)("start"),W=Object(p.a)(G,2),J=W[0],q=W[1],Y=Object(s.useState)(["#ddd"]),X=Object(p.a)(Y,2),K=X[0],Q=X[1],Z=Object(s.useState)("#aaaaaa"),ee=Object(p.a)(Z,2),te=ee[0],re=ee[1],ce=Object(s.useState)("#555555"),ie=Object(p.a)(ce,2),ae=ie[0],se=ie[1],oe=Object(s.useState)("#aaaaaa"),ue=Object(p.a)(oe,2),le=ue[0],je=ue[1];Object(s.useEffect)((function(){de()}),[te,ae]);var de=function(){var e=Object(f.a)(K),t=C.length;if(1!==t){if(t>=2&&(e[1]=te),t>=3&&(e[t-1]=ae),t>3)for(var n=function(e,t,n){function r(e){var t,n,r,c=e.length>6?e.substr(1,e.length-1):e;return c.length>3?(t=c.substr(0,2),n=c.substr(2,2),r=c.substr(4,2)):(t=c.substr(0,1)+c.substr(0,1),n=c.substr(1,1)+c.substr(1,1),r=c.substr(2,1)+c.substr(2,1)),[parseInt(t,16),parseInt(n,16),parseInt(r,16)]}for(var c=function(e,t,n){return n=n||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(n)+e},i=r(e),a=r(t),s=[],o=100/(n+1),u=[a[0]-i[0],a[1]-i[1],a[2]-i[2]],l=0;l<n;l++){var j=c(u[0]>0?Math.round(u[0]/100*(o*(l+1))).toString(16):Math.round(i[0]+u[0]/100*(o*(l+1))).toString(16),2),d=c(u[1]>0?Math.round(u[1]/100*(o*(l+1))).toString(16):Math.round(i[1]+u[1]/100*(o*(l+1))).toString(16),2),b=c(u[2]>0?Math.round(u[2]/100*(o*(l+1))).toString(16):Math.round(i[2]+u[2]/100*(o*(l+1))).toString(16),2);s[l]=["#",j,d,b].join("")}return s}(te,ae,t-3),r=2;r<t-1;r++)e[r]=n[r-2];Q(e)}},be=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(un),e.next=3,he();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,ft.a.get("/api/sound");case 3:t=e.sent,(n=t.data)&&(V(n),L(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(e){w(e),setInterval((function(){w("")}),2e3)},pe=function(){u(""),b(""),g(""),T([{id:gt.DEFAULT_SOUND_ID}])},Oe=function(){var t=Object(i.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&d&&O){t.next=3;break}return xe("Please enter the fields: ".concat(r?"":"Name"," ").concat(d?"":"Category"," ").concat(O?"":"Sub-category")),t.abrupt("return");case 3:if(!(C.length<2)){t.next=6;break}return xe("You must select at least 1 sound"),t.abrupt("return");case 6:return t.next=8,ft.a.post("/api/instrument",{name:r,category:d,subCategory:O,sounds:C.map((function(e){return e.id||null})),colors:K,creator:e.user._id,private:!1});case 8:(n=t.sent).message?xe(n.message):200===n.status&&(xe("Success! You just created a new instrument!"),pe());case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)(ke,{children:[Object(a.jsx)(fe,{children:y&&Object(a.jsx)(Ge,{children:y})}),N===un&&Object(a.jsx)(an,{switchToOverview:function(){A(on)},availableSounds:U,selectedSound:z,selectSound:function(e){H(e)},loading:D,addSound:function(e){if(e.url,e.color){var t={id:e.id,name:e.name,url:e.url,pitch:e.pitch||""},n=[].concat(Object(f.a)(C),[t]);T(n),Q([].concat(Object(f.a)(K),["#ddd"])),A(on)}else xe("Please select or upload a sound and pick a color")},fetchData:he,displayMessage:xe}),N===on&&Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)(fe,{children:[Object(a.jsx)(ge,{flex:1,children:Object(a.jsx)(Me,{children:"Create Instrument"})}),Object(a.jsxs)(ge,{flex:2,flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-end",children:[Object(a.jsx)($,{onClick:Oe,children:"Save Instrument"}),Object(a.jsx)($,{onClick:pe,children:"Reset"}),Object(a.jsx)($,{onClick:function(){},children:"Help"})]})]}),Object(a.jsxs)(fe,{children:[Object(a.jsxs)(ge,{flex:2,children:[Object(a.jsx)(Zt,{name:r,setName:u,category:d,setCategory:b,subCategory:O,setSubCategory:g}),Object(a.jsx)(fe,{children:Object(a.jsx)(ge,{children:Object(a.jsx)("h3",{children:"Sounds:"})})}),Object(a.jsx)(fe,{children:Object(a.jsx)(ge,{children:Object(a.jsx)(en,{sounds:C,colors:K,addSound:be})})})]}),Object(a.jsxs)(ge,{flex:1,children:[Object(a.jsx)(sn.a,{color:le,onChangeComplete:function(e){je(e.hex),"start"===J?re(e.hex):"end"===J&&se(e.hex)}}),Object(a.jsx)(fe,{children:Object(a.jsxs)(ge,{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",children:[Object(a.jsx)(ne,{selected:"start"===J,onClick:function(){return q("start")},children:"Pick start color"}),Object(a.jsx)(ne,{selected:"end"===J,onClick:function(){return q("end")},children:"Pick end color"})]})})]})]})]})]})},jn=function(){return Object(a.jsxs)(ke,{children:[Object(a.jsx)(fe,{children:Object(a.jsx)(ge,{children:Object(a.jsx)(Me,{children:"Help"})})}),Object(a.jsx)(fe,{children:Object(a.jsx)(ge,{children:Object(a.jsx)("p",{children:'The 2 main sections of the app are "Listen", where you can browse, check and play the music loops that are created, and "Create" where you can create your own loops.'})})}),Object(a.jsx)(fe,{children:Object(a.jsxs)(ge,{children:[Object(a.jsx)(Be,{children:"Create song"}),Object(a.jsx)("p",{children:"In the song creation space you see the music grid which is composed of notes represented by gray squares, and a control panel at the bottom:"}),Object(a.jsx)(fe,{alignItems:"center",justifyContent:"center",children:Object(a.jsx)(ge,{alignItems:"center",justifyContent:"center",children:Object(a.jsx)("img",{src:"images/music-grid-1.png",alt:"Music grid example"})})}),Object(a.jsx)("p",{children:"On the music grid, the horizontal axis is the time, the vertical is the array of instruments that are available to you. Let's first try the default instruments."}),Object(a.jsx)("p",{children:"By clicking on a square, it changes color as you activate a sound to be played at a certain time in the loop. For example if you click on the first square of the kick, a kick will be played at the beginning."}),Object(a.jsx)(fe,{alignItems:"center",justifyContent:"center",children:Object(a.jsx)(ge,{alignItems:"center",justifyContent:"center",children:Object(a.jsx)("img",{src:"images/music-grid-2.png",alt:"Music grid example"})})}),Object(a.jsx)("p",{children:"Some instruments have only one sound, some have several, clicking several times on the same square switches between different sounds. Let's create a basic loop by switching on the notes (1 click) to form the following pattern:"}),Object(a.jsx)(fe,{alignItems:"center",justifyContent:"center",children:Object(a.jsx)(ge,{alignItems:"center",justifyContent:"center",children:Object(a.jsx)("img",{src:"images/music-grid-3.png",alt:"Music grid example"})})}),Object(a.jsx)("p",{children:"Press play and the magic happens! The notes are read as a sequence, at a 120 tempo, 8 squares represent a second, so our loop is 1 second long."}),Object(a.jsx)("p",{children:'To make the loop longer, press the "+" button next to "bars" and the grid extends. When the grid is longer than 16 notes, it gets spread on several pages that you can check and select using the page selector:'}),Object(a.jsx)(fe,{alignItems:"center",justifyContent:"center",children:Object(a.jsx)(ge,{alignItems:"center",justifyContent:"center",children:Object(a.jsx)("img",{src:"images/music-pages-selectors.png",alt:"Page selectors example"})})}),Object(a.jsx)("p",{children:'You can add and remove instruments (grid lines) using the menu. Once you are happy with your creation, click on "save" to keep it and share it. To save, you will need to create a profile, but this takes a couple of seconds. That\'s about it!'})]})}),Object(a.jsx)(fe,{children:Object(a.jsx)(ge,{children:Object(a.jsx)(Be,{children:"Have fun!"})})})]})},dn={textDecoration:"none",color:"black"},bn={textDecoration:"none",color:"black",padding:"0 8px"},hn=function(e){return Object(a.jsx)(me,{children:Object(a.jsxs)(we,{flexDirection:"row",justifyContent:"space-between",children:[Object(a.jsx)(ot.b,{style:dn,to:"/",children:Object(a.jsx)(He,{children:"Boum-Tchak!"})}),Object(a.jsxs)("div",{style:{display:"flex",paddingRight:20,alignItems:"center"},children:[Object(a.jsx)(ot.b,{style:dn,to:"/listen",children:Object(a.jsx)(te,{children:"Listen"})}),Object(a.jsx)(ot.b,{style:dn,to:"/create",children:Object(a.jsx)(te,{children:"Create"})}),e.user?Object(a.jsx)(ot.b,{style:dn,to:"/profile",children:Object(a.jsx)(te,{children:"Profile"})}):Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(ot.b,{style:dn,to:"/signup",children:Object(a.jsx)(te,{children:"Signup"})}),Object(a.jsx)(ot.b,{style:bn,to:"/login",children:"Login"})]}),Object(a.jsx)(ot.b,{style:bn,to:"/help",children:"Help"})]})]})})},xn=(n(279),function(e){Object(h.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)(ye,{children:[Object(a.jsx)(hn,{user:this.state.user}),Object(a.jsxs)(we,{children:[Object(a.jsx)(ve,{}),Object(a.jsxs)(Qt.d,{children:[Object(a.jsx)(Qt.b,{exact:!0,path:"/create",render:function(t){return Object(a.jsx)(Bt,Object(j.a)({user:e.state.user},t))}}),Object(a.jsx)(Qt.b,{exact:!0,path:"/help",render:function(e){return Object(a.jsx)(jn,Object(j.a)({},e))}}),Object(a.jsx)(Qt.b,{exact:!0,path:"/create/:id",render:function(t){return Object(a.jsx)(Bt,Object(j.a)({user:e.state.user},t))}}),Object(a.jsx)(Qt.b,{exact:!0,path:"/login",render:function(t){return e.state.user?Object(a.jsx)(Qt.a,{to:"/"}):Object(a.jsx)(qt,Object(j.a)({setUser:e.setUser},t))}}),Object(a.jsx)(Qt.b,{exact:!0,path:"/signup",render:function(t){return e.state.user?Object(a.jsx)(Qt.a,{to:"/"}):Object(a.jsx)(Yt,Object(j.a)({setUser:e.setUser},t))}}),Object(a.jsx)($t,{exact:!0,path:"/profile",user:this.state.user,setUser:this.setUser,component:Xt}),Object(a.jsx)($t,{exact:!0,path:"/create-instrument",user:this.state.user,setUser:this.setUser,component:ln}),Object(a.jsx)(Qt.b,{exact:!0,path:"/",render:function(e){return Object(a.jsx)(Ht,Object(j.a)({isAppIntroDisplayed:!0},e))}}),Object(a.jsx)(Qt.b,{exact:!0,path:"/listen",render:function(e){return Object(a.jsx)(Ht,Object(j.a)({isAppIntroDisplayed:!1},e))}}),Object(a.jsx)(Qt.b,{exact:!0,path:"/load-song",render:function(t){return e.state.user?Object(a.jsx)(Gt,Object(j.a)({user:e.state.user},t)):Object(a.jsx)(Qt.a,{to:"/"})}})]})]})]})}}]),n}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fn="SET_TEMPO",pn="SET_TIMEOUT_TEMPO",On="SET_IS_NOTE_PLAYED_ON_CLICK",gn="SET_IS_ADD_INSTRUMENT_VISIBLE",mn="SET_IS_SAVE_SONG_VISIBLE",vn="SET_IS_PLAYING",yn="SET_PARTITION",wn="SET_INSTRUMENTS",kn="SET_COPIED_PARTITION_BAR",Sn="SET_ANIMATED_NOTES",Cn="SET_CURRENT_PAGE",Tn="SET_PAGES",In=function(e,t){var n=t.payload;switch(t.type){case fn:return Object(j.a)(Object(j.a)({},e),{},{tempo:n});case pn:return Object(j.a)(Object(j.a)({},e),{},{timeoutTempo:n});case gn:return Object(j.a)(Object(j.a)({},e),{},{isAddInstrumentVisible:n});case On:return Object(j.a)(Object(j.a)({},e),{},{isNotePlayedOnClick:n});case mn:return Object(j.a)(Object(j.a)({},e),{},{isSaveSongVisible:n});case vn:return Object(j.a)(Object(j.a)({},e),{},{isPlaying:n});case wn:return Object(j.a)(Object(j.a)({},e),{},{instruments:n});case yn:return Object(j.a)(Object(j.a)({},e),{},{partition:n});case kn:return Object(j.a)(Object(j.a)({},e),{},{copiedPartitionBar:n});case Sn:return Object(j.a)(Object(j.a)({},e),{},{animatedNotes:n});case Cn:return Object(j.a)(Object(j.a)({},e),{},{currentPage:n});case Tn:return Object(j.a)(Object(j.a)({},e),{},{pages:n});default:return e}},Pn=function(e){var t={isPLaying:!1,instruments:[],partition:[],copiedPartitionBar:null,partitionLength:gt.START_PARTITION_LENGTH,maxPartitionLength:gt.MAX_PARTITION_LENGTH,tempo:gt.DEFAULT_TEMPO,timeoutTempo:gt.DEFAULT_TIMEOUT,isNotePlayedOnClick:!0,isAddInstrumentVisible:!1,isSaveSongVisible:!1,animatedNotes:[],currentPage:1,pages:[1]},n=Object(s.useReducer)(In,t),r=Object(p.a)(n,2),c=r[0],i=r[1],o=function(e){i({type:wn,payload:e})},u=function(e){i({type:yn,payload:e})};return Object(a.jsx)(at.Provider,{value:{tempo:c.tempo,isPlaying:c.isPlaying,instruments:c.instruments,partition:c.partition,copiedPartitionBar:c.copiedPartitionBar,timeoutTempo:c.timeoutTempo,isNotePlayedOnClick:c.isNotePlayedOnClick,isAddInstrumentVisible:c.isAddInstrumentVisible,isSaveSongVisible:c.isSaveSongVisible,animatedNotes:c.animatedNotes,currentPage:c.currentPage,pages:c.pages,setTempo:function(e){i({type:fn,payload:e})},setIsPlaying:function(e){i({type:vn,payload:e})},setInstruments:o,setPartition:u,copyOneBar:function(e){var t=[],n=4*e,r=n+3;c.partition.forEach((function(e){for(var c=[],i=n;i<=r;i++)c.push(e[i]);t.push(c)})),i({type:kn,payload:t})},pasteOneBar:function(e){var t=[],n=c.partition[0].length,r=4*e,a=r+3;c.partition.forEach((function(e,i){for(var s=[],o=0,u=0;u<n;u++)u>=r&&u<=a?(s.push(c.copiedPartitionBar[i][0+o]),o++):s.push(e[u]);t.push(s)})),i({type:yn,payload:t})},setTimeoutTempo:function(e){i({type:pn,payload:e})},setIsNotePlayedOnClick:function(e){i({type:On,payload:e})},toggleIsAddInstrumentVisible:function(){var e=!c.isAddInstrumentVisible;i({type:gn,payload:e})},setIsSaveSongVisible:function(e){i({type:mn,payload:e})},deleteLine:function(e){var t=Object(f.a)(c.partition),n=Object(f.a)(c.instruments);t.splice(e,1),n.splice(e,1),u(t),o(n)},setAnimatedNotes:function(e){i({type:Sn,payload:e})},setCurrentPage:function(e){i({type:Cn,payload:e})},setPages:function(e){i({type:Tn,payload:e})}},children:e.children})};(function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.a.get("/api/auth/loggedin");case 2:t=e.sent,n=t.data,l.a.render(Object(a.jsx)(ot.a,{children:Object(a.jsx)(Pn,{children:Object(a.jsx)(xn,{user:n})})}),document.getElementById("root"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[280,1,2]]]);
//# sourceMappingURL=main.c8868eaf.chunk.js.map