{"version":3,"sources":["ui-kit/elements.js","ui-kit/buttons.js","ui-kit/layout.js","ui-kit/typography.js","ui-kit/musicGrid.js","modules/MixMode/Container.jsx","modules/CreateSong/context/GlobalContext.jsx","modules/CreateSong/elements/TopMenu.jsx","modules/CreateSong/elements/PlayControls.jsx","modules/CreateSong/modals/AddInstrument.jsx","modules/CreateSong/modals/SaveSong.jsx","config/config.js","modules/utils/instruments.js","modules/utils/playMechanics.js","modules/utils/categories.js","modules/utils/getRandomName.js","modules/CreateSong/elements/Note.jsx","modules/CreateSong/elements/CreateLine.jsx","modules/CreateSong/elements/ToolsLine.jsx","modules/CreateSong/Component.jsx","modules/CreateSong/Container.jsx","modules/DisplaySong/Note.jsx","modules/DisplaySong/DisplayLine.jsx","modules/DisplaySong/DisplaySong.jsx","modules/InfoPages/AppIntro.jsx","modules/DisplaySong/SongsList.jsx","modules/LoadSong/LoadSong.jsx","modules/Auth/utils.js","modules/Auth/Login.jsx","modules/Auth/Signup.jsx","modules/Auth/Profile.jsx","modules/Auth/ProtectedRoute.jsx","modules/CreateInstrument/Characteristics.jsx","modules/CreateInstrument/InstrumentSoundsList.jsx","modules/CreateInstrument/AvailableSoundsList.jsx","modules/CreateInstrument/CreateSound.jsx","modules/CreateInstrument/AddSound.jsx","modules/CreateInstrument/CreateInstrument.jsx","modules/utils/gradientBuilder.js","modules/MixMode/context/DjContext.jsx","modules/MixMode/utils/randomLoops.js","modules/MixMode/elements/Loop.jsx","modules/MixMode/elements/Controls.jsx","modules/MixMode/Component.jsx","modules/MixMode/context/types.js","modules/MixMode/context/DjReducer.jsx","modules/MixMode/context/DjState.jsx","modules/InfoPages/Help.jsx","modules/Header/Header.jsx","App.jsx","serviceWorker.js","modules/CreateSong/context/types.js","modules/CreateSong/context/GlobalReducer.jsx","modules/CreateSong/context/GlobalState.jsx","index.js"],"names":["ExpandedMenuItem","styled","div","SongPostPlay","SongPost","Input","input","props","width","Label","form","label","Select","select","Option","option","ProfilePic","img","src","ColorSquare","backgroundColor","SelectableText","p","selected","Button","button","variant","hoverColor","MenuButton","CategoryBtn","DeleteButton","color","margin","padding","SmallEditBtn","AverageEditBtn","height","Row","alignItems","justifyContent","SelectableRow","bgColor","noHoverHighlight","AppIntroLayout","Column","flexDirection","flex","HeaderLayout","BackHeader","MainScreen","Wrapper","maxWidth","PageLayout","BlankSpace","Section","clickable","Heading2","h2","Heading3","h3","SongHeader","SmallTitle","b","LineLabel","Text","HeaderTitle","span","h1","Alert","Caption","counter","MusicGrid","Line","notesPlayingAnimation","keyframes","StyledNote","highlighted","animated","PageCircle","BarIndicator","globalContext","createContext","TopMenu","useContext","currentPage","setCurrentPage","pages","isNotePlayedOnClick","setIsNotePlayedOnClick","tempo","setTempo","setTimeoutTempo","Switch","onChange","checked","onClick","map","el","i","iconStyle","PlayControls","onStopBtnPress","onPlayBtnPress","user","isPlaying","isSaveSongVisible","setIsSaveSongVisible","icon","faStop","style","faPlay","to","AddInstrument","addInstrument","useState","newInstruments","setNewInstruments","searchCategory","setSearchCategory","loading","setLoading","uniqueCategories","setUniqueCategories","toggleIsAddInstrumentVisible","fetchInstrumentsData","searchCat","shouldCreateBtns","a","searchParams","params","category","axios","get","data","allCategories","instrument","newUniqueCategories","Set","useEffect","cat","selectCategory","fill","stroke","itemCount","length","itemSize","index","name","subCategory","SaveSong","saveTheSong","toggleIsSaveSongVisible","title","setTitle","Fragment","type","placeholder","value","e","target","config","START_PARTITION_LENGTH","MAX_PARTITION_LENGTH","DEFAULT_TEMPO","DEFAULT_TIMEOUT","DEFAULT_SOUND_ID","preparePartition","instruments","partition","forEach","emptyLine","push","prepareInstruments","prepareToneJsInstrument","prepareSamplesInstrument","colors","pitches","sounds","id","_id","isToneJs","lineSounds","linePitches","url","Audio","pitch","polySynth","Tone","toDestination","playBeat","beatNumber","partitionLine","soundIndex","now","triggerAttackRelease","sound","pause","currentTime","play","playOneToneJsNote","SOUND_CATEGORIES","SUB_CATEGORIES","default","Drums","Bass","Synth","Guitar","Piano","Brass","Strings","Flute","Effects","Voice","Other","getSubCategories","getCategories","getRandomName","first","second","randomIndex","n","Math","floor","random","Note","notePosition","status","toggleActiveNote","linePosition","CreateLine","notes","noteColors","highlightedNote","animatedNotes","lengthOfPage","hasDeleteButton","deleteLine","smallNotes","firstIndex","lastIndex","displayNotes","includes","ToolsLine","totalLength","isLastPage","copyOneBar","copiedPartitionBar","pasteOneBar","barsPerPage","displayBarsLength","maxLength2","barIndex","toString","CreateSong","addOneBar","removeOneBar","display","minWidth","minHeight","faChevronLeft","faChevronRight","bottomMessage","setBottomMessage","setHighlightedNote","musicPlaying","React","useRef","window","innerWidth","setIsPlaying","setInstruments","setPartition","isAddInstrumentVisible","timeoutTempo","setAnimatedNotes","setPages","songIdToLoad","match","prepareLoadedSong","prepareNewMusic","stopPlaying","preparedInstruments","newPartition","loadedSong","numberOfPages","ceil","newPages","clearInterval","current","songInstruments","songData","creator","undefined","creatorName","username","posted","post","setTimeout","instr","newPartitionRow","preparedNewInstrument","col","row","updatedPartition","depth","newIndex","pagesCalculation","pagesUpdate","concat","last","splice","pagesCalc","slice","setInterval","nextPage","playMusic","isAnimated","DisplayLine","iconsStyle","border","borderRadius","zIndex","DisplaySong","musicLines","intervalId","updatedPages","line","AppIntro","chevronStyle","paddingTop","textDecoration","alt","faChevronDown","SongsList","isAppIntroDisplayed","songs","setSongs","message","setMessage","loadSongs","page","loadedSongs","song","LoadSong","songsList","setSongsList","selectedSong","setSelectedSong","fetchData","deleteSong","songId","delete","response","signup","password","then","catch","err","login","Login","setUsername","setPassword","handleLogin","setUser","history","handleChange","htmlFor","Signup","handleSignup","Profile","onLogoutBtnClick","admin","ProtectedRoute","Component","component","rest","render","Characteristics","setName","setCategory","setSubCategory","instrumentCategories","subCat","InstrumentSoundsList","addSound","AvailableSoundsList","availableSounds","selectedSound","selectSound","filterName","filterCategory","setFilterCategory","filterSubCategory","setFilterSubCategory","filteredSounds","filter","toLocaleLowerCase","volumeBtnStyle","borderColor","borderWidth","borderStyle","cursor","soundCategories","faVolumeUp","columnTitle","CreateSound","setView","soundName","setSoundName","soundCategory","setSoundCategory","soundSubCategory","setSoundSubCategory","soundPitch","setSoundPitch","soundFile","setSoundFile","uploadSound","displayMessage","uploadData","FormData","append","uploadedSound","secure_url","createdSound","mes","multiple","event","selectedFile","files","views","AddSound","switchToOverview","view","setFilterName","CreateInstrument","setSounds","setAvailableSounds","setSelectedSound","editedColor","setEditedColor","setColors","startColor","setStartColor","endColor","setEndColor","pickerColor","setPickerColor","updateSoundsColors","updatedColors","l","gradient","value1","value2","steps","processHEX","val","r","g","hex","substr","parseInt","pad","z","Array","join","val1RGB","val2RGB","stepsPerc","valClampRGB","clampedR","round","clampedG","clampedB","gradientBuilder","openAddSoundSection","resetInstrument","saveInstrument","private","createdInstrument","newSound","updatedSounds","onChangeComplete","djContext","randomLoops","4","8","Percussion","16","Melody","Loop","toggleLoopActive","setRandomLoop","loop","randomLoop","loopName","loopLength","loops","getRandomLoop","lineIndex","note","noteIndex","toggleActiveNoteForLoop","resetPartition","Controls","MixMode","loop1","loop2","loop3","loop4","flexWrap","setLoopActive","prepareLoop","names","updatedStatus","u","SET_PARTITION","SET_INSTRUMENTS","SET_HIGHLIGHTED_NOTE","SET_BEAT_COUNTER","SET_IS_PLAYING","SET_LOOP_ACTIVE","SET_TEMPO","djReducer","state","action","payload","beatCounter","DjState","useReducer","complexity","dispatch","DjContext","Provider","setBeatCounter","children","Help","linkStyle","textLinkStyle","Header","paddingRight","App","setState","this","exact","path","Boolean","location","hostname","SET_TIMEOUT_TEMPO","SET_IS_NOTE_PLAYED_ON_CLICK","SET_IS_ADD_INSTRUMENT_VISIBLE","SET_IS_SAVE_SONG_VISIBLE","SET_COPIED_PARTITION_BAR","SET_ANIMATED_NOTES","SET_CURRENT_PAGE","SET_PAGES","globalReducer","GlobalState","initialState","isPLaying","partitionLength","maxPartitionLength","GlobalContext","newCopiedBar","startIndex","endIndex","newLine","offset","newValue","lineNumber","updatedInstruments","authResponse","ReactDOM","document","getElementById","renderApp","navigator","serviceWorker","ready","registration","unregister","error","console"],"mappings":"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","file":"static/js/main.eb27f721.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const ExpandedMenuItem = styled.div`\n  margin: auto;\n  min-width: 400px;\n  max-width: 700px;\n  position: absolute;\n  z-index: 10;\n  top: 150px;\n  box-shadow: 3px 3px 5px #bbb;\n  background-color: white;\n  border: solid 1px black;\n  border-radius: 3px;\n  padding: 10px;\n`;\n\nexport const SongPostPlay = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  margin-top: -8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  visibility: hidden;\n`;\n\nexport const SongPost = styled.div`\n  position: relative;\n  margin: 30px 10px;\n  border: solid 1px black;\n  border-radius: 10px;\n  padding-top: 10px;\n  width: 80%;\n  &:hover ${SongPostPlay} {\n    visibility: visible;\n  }\n`;\n\nexport const Input = styled.input`\n  height: 24px;\n  width: ${(props) => props.width || \"100px\"};\n  margin: 10px;\n  border: 1px solid black;\n  border-radius: 4px;\n`;\n\nexport const Form = styled.form`\n  border: solid black 1px;\n  width: ${(props) => (props.width ? `${props.width}px` : \"100%\")};\n`;\n\nexport const Label = styled.label`\n  margin: 0px 5px;\n`;\n\nexport const Select = styled.select`\n  margin: 8px;\n  height: 26px;\n  width: ${(props) => props.width || \"110px\"};\n`;\n\nexport const Option = styled.option`\n  font-size: 12px;\n`;\n\nexport const ProfilePic = styled.img`\n  src: ${(props) => props.src}\n  height: 260px;\n  width: 260px;\n  object-fit: cover;\n  padding: 10px;\n`;\n\nexport const ColorSquare = styled.div`\n  height: 24px;\n  width: 24px;\n  margin: 4px;\n  border: solid black 1px;\n  background-color: ${(props) => props.backgroundColor || \"white\"};\n`;\n\nexport const SelectableText = styled.p`\n  padding: 3px;\n  margin: 0px;\n  cursor: pointer;\n  color: ${(props) => (props.selected ? \"white\" : \"black\")};\n  background-color: ${(props) => (props.selected ? \"black\" : \"white\")};\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Button = styled.button`\n  height: ${(props) => (props.variant === \"big\" ? \"48px\" : \"32px\")};\n  min-width: ${(props) => (props.variant === \"big\" ? \"60px\" : \"36px\")};\n  margin: 8px;\n  padding: 0px 10px;\n  border-radius: 5px;\n  border: solid 1px #555;\n  color: #333;\n  background-color: ${(props) => props.backgroundColor || \"white\"};\n  font-size: 14px;\n  cursor: pointer;\n  transition: background-color 0.7s, color 0.7s;\n  &:hover {\n    background-color: ${(props) => props.hoverColor || \"#555\"};\n    color: white;\n  }\n`;\n\nexport const MenuButton = styled.div`\n  margin: 8px;\n  background-color: ${(props) => props.backgroundColor || \"white\"};\n  border: solid 1px black;\n  border-radius: 5px;\n  padding: 6px 12px;\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n  transition: background-color 0.7s, color 0.7s;\n  &:hover {\n    background-color: black;\n    color: white;\n  }\n`;\n\nexport const CategoryBtn = styled.button`\n  height: 30px;\n  min-width: 40px;\n  margin: 8px;\n  padding: 0px 10px;\n  border-radius: 15px;\n  border: solid 1px black;\n  color: ${(props) => (props.selected ? \"white\" : \"black\")};\n  background-color: ${(props) => (props.selected ? \"black\" : \"white\")};\n  font-size: 12px;\n  &:hover {\n    background-color: black;\n    color: white;\n    opacity: ${(props) => (props.selected ? 0.5 : 1)};\n  }\n`;\n\nexport const DeleteButton = styled.p`\n  color: ${(props) => props.color || \"#888\"};\n  border: 1px solid #aaa;\n  margin: ${(props) => props.margin || \"4px 8px 4px 0px\"};\n  padding: ${(props) => props.padding || \"2px\"};\n  background-color: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  font-weight: bold;\n  transition: background-color 0.5s, color 0.5s;\n  &:hover {\n    background-color: #f00;\n    color: #fff;\n  }\n`;\n\nexport const IconButton = styled.button`\n  color: black;\n  background-color: white;\n  padding: 6px;\n  border-color: black;\n  border: 1px solid black;\n  border-radius: 50%;\n  cursor: pointer;\n`;\n\nexport const SmallEditBtn = styled.button`\n  color: ${(props) => props.color || \"#aaa\"};\n  border: 1px solid #aaa;\n  margin: 4px 4px 4px 8px;\n  background-color: #fff;\n  border-radius: 4px;\n  font-size: 12px;\n  &:hover {\n    background-color: #aaa;\n    color: #fff;\n  }\n`;\n\nexport const AverageEditBtn = styled.button`\n  color: ${(props) => props.color || \"#888\"};\n  border: 1px solid #aaa;\n  margin: ${(props) => props.margin || \"4px 4px 4px 0px\"};\n  padding: ${(props) => props.padding || \"default\"};\n  height: ${(props) => props.height || \"default\"};\n  background-color: #fff;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: background-color 0.5s, color 0.5s;\n  &:hover {\n    background-color: #888;\n    color: #fff;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Row = styled.div`\n  padding: ${(props) => props.padding || 0};\n  display: flex;\n  align-items: ${(props) => props.alignItems || \"center\"};\n  justify-content: ${(props) => props.justifyContent || \"center\"};\n  width: 100%;\n`;\n\nexport const SelectableRow = styled(Row)`\n  padding: ${(props) => props.padding || 0};\n  cursor: pointer;\n  color: ${(props) => (props.selected ? \"white\" : \"black\")};\n  background-color: ${(props) =>\n    props.selected ? \"black\" : props.bgColor || \"white\"};\n  &:hover {\n    background-color: ${(props) =>\n      props.noHoverHighlight && !props.selected ? \"white\" : \"black\"};\n    color: ${(props) =>\n      props.noHoverHighlight && !props.selected ? \"black\" : \"white\"};\n    opacity: ${(props) => (props.selected ? 0.5 : 1)};\n  }\n`;\n\nexport const AppIntroLayout = styled.div`\n  min-height: 60vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const Column = styled.div`\n  display: flex;\n  flex-direction: ${(props) => props.flexDirection || \"column\"};\n  min-height: 20px;\n  padding: ${(props) => props.padding || 0};\n  align-items: ${(props) => props.alignItems || \"flex-start\"};\n  justify-content: ${(props) => props.justifyContent || \"center\"};\n  flex: ${(props) => props.flex || 1};\n`;\n\nexport const HeaderLayout = styled.div`\n  height: 70px;\n  width: 100vw;\n  z-index: 10;\n  background-color: white;\n  display: flex;\n  position: fixed;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 4px 4px 5px #eee;\n`;\n\nexport const BackHeader = styled.div`\n  height: 110px;\n`;\n\nexport const MainScreen = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Wrapper = styled.div`\n  display: flex;\n  flex-direction: ${(props) => props.flexDirection || \"column\"};\n  align-items: ${(props) => props.alignItems || \"center\"};\n  justify-content: ${(props) => props.justifyContent || \"flex-start\"};\n  width: 100vw;\n  max-width: ${(props) => props.maxWidth || \"900px\"};\n`;\n\nexport const PageLayout = styled.div`\n  width: 90%;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flexStart;\n`;\n\nexport const BlankSpace = styled.div`\n  height: ${(props) => props.height || \"20px\"};\n`;\n\nexport const Section = styled.div`\n  margin: 4px;\n  padding: 12px;\n  border: solid #888 1px;\n  border-radius: 8px;\n  display: flex;\n  flex-direction: ${(props) => props.flexDirection || \"row\"};\n  justify-content: space-between;\n  &:hover {\n    background-color: ${(props) => props.clickable ? '#aaa' : 'default'};\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Heading2 = styled.h2`\n  padding: 8px 0;\n  margin: 0 0 8px 0;\n`;\n\nexport const Heading3 = styled.h3`\n  padding: 8px 0;\n  margin: 0 0 4px 0;\n`;\n\nexport const SongHeader = styled.div`\n  margin-top: -32px;\n  padding: 0px 12px;\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const SmallTitle = styled.p`\n  padding: 0px 10px;\n  background-color: white;\n  font-weight: ${(props) => (props.b ? \"bold\" : \"regular\")};\n  font-size: 12px;\n`;\n\nexport const LineLabel = styled.p`\n  font-size: 10px;\n  line-height: 10px;\n  width: ${(props) => props.width || \"70px\"};\n`;\n\nexport const Text = styled.p`\n  font-size: 12px;\n  line-height: 12px;\n  padding: ${(props) => props.padding || 2};\n  margin: 0;\n`;\n\nexport const TextSpan = styled.span`\n  font-size: 12px;\n`;\n\nexport const HeaderTitle = styled.h1`\n  padding: 0px 50px;\n  font-size: 36px;\n  text-shadow: 4px 4px #7799dd;\n`;\n\nexport const Alert = styled.p`\n  color: red;\n`;\n\nexport const Caption = styled.p`\n  color: ${(props) => props.color || \"#888\"};\n  margin: ${(props) => props.margin || \"4px 4px 4px 0px\"};\n  padding: ${(props) => props.padding || \"default\"};\n  font-size: 14px;\n`;\n","import styled, { keyframes } from \"styled-components\";\n\nexport const MusicGrid = styled.div`\n  margin: 10px 20px;\n  padding-bottom: 10px;\n`;\n\nexport const Line = styled.div`\n  margin: 0;\n  display: flex;\n`;\n\nconst notesPlayingAnimation = keyframes`\n 0% { \n   height: 30px; \n   width: 30px;\n   margin: 3px; \n  }\n  20% { \n   height: 24px; \n   width: 24px;\n   margin: 6px; \n    }\n 30% { \n   height: 32px; \n    width: 32px;  \n    margin: 2px;\n}\n 100% { \n   height: 30px; \n   width: 30px;\n   margin: 3px; \n }\n`;\n\nexport const StyledNote = styled.div`\n  height: 28px;\n  width: 28px;\n  margin: 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  box-shadow: 3px 3px 5px ${(props) => props.color};\n  background-color: ${(props) => props.color};\n  opacity: ${(props) => (props.highlighted ? 0.5 : 1)};\n  cursor: pointer;\n  &:hover {\n    height: ${(props) => (props.clickable ? \"22px\" : \"28px\")};\n    width: ${(props) => (props.clickable ? \"22px\" : \"28px\")};\n    margin: ${(props) => (props.clickable ? \"6px\" : \"3px\")};\n  }\n  animation-name: ${(props) => props.animated && notesPlayingAnimation};\n  animation-duration: 0.8s;\n  animation-iteration-count: 1;\n`;\n\nexport const PageCircle = styled.div`\n  height: 8px;\n  width: 8px;\n  margin: 4px;\n  border-width: 2px;\n  border-style: solid;\n  border-radius: 50%;\n  border-color: ${(props) => props.color || \"black\"};\n  background-color: ${(props) =>\n    props.selected ? props.color || \"black\" : \"white\"};\n  cursor: pointer;\n`;\n\nexport const BarIndicator = styled.div`\n  border-bottom: 1px solid #aaa;\n  width: ${(props) => props.width || \"138px\"};\n  height: ${(props) => props.height || \"default\"};\n  margin: 0px 3px 12px 3px;\n  font-size: 10px;\n  color: #aaa;\n`;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport { djContext } from \"./context/DjContext\";\nimport axios from \"axios\";\nimport { Bars } from \"svg-loaders-react\";\nimport { MixMode as Component } from \"./Component\";\nimport { preparePartition, prepareInstruments, playBeat } from \"../utils\";\n\nlet counter;\n\nexport const MixMode = (props) => {\n  const [loading, setLoading] = useState(false);\n  const {\n    setPartition,\n    setInstruments,\n    highlightedNote,\n    setHighlightedNote,\n    loop1,\n    loop2,\n    loop3,\n    loop4,\n    tempo,\n    setIsPlaying,\n    setLoopActive,\n  } = useContext(djContext);\n\n  let musicPlaying = useRef(null);\n\n  useEffect(() => {\n    prepareLoop(\"loop1\", [\"E-Kicks 1\", \"E-Hi-Hats 1\", \"E-Cymbals\"]);\n    prepareLoop(\"loop2\", [\"Vinyls 1\", \"Congas\", \"Clap 1\"]);\n    prepareLoop(\"loop3\", [\"Tone Bass Synth Am\", \"Tone Bass Synth Em\"]);\n    prepareLoop(\"loop4\", [\n      \"Tone Synth Am Hi\",\n      \"Tone Synth Chromatic\",\n      \"Pizzicato C-Maj\",\n    ]);\n  }, []);\n\n  const toggleActiveNote = (col, row, sounds, pitches, loop) => {\n    const updatedPartition = [...loop.partition];\n    const depth = sounds.length;\n    const newIndex = (updatedPartition[row][col] + 1) % depth;\n    updatedPartition[row][col] = newIndex;\n    setPartition(updatedPartition, loop.name);\n  };\n\n  const toggleLoopActive = (loop) => {\n    const updatedStatus = [...loop.status];\n    const u = updatedStatus[0][0];\n    updatedStatus[0][0] = u === 1 ? 0 : 1;\n    setLoopActive(updatedStatus, loop.name);\n  };\n\n  const prepareLoop = async (loopName, instruments) => {\n    setLoading(true);\n    const length = loopName === \"loop3\" || loopName === \"loop4\" ? 16 : 8;\n    const { data } = await axios.get(\"/api/instrument\", {\n      params: { names: instruments },\n    });\n    const preparedInstruments = prepareInstruments(data);\n    const newPartition = preparePartition(preparedInstruments, length);\n    setInstruments(preparedInstruments, loopName);\n    setPartition(newPartition, loopName);\n    setLoading(false);\n  };\n\n  const playMusic = () => {\n    setIsPlaying(true);\n    const timeoutTempo = 60000 / tempo / 4;\n    counter = 0;\n\n    const playInterval = () => {\n      setHighlightedNote(counter);\n      [loop1, loop2, loop3, loop4].forEach((loop) => {\n        if (loop.status[0][0] === 1) {\n          playBeat(\n            loop.instruments,\n            loop.partition,\n            counter % loop.partition[0].length\n          );\n        }\n      });\n      counter++;\n    };\n\n    musicPlaying.current = setInterval(playInterval, timeoutTempo);\n  };\n\n  const onPlayBtnPress = () => {\n    playMusic();\n  };\n  const onStopBtnPress = () => {\n    setIsPlaying(false);\n    clearInterval(musicPlaying.current);\n  };\n\n  if (loading) {\n    return <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />;\n  }\n\n  return (\n    <Component\n      loop1={loop1}\n      loop2={loop2}\n      loop3={loop3}\n      loop4={loop4}\n      onPlayBtnPress={onPlayBtnPress}\n      onStopBtnPress={onStopBtnPress}\n      toggleLoopActive={toggleLoopActive}\n      setLoopActive={setLoopActive}\n      toggleActiveNote={toggleActiveNote}\n      highlightedNote={highlightedNote}\n    />\n  );\n};\n","import { createContext } from \"react\";\n\nexport const globalContext = createContext();\n\nexport default globalContext;\n","import React, { useContext } from \"react\";\nimport { Row, Column, PageCircle, Caption, AverageEditBtn } from \"../../../ui-kit\";\nimport { Switch } from '@material-ui/core';\nimport { globalContext } from \"../context/GlobalContext\";\n\nexport const TopMenu = ({\n  clickable = true,\n}) => {\n\nconst { \n  currentPage, \n  setCurrentPage, \n  pages, \n  isNotePlayedOnClick, \n  setIsNotePlayedOnClick, \n  tempo,\n  setTempo,\n  setTimeoutTempo,\n} = useContext(globalContext);\n\nconst onPlusTempoPress = () => {\n  setTempo(tempo + 5);\n  const newTimeout = 60000 / tempo / 4;\n  setTimeoutTempo(newTimeout);\n};\n\nconst onMinusTempoPress = () => {\n  setTempo(tempo - 5);\n  const newTimeout = 60000 / tempo / 4;\n  setTimeoutTempo(newTimeout);\n};\n\n  const togglePlayOnClick = () => {\n    setIsNotePlayedOnClick(!isNotePlayedOnClick);\n  };\n\n  return (\n    <Row padding=\"0 0 24px 0\">\n      <Column flexDirection=\"row\" alignItems=\"center\" justifyContent=\"flex-end\">\n        <Caption>\n          Play on click\n        </Caption>\n        <Switch onChange={togglePlayOnClick} checked={isNotePlayedOnClick}/>\n      </Column>\n      <Column flexDirection=\"row\" alignItems=\"center\" justifyContent=\"center\">\n        <AverageEditBtn onClick={onMinusTempoPress}>-</AverageEditBtn>\n        <Caption>tempo: {tempo}</Caption>\n        <AverageEditBtn onClick={onPlusTempoPress}>+</AverageEditBtn>\n      </Column>\n      <Column flexDirection=\"row\" alignItems=\"center\" justifyContent=\"left\">\n          <Caption>\n            Pages:\n          </Caption>\n          {pages.map((el, i) => {\n            return (\n              <PageCircle\n                key={i}\n                selected={currentPage === i + 1}\n                onClick={clickable ? () => setCurrentPage(i + 1) : null}\n              />\n            );\n          })}\n      </Column>\n    </Row>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { globalContext } from \"../context/GlobalContext\";\nimport {\n  MenuButton,\n  Row,\n} from \"../../../ui-kit\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faStop } from \"@fortawesome/free-solid-svg-icons\";\n\nconst iconStyle = { width: 16, height: 16 };\n\nexport const PlayControls = ({\n  onStopBtnPress,\n  onPlayBtnPress,\n  user,\n}) => {\n\n  const {\n    isPlaying,\n    isSaveSongVisible,\n    setIsSaveSongVisible,\n  } = useContext(globalContext);\n\n  return (\n    <Row justifyContent=\"center\">\n      {isPlaying ? (\n        <MenuButton onClick={onStopBtnPress} backgroundColor=\"#f00\">\n          <FontAwesomeIcon icon={faStop} color=\"white\" style={iconStyle} />\n        </MenuButton>\n      ) : (\n        <MenuButton onClick={onPlayBtnPress} backgroundColor=\"#0f0\">\n          <FontAwesomeIcon icon={faPlay} color=\"white\" style={iconStyle} />\n        </MenuButton>\n      )}\n      <MenuButton onClick={() => setIsSaveSongVisible(!isSaveSongVisible)}>Save</MenuButton>\n      {user && (\n        <Link to=\"/load-song\">\n          <MenuButton>Load</MenuButton>\n        </Link>\n      )}\n    </Row>\n  );\n};\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { globalContext } from \"../context/GlobalContext\";\nimport { Bars } from \"svg-loaders-react\";\nimport { FixedSizeList } from \"react-window\";\nimport {\n  CategoryBtn,\n  ExpandedMenuItem,\n  Column,\n  Row,\n  Button,\n  SelectableRow,\n  Text,\n  Heading3,\n} from \"../../../ui-kit\";\nimport axios from \"axios\";\n\nexport const AddInstrument = ({ addInstrument }) => {\n  const [newInstruments, setNewInstruments] = useState([]);\n  const [searchCategory, setSearchCategory] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [uniqueCategories, setUniqueCategories] = useState([]);\n\n  const { toggleIsAddInstrumentVisible } = useContext(globalContext);\n\n  const fetchInstrumentsData = async (searchCat, shouldCreateBtns) => {\n    const searchParams = searchCat && {\n      params: { category: searchCat },\n    };\n    const { data } = await axios.get(\"/api/instrument\", searchParams);\n    if (data) {\n      setNewInstruments(data);\n      if (shouldCreateBtns) {\n        const allCategories = data.map((instrument) => {\n          return instrument.category;\n        });\n        const newUniqueCategories = [...new Set(allCategories)];\n        setUniqueCategories(newUniqueCategories);\n      }\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    fetchInstrumentsData(null, true);\n  }, []);\n\n  const handleClick = (inst) => {\n    addInstrument(inst);\n    toggleIsAddInstrumentVisible();\n  };\n\n  const selectCategory = (cat) => {\n    fetchInstrumentsData(cat);\n    setSearchCategory(cat);\n  };\n\n  const ItemRow = ({ index, style }) => {\n    const instrument = newInstruments[index];\n    return (\n      <SelectableRow\n        style={style}\n        bgColor={index % 2 === 0 ? \"#eee\" : \"#fff\"}\n        padding=\"4px 0 4px 0\"\n        onClick={() => handleClick(instrument)}>\n        <Column flex={2}>\n          <Text>{instrument.name}</Text>\n        </Column>\n        <Column>\n          <Text>{instrument.category}</Text>\n        </Column>\n        <Column>\n          <Text>{instrument.subCategory}</Text>\n        </Column>\n      </SelectableRow>\n    );\n  };\n\n  return (\n    <ExpandedMenuItem>\n      <Row padding=\"10px 12px 4px 12px\">\n        <Heading3>Add Instrument</Heading3>\n      </Row>\n      <Row padding=\"10px 12px 4px 12px\">\n        <Column flexDirection=\"row\">\n          {uniqueCategories.map((cat) => {\n            if (cat !== \"default\") {\n              return (\n                <CategoryBtn\n                  key={cat}\n                  selected={searchCategory === cat}\n                  onClick={() => selectCategory(cat)}>\n                  {cat}\n                </CategoryBtn>\n              );\n            }\n          })}\n        </Column>\n      </Row>\n      {loading && (\n        <Column justifyContent=\"center\" alignItems=\"center\">\n          <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />\n        </Column>\n      )}\n      <Row padding=\"4px 12px 0 12px\">\n        <Column>\n          <FixedSizeList\n            height={260}\n            width={380}\n            itemCount={newInstruments.length}\n            itemSize={30}>\n            {ItemRow}\n          </FixedSizeList>\n        </Column>\n      </Row>\n      <Row padding=\"20px 0 10px 0\">\n        <Column alignItems=\"center\">\n          <Button hoverColor=\"red\" onClick={toggleIsAddInstrumentVisible}>\n            Cancel\n          </Button>\n        </Column>\n      </Row>\n    </ExpandedMenuItem>\n  );\n};\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ExpandedMenuItem, Button, Input } from \"../../../ui-kit\";\n\nexport const SaveSong = ({ saveTheSong, user, toggleIsSaveSongVisible }) => {\n  const [title, setTitle] = useState(\"\");\n\n  const handleChange = (e) => {\n    setTitle(e.target.value);\n  };\n  return (\n    <ExpandedMenuItem>\n      {\n        <React.Fragment>\n          {user ? (\n            <p style={{ margin: 10 }}>\n              Name your song (if you modified an existing song, <br />\n              it will still be saved under as new one):\n            </p>\n          ) : (\n            <p style={{ margin: 10 }}>\n              You don't have a user account yet, therefore your song <br />\n              will be published as annonymous... to bad!\n              <br />\n              Please create a user profile before saving next time <br />\n              Name your song:\n            </p>\n          )}\n          <Input\n            type=\"text\"\n            placeholder=\"My Supa Song...\"\n            value={title}\n            width={\"260px\"}\n            onChange={handleChange}\n          />\n          <div>\n            <Button onClick={() => saveTheSong(title)}>Save</Button>\n            <Button onClick={() => toggleIsSaveSongVisible()}>Cancel</Button>\n          </div>\n        </React.Fragment>\n      }\n    </ExpandedMenuItem>\n  );\n};\n","export const config = {\n  START_PARTITION_LENGTH: 8,\n  MAX_PARTITION_LENGTH: 64,\n  DEFAULT_TEMPO: 120,\n  DEFAULT_TIMEOUT: 60000 / 120 / 4,\n  DEFAULT_SOUND_ID: \"5fba8681963aad73cd4ce0b6\",\n};\n","export const preparePartition = (instruments, length) => {\n  if (!instruments) return [];\n  const partition = [];\n  instruments.forEach(() => {\n    const emptyLine = [];\n    for (let i = 1; i <= length; i++) {\n      emptyLine.push(0);\n    }\n    partition.push(emptyLine);\n  });\n  return partition;\n};\n\nexport const prepareInstruments = (instruments) => {\n  if(!instruments.length) return;\n  const preparedInstruments = instruments.map((instrument) => {\n    if(instrument.category===\"Tone Synth\") {\n      return prepareToneJsInstrument(instrument);\n    }\n    return prepareSamplesInstrument(instrument);\n  });\n  return preparedInstruments;\n};\n\nexport const prepareOneInstrument = (instrument) => {\n  if(instrument.category===\"Tone Synth\") {\n    return prepareToneJsInstrument(instrument);\n  }\n  return prepareSamplesInstrument(instrument);\n}\n\nexport const prepareToneJsInstrument = (instrument) => {\n  const { colors, pitches } = instrument;\n  const sounds = [];\n\n  for(let i=0; i<pitches.length;i++){\n    sounds.push({});\n  }\n  return {\n    id: instrument._id,\n    label: instrument.name,\n    isToneJs: true,\n    colors,\n    sounds,\n    pitches,\n  };\n}\n\nexport const prepareSamplesInstrument = (instrument) => {\n  const lineSounds = [];\n  const linePitches = [];\n  instrument.sounds.forEach((el) => {\n    if(!el) {\n      lineSounds.push({ name: \"default\", url: \"\" });\n      linePitches.push('');\n    }\n    if (el.url) {\n      lineSounds.push(new Audio(el.url));\n      linePitches.push(el.pitch || '');\n    } else {\n      lineSounds.push(null);\n      linePitches.push('');\n    }\n  });\n  return {\n    id: instrument._id,\n    label: instrument.name,\n    colors: instrument.colors,\n    isToneJs: false,\n    sounds: lineSounds,\n    pitches: linePitches,\n  };\n};\n","import * as Tone from \"tone\";\nconst polySynth = new Tone.PolySynth().toDestination();\n/* Plays one beat of the music, \neach note of the beat being the note on each line corresponding \nto the selected index */\nexport const playBeat = (instruments, partition, beatNumber) => {\n  partition.forEach((partitionLine, i) => {\n    if (partitionLine[beatNumber]) {\n      const soundIndex = partitionLine[beatNumber];\n\n      if (!instruments[i].isToneJs) {\n        // stops if a sound was playing\n        instruments[i].sounds.forEach((sound) => {\n          if (sound) {\n            sound.pause();\n            sound.currentTime = 0;\n          }\n        });\n\n        //plays selected sound\n        instruments[i].sounds[soundIndex].play();\n      } else if (instruments[i].isToneJs) {\n        const now = Tone.now();\n        polySynth.triggerAttackRelease(\n          instruments[i].pitches[soundIndex],\n          \"8n\",\n          // if now is used, a slight delay is experienced\n          now - 0.1\n        );\n      }\n    }\n  });\n};\n\nexport const playOneToneJsNote = async (pitch) => {\n  const now = Tone.now();\n  polySynth.triggerAttackRelease(pitch, \"8n\", now);\n};\n","const SOUND_CATEGORIES = [\n  \"default\",\n  \"Drums\",\n  \"Bass\",\n  \"Synth\",\n  \"Guitar\",\n  \"Tone Synth\",\n  \"Piano\",\n  \"Brass\",\n  \"Strings\",\n  \"Flute\",\n  \"Effects\",\n  \"Voice\",\n  \"Other\",\n];\n\nconst SUB_CATEGORIES = {\n  \"\": [\"\"],\n  default: [\"\"],\n  Drums: [\n    \"\",\n    \"Kick\",\n    \"Snare\",\n    \"Tom\",\n    \"Hi-hat\",\n    \"Cymbal\",\n    \"Vinnyl\",\n    \"Percussion\",\n    \"Clang\",\n    \"Other\",\n  ],\n  Bass: [\"\", \"Acoustic\", \"Fretless\", \"Electric\", \"Picked\", \"Synth\", \"Slap\"],\n  Synth: [\"\", \"Piano\", \"Ambiant\", \"Lead\", \"Pad\", \"Effect\", \"Electronic\"],\n  Guitar: [\n    \"\",\n    \"Acoustic\",\n    \"Clean\",\n    \"Overdrive\",\n    \"Distorsion\",\n    \"Muted\",\n    \"Jazz\",\n    \"Fuzz\",\n    \"Wah\",\n    \"Funk\",\n  ],\n  \"Tone Synth\": [\"\", \"Synth\", \"AMSynth\", \"FMSynth\"],\n  Piano: [\"\", \"Grand\", \"Acoustic\", \"Clavesin\"],\n  Brass: [\"\", \"Horn\", \"Trumpet\", \"Tuba\", \"Trombone\"],\n  Strings: [\"\", \"Violin\", \"Cello\", \"Double Bass\", \"Harp\", \"Mixed-strings\"],\n  Flute: [\"\", \"Flute\", \"Clarinet\", \"Pipeau\", \"Peruvian\", \"Bass\", \"Recorder\"],\n  Effects: [\"\", \"Scratch\", \"Noise\", \"Clang\", \"Electronic\", \"Mystic\"],\n  Voice: [\"\", \"Hi-sing\", \"Mid-sing\", \"Low-sing\", \"Talk\", \"Noize\"],\n  Other: [\"\"],\n};\n\nexport const getSubCategories = (category) => {\n  return SUB_CATEGORIES[category];\n};\n\nexport const getCategories = () => {\n  return SOUND_CATEGORIES;\n};\n","export const getRandomName = () => {\n  const first = [\"Anonymous\", \"Mysterious\", \"Unknown\", \"Forgotten\"];\n  const second = [\n    \"Musician\",\n    \"Troubadour\",\n    \"Creator\",\n    \"Barde\",\n    \"Artist\",\n    \"Beats Maker\",\n    \"Sounds Juggler\",\n  ];\n\n  const randomIndex = (n) => Math.floor(Math.random() * n);\n\n  const randomName = `${first[randomIndex(first.length)]} ${\n    second[randomIndex(second.length)]\n  }`;\n\n  return randomName;\n};\n","import React from \"react\";\nimport { StyledNote } from \"../../../ui-kit\";\n\nexport const Note = ({\n  notePosition,\n  color,\n  status,\n  toggleActiveNote,\n  linePosition,\n  sounds,\n  highlighted,\n  animated,\n  pitches,\n}) => {\n  const onNoteClick = () => {\n    toggleActiveNote(notePosition, linePosition, sounds, pitches);\n  };\n\n  const pitch = pitches[status];\n\n  return (\n    <StyledNote\n      color={color}\n      highlighted={highlighted}\n      onClick={onNoteClick}\n      clickable={true}\n      animated={animated}\n    >\n    { pitch ? pitch : '' }\n    </StyledNote>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { globalContext } from \"../context/GlobalContext\";\nimport { Note } from \"./Note\";\nimport { Line, LineLabel, DeleteButton } from \"../../../ui-kit\";\n\nexport const CreateLine = ({\n  linePosition,\n  notes,\n  noteColors,\n  toggleActiveNote,\n  sounds,\n  pitches,\n  highlightedNote,\n  label,\n  animatedNotes,\n  currentPage,\n  lengthOfPage,\n  hasDeleteButton = true,\n  smallNotes = false,\n}) => {\n  const { deleteLine } = useContext(globalContext);\n\n  const firstIndex = (currentPage - 1) * lengthOfPage;\n  const lastIndex = currentPage * lengthOfPage;\n\n  const displayNotes = notes?.length\n    ? notes.map((n, i) => {\n        if (i >= firstIndex && i < lastIndex) {\n          return (\n            <Note\n              key={i}\n              status={n}\n              notePosition={i}\n              color={noteColors[n]}\n              toggleActiveNote={toggleActiveNote}\n              linePosition={linePosition}\n              sounds={sounds}\n              pitches={pitches}\n              highlighted={highlightedNote === i}\n              animated={animatedNotes?.includes(i)}\n            />\n          );\n        }\n        return null;\n      })\n    : [];\n\n  return (\n    <Line>\n      {hasDeleteButton && (\n        <DeleteButton onClick={() => deleteLine(linePosition)}>x</DeleteButton>\n      )}\n      <LineLabel width={\"110px\"}>{label && label}</LineLabel>\n      {displayNotes}\n    </Line>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { LineLabel, Row, SmallEditBtn, BarIndicator } from \"../../../ui-kit\";\nimport { globalContext } from \"../context/GlobalContext\";\n\nexport const ToolsLine = ({\n  totalLength,\n  lengthOfPage,\n  isLastPage,\n  currentPage,\n}) => {\n  const { copyOneBar, copiedPartitionBar, pasteOneBar } = useContext(\n    globalContext\n  );\n\n  const barsPerPage = lengthOfPage / 4;\n  const displayBarsLength = [];\n  const l = totalLength;\n  const lastPageFull = l && l % lengthOfPage === 0;\n  const maxLength = l > lengthOfPage ? lengthOfPage : l;\n  const maxLength2 = isLastPage && !lastPageFull ? l % lengthOfPage : maxLength;\n\n  if (lengthOfPage && lengthOfPage >= 4) {\n    for (let i = 4; i <= maxLength2; i += 4) {\n      // Zero base index\n      const barIndex = (currentPage - 1) * barsPerPage + i / 4 - 1;\n      displayBarsLength.push(\n        <BarIndicator key={barIndex}>\n          1 bar\n          <SmallEditBtn onClick={() => copyOneBar(barIndex)}>copy</SmallEditBtn>\n          {copiedPartitionBar && (\n            <SmallEditBtn onClick={() => pasteOneBar(barIndex)}>\n              paste\n            </SmallEditBtn>\n          )}\n        </BarIndicator>\n      );\n    }\n    if(isLastPage && totalLength % 4 !== 0 ){\n      displayBarsLength.push(\n        <BarIndicator \n          width={ `${((totalLength % 4) * 33).toString()}px` } \n          height=\"26px\"\n        />\n      )\n    }\n  }\n  return (\n    <Row>\n      <LineLabel width={'124px'}/>\n      {displayBarsLength}\n    </Row>\n  );\n};\n","import React from \"react\";\nimport { CreateLine } from \"./elements/CreateLine\";\nimport { MusicGrid, AverageEditBtn, LineLabel, Line } from \"../../ui-kit\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faChevronLeft,\n  faChevronRight,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { ToolsLine } from \"./elements/ToolsLine\";\n\nexport const CreateSong = ({\n  partition,\n  lengthOfPage,\n  currentPage,\n  pages,\n  instruments,\n  toggleActiveNote,\n  highlightedNote,\n  animatedNotes,\n  addOneBar,\n  removeOneBar,\n  toggleIsAddInstrumentVisible,\n}) => {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        minWidth: 800,\n      }}>\n      <div\n        style={{\n          minHeight: 300,\n          display: \"flex\",\n          flex: 1,\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}>\n        <MusicGrid>\n          {instruments.length ? (\n            <React.Fragment>\n              <ToolsLine\n                totalLength={partition[0] && partition[0].length}\n                lengthOfPage={lengthOfPage}\n                isLastPage={currentPage === pages.length}\n                currentPage={currentPage}\n              />\n              {instruments.map((instrument, i) => {\n                return (\n                  <CreateLine\n                    key={i}\n                    linePosition={i}\n                    label={instrument.label}\n                    notes={partition[i]}\n                    noteColors={instrument.colors}\n                    toggleActiveNote={toggleActiveNote}\n                    sounds={instrument.sounds}\n                    pitches={instrument.pitches}\n                    highlightedNote={highlightedNote}\n                    animatedNotes={animatedNotes}\n                    currentPage={currentPage}\n                    lengthOfPage={lengthOfPage}\n                  />\n                );\n              })}\n              <Line>\n                <LineLabel width={\"124px\"}>\n                  <AverageEditBtn onClick={toggleIsAddInstrumentVisible}>\n                    + Add instrument\n                  </AverageEditBtn>\n                </LineLabel>\n              </Line>\n            </React.Fragment>\n          ) : (\n            <AverageEditBtn\n              padding={\"8px 8px 8px 8px\"}\n              onClick={toggleIsAddInstrumentVisible}>\n              No partition to display yet... Click here to add your first\n              instrument\n            </AverageEditBtn>\n          )}\n        </MusicGrid>\n      </div>\n      {!!instruments?.length && (\n        <div style={{ display: \"flex\" }}>\n          <AverageEditBtn height=\"160px\" onClick={removeOneBar}>\n            <FontAwesomeIcon icon={faChevronLeft} />\n          </AverageEditBtn>\n          <AverageEditBtn height=\"160px\" onClick={addOneBar}>\n            <FontAwesomeIcon icon={faChevronRight} />\n          </AverageEditBtn>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { ExpandedMenuItem } from \"../../ui-kit\";\nimport { TopMenu } from \"./elements/TopMenu\";\nimport { PlayControls } from \"./elements/PlayControls\";\nimport { AddInstrument } from \"./modals/AddInstrument\";\nimport { SaveSong } from \"./modals/SaveSong\";\nimport { config } from \"../../config/config\";\nimport {\n  playBeat,\n  getRandomName,\n  preparePartition,\n  prepareInstruments,\n  prepareOneInstrument,\n  playOneToneJsNote,\n} from \"../utils\";\nimport axios from \"axios\";\nimport { globalContext } from \"./context/GlobalContext\";\nimport { CreateSong as Component } from \"./Component\";\n\nexport const CreateSong = (props) => {\n  const [bottomMessage, setBottomMessage] = useState(\"\");\n  const [highlightedNote, setHighlightedNote] = useState(-1);\n\n  let musicPlaying = React.useRef(null);\n\n  const lengthOfPage = window.innerWidth >= 800 ? 16 : 12;\n\n  const {\n    tempo,\n    setTempo,\n    setIsPlaying,\n    instruments,\n    setInstruments,\n    partition,\n    setPartition,\n    setTimeoutTempo,\n    isNotePlayedOnClick,\n    isAddInstrumentVisible,\n    toggleIsAddInstrumentVisible,\n    isSaveSongVisible,\n    setIsSaveSongVisible,\n    animatedNotes,\n    timeoutTempo,\n    setAnimatedNotes,\n    currentPage,\n    setCurrentPage,\n    pages,\n    setPages,\n  } = useContext(globalContext);\n\n  useEffect(() => {\n    const songIdToLoad = props?.match?.params?.id;\n    if (songIdToLoad) {\n      prepareLoadedSong(songIdToLoad);\n    } else {\n      prepareNewMusic();\n    }\n    return () => stopPlaying();\n  }, []);\n\n  const prepareNewMusic = async () => {\n    const { data } = await axios.get(\"/api/instrument/starter\");\n    const preparedInstruments = prepareInstruments(data);\n    const newPartition = preparePartition(\n      preparedInstruments,\n      config.START_PARTITION_LENGTH\n    );\n    setInstruments(preparedInstruments);\n    setPartition(newPartition);\n  };\n\n  const prepareLoadedSong = async (songIdToLoad) => {\n    const { data: loadedSong } = await axios.get(`/api/song/${songIdToLoad}`);\n    const newInstruments = [...loadedSong.instruments];\n    const preparedInstruments = prepareInstruments(newInstruments);\n    setInstruments(preparedInstruments);\n    setPartition(loadedSong.partition);\n    setTempo(loadedSong.tempo);\n    setTimeoutTempo(60000 / loadedSong.tempo / 4);\n    const numberOfPages = Math.ceil(\n      loadedSong.partition[0].length / lengthOfPage\n    );\n    const newPages = [];\n    for (let i = 1; i <= numberOfPages; i++) {\n      newPages.push(1);\n    }\n    setPages(newPages);\n  };\n\n  const addOneBar = () => {\n    if (partition.length && partition[0].length < config.MAX_PARTITION_LENGTH) {\n      const updatedPartition = [...partition];\n      updatedPartition.forEach((el) => {\n        el.push(0);\n      });\n      const pagesCalculation = Math.ceil(\n        updatedPartition[0].length / lengthOfPage\n      );\n      const pagesUpdate =\n        pages.length < pagesCalculation ? pages.concat([1]) : pages;\n      setPartition(updatedPartition);\n      setPages(pagesUpdate);\n    }\n  };\n\n  const removeOneBar = () => {\n    if (partition[0]?.length < 2) return;\n\n    const updatedPartition = [...partition];\n    const last = updatedPartition[0].length - 1;\n    updatedPartition.forEach((el) => {\n      el.splice(last, 1);\n    });\n    const pagesCalc = Math.ceil(updatedPartition[0].length / lengthOfPage);\n    const pagesUpdate =\n      pages.length > pagesCalc ? pages.slice(0, pages.length - 1) : pages;\n    setPartition(updatedPartition);\n    setPages(pagesUpdate);\n    if (currentPage > pagesUpdate.length) setCurrentPage(pagesUpdate.length);\n  };\n\n  const playMusic = (instruments, partition, tempo) => {\n    if (!partition || !partition.length) return;\n    setIsPlaying(true);\n    setCurrentPage(1);\n    let counter = 0;\n\n    const playInterval = () => {\n      setHighlightedNote(counter);\n      setAnimatedNotes([counter - 1, counter, counter + 1]);\n      playBeat(instruments, partition, counter);\n      counter++;\n      if (counter >= partition[0].length) {\n        counter = 0;\n      }\n      if (counter % lengthOfPage === 1) {\n        const nextPage = Math.ceil(counter / lengthOfPage);\n        setCurrentPage(nextPage);\n      }\n    };\n    musicPlaying.current = setInterval(playInterval, tempo);\n  };\n\n  const onPlayBtnPress = () => {\n    playMusic(instruments, partition, timeoutTempo);\n  };\n\n  const stopPlaying = () => {\n    setIsPlaying(false);\n    clearInterval(musicPlaying.current);\n  };\n\n  const addInstrument = (instr) => {\n    const length = partition[0] ? partition[0].length : 8;\n    const newPartitionRow = [];\n    for (let i = 1; i <= length; i++) {\n      newPartitionRow.push(0);\n    }\n    const newPartition = [...partition];\n    const newInstruments = [...instruments];\n    const preparedNewInstrument = prepareOneInstrument(instr);\n    newInstruments.push(preparedNewInstrument);\n    newPartition.push(newPartitionRow);\n    setInstruments(newInstruments);\n    setPartition(newPartition);\n    stopPlaying();\n  };\n\n  const toggleActiveNote = (col, row, sounds, pitches) => {\n    const updatedPartition = [...partition];\n    const depth = sounds.length;\n    const newIndex = (updatedPartition[row][col] + 1) % depth;\n    updatedPartition[row][col] = newIndex;\n    if (sounds[newIndex] instanceof Audio && isNotePlayedOnClick) {\n      sounds[newIndex].play();\n    } else if (instruments[row].isToneJs && pitches.length) {\n      if (pitches[newIndex]) playOneToneJsNote(pitches[newIndex]);\n    }\n    setPartition(updatedPartition);\n  };\n\n  const saveTheSong = async (title) => {\n    const songInstruments = instruments.map((el) => {\n      return el.id;\n    });\n    const songData = {\n      title,\n      partition,\n      tempo,\n      instruments: songInstruments,\n      creator: props.user?._id || undefined,\n      creatorName: props.user?.username || getRandomName(),\n      posted: true,\n    };\n    await axios.post(\"api/song/\", songData);\n    setIsSaveSongVisible(false);\n    setBottomMessage(`New song \"${title}\" successfully saved!`);\n    setTimeout(() => {\n      setBottomMessage(\"\");\n    }, 1500);\n  };\n\n  return (\n    <React.Fragment>\n      {isAddInstrumentVisible && (\n        <AddInstrument addInstrument={addInstrument} />\n      )}\n      {isSaveSongVisible && (\n        <SaveSong\n          saveTheSong={saveTheSong}\n          toggleIsSaveSongVisible={() =>\n            setIsSaveSongVisible(!isSaveSongVisible)\n          }\n          user={props.user}\n        />\n      )}\n      {bottomMessage && (\n        <ExpandedMenuItem>\n          <p>{bottomMessage}</p>\n        </ExpandedMenuItem>\n      )}\n      <TopMenu />\n\n      <Component\n        partition={partition}\n        lengthOfPage={lengthOfPage}\n        currentPage={currentPage}\n        pages={pages}\n        instruments={instruments}\n        toggleActiveNote={toggleActiveNote}\n        highlightedNote={highlightedNote}\n        animatedNotes={animatedNotes}\n        toggleIsAddInstrumentVisible={toggleIsAddInstrumentVisible}\n        addOneBar={addOneBar}\n        removeOneBar={removeOneBar}\n      />\n      <PlayControls\n        onPlayBtnPress={onPlayBtnPress}\n        onStopBtnPress={stopPlaying}\n        user={props.user}\n      />\n    </React.Fragment>\n  );\n};\n","import React from \"react\";\nimport { StyledNote } from \"../../ui-kit\";\n\nexport const Note = ({ status, colors, highlighted, isAnimated }) => {\n  const color = colors[status];\n\n  return (\n    <StyledNote\n      color={color}\n      highlighted={highlighted}\n      animated={isAnimated}\n    />\n  );\n};\n","import React from \"react\";\nimport { Note } from \"./Note\";\nimport { Line } from \"../../ui-kit\";\n\nexport const DisplayLine = ({\n  notes,\n  noteColors,\n  highlightedNote,\n  animatedNotes,\n  lengthOfPage,\n  currentPage,\n}) => {\n  const firstIndex = (currentPage - 1) * lengthOfPage;\n  const lastIndex = currentPage * lengthOfPage;\n\n  const displayNotes = notes.map((n, i) => {\n    if (i >= firstIndex && i < lastIndex) {\n      return (\n        <Note\n          key={i}\n          status={n}\n          colors={noteColors}\n          highlighted={highlightedNote === i}\n          isAnimated={animatedNotes.includes(i)}\n        />\n      );\n    }\n  });\n\n  return <Line>{displayNotes}</Line>;\n};\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { DisplayLine } from \"./DisplayLine\";\nimport { playBeat } from \"../utils\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faStop } from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  MusicGrid,\n  SongPost,\n  SongPostPlay,\n  SongHeader,\n  SmallTitle,\n} from \"../../ui-kit\";\n\nconst iconsStyle = {\n  width: 40,\n  height: 40,\n  padding: \"10px 30px\",\n  border: \"solid 1px rgba(0, 0, 0, 0.6)\",\n  color: \"rgba(0, 0, 0, 0.7)\",\n  backgroundColor: \"rgba(250, 250, 250, 0.5)\",\n  borderRadius: 5,\n  zIndex: 5,\n};\n\nexport const DisplaySong = ({\n  title,\n  partition,\n  musicLines,\n  tempo,\n  creatorName,\n}) => {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [highlightedNote, setHighlightedNote] = useState(-1);\n  const [animatedNotes, setAnimatedNotes] = useState([-1, -1, -1]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pages, setPages] = useState([1]);\n\n  const timeoutTempo = 60000 / tempo / 4;\n  let intervalId = useRef(null);\n\n  const lengthOfPage = window.innerWidth >= 800 ? 16 : 12;\n\n  useEffect(() => {\n    const updatedPages = [];\n    const numberOfPages = Math.ceil(partition[0].length / lengthOfPage);\n    for (let i = 1; i <= numberOfPages; i++) {\n      updatedPages.push(1);\n    }\n    setPages(updatedPages);\n  }, []);\n\n  useEffect(() => {\n    return () => stopPlaying();\n  }, []);\n\n  const playMusic = (musicLines, partition, tempo) => {\n    setIsPlaying(true);\n    setCurrentPage(1);\n    let counter = 0;\n    intervalId.current = setInterval(() => {\n      setHighlightedNote(counter);\n      setAnimatedNotes([counter - 1, counter, counter + 1]);\n      playBeat(musicLines, partition, counter);\n      counter++;\n      if (counter >= partition[0].length) {\n        counter = 0;\n      }\n      if (counter % lengthOfPage === 1) {\n        const nextPage = Math.ceil(counter / lengthOfPage);\n        setCurrentPage(nextPage);\n      }\n    }, tempo);\n  };\n\n  const stopPlaying = () => {\n    setIsPlaying(false);\n    clearInterval(intervalId.current);\n  };\n\n  const onSongClick = () => {\n    if (isPlaying) {\n      stopPlaying();\n    } else {\n      playMusic(musicLines, partition, timeoutTempo);\n    }\n  };\n\n  return (\n    <SongPost>\n      <SongPostPlay onClick={onSongClick}>\n        {isPlaying ? (\n          <FontAwesomeIcon icon={faStop} color=\"black\" style={iconsStyle} />\n        ) : (\n          <FontAwesomeIcon icon={faPlay} color=\"black\" style={iconsStyle} />\n        )}\n      </SongPostPlay>\n      <SongHeader>\n        <SmallTitle b>{title}</SmallTitle>\n        <SmallTitle>by {creatorName}</SmallTitle>\n      </SongHeader>\n      <MusicGrid>\n        {musicLines.map((line, i) => {\n          return (\n            <DisplayLine\n              key={i}\n              linePosition={i}\n              notes={partition[i]}\n              noteColors={line.colors}\n              sounds={line.sounds}\n              lengthOfPage={lengthOfPage}\n              currentPage={currentPage}\n              highlightedNote={highlightedNote}\n              animatedNotes={animatedNotes}\n            />\n          );\n        })}\n      </MusicGrid>\n    </SongPost>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown } from \"@fortawesome/free-solid-svg-icons\";\nimport { \n  Row, \n  Column, \n  Heading2, \n  AppIntroLayout, \n  Section, \n  Heading3\n} from \"../../ui-kit\";\n\nexport const AppIntro = () => {\n  const chevronStyle = {\n    padding: 4,\n    paddingTop: 32,\n    width: 40,\n    height: 40,\n  };\n  return (\n    <AppIntroLayout>\n      <Row>\n        <Column justifyContent=\"center\" alignItems=\"center\">\n          <Heading2>Welcome to Boom-Tchak!</Heading2>\n        </Column>\n      </Row>\n      <Row>\n        <Column justifyContent=\"center\" alignItems=\"center\">\n          <p style={{ margin: 0, padding: 8 }}>\n            The app to discover and create nice music loops.\n          </p>\n          <p>\n            What do you want to do?\n          </p>\n        </Column>\n      </Row>\n      <Row>\n        <Link to=\"/create\" style={{textDecoration: 'none', color: 'black'}}>\n          <Section flexDirection=\"column\" clickable>\n            <Row>\n              <img\n                src=\"images/piano-keys.svg\"\n                alt=\"Keys\"\n                width=\"100\"\n                height=\"auto\"\n              />\n            </Row>\n            <Heading3>\n              Create a Loop\n            </Heading3>\n          </Section>\n        </Link>\n        <Link to=\"/mix\" style={{textDecoration: 'none', color: 'black'}}>\n          <Section flexDirection=\"column\" clickable>\n            <Row>\n              <img\n                src=\"images/CassetteRemix.svg\"\n                alt=\"Cassette\"\n                width=\"100\"\n                height=\"auto\"\n              />\n            </Row>\n            <Row>\n              <Heading3>\n                Start Mixing\n              </Heading3>\n            </Row>\n          </Section>\n        </Link>\n      </Row>\n      <Row>\n        <Column>\n          <p style={{ margin: 0, padding: 8 }}>\n            To check out some nice music loops, scroll down and click on the\n            songs\n          </p>\n        </Column>\n      </Row>\n      <Row>\n        <Column flexDirection=\"row\" justifyContent=\"center\" alignItems=\"center\">\n          <FontAwesomeIcon\n            icon={faChevronDown}\n            style={chevronStyle}\n            color=\"black\"\n          />\n          <FontAwesomeIcon\n            icon={faChevronDown}\n            style={chevronStyle}\n            color=\"black\"\n          />\n          <FontAwesomeIcon\n            icon={faChevronDown}\n            style={chevronStyle}\n            color=\"black\"\n          />\n        </Column>\n      </Row>\n    </AppIntroLayout>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Bars } from \"svg-loaders-react\";\nimport axios from \"axios\";\nimport { DisplaySong } from \"./DisplaySong\";\nimport { prepareInstruments } from \"../utils/instruments\";\nimport { AppIntro } from \"../InfoPages/AppIntro\";\nimport { BlankSpace, MenuButton } from \"../../ui-kit\";\n\nexport const SongsList = ({ isAppIntroDisplayed = false }) => {\n  const [songs, setSongs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [message, setMessage] = useState(\"\");\n\n  const loadSongs = async () => {\n    setLoading(true);\n    const { data: loadedSongs } = await axios.get(\n      `/api/song/posted/${currentPage}`,\n      {\n        page: 1,\n      }\n    );\n    if (!loadedSongs.length) {\n      setMessage(\"no more songs to load...\");\n      setLoading(false);\n      setTimeout(() => {\n        setMessage(\"\");\n      }, 2000);\n      return;\n    }\n    loadedSongs.forEach((song) => {\n      const preparedInstruments = prepareInstruments(song.instruments);\n      song.instruments = preparedInstruments;\n    });\n    setSongs([...songs, ...loadedSongs]);\n    setLoading(false);\n    setCurrentPage(currentPage + 1);\n  };\n\n  useEffect(() => {\n    loadSongs();\n  }, []);\n\n  const loadMore = () => {\n    loadSongs();\n  };\n\n  return (\n    <React.Fragment>\n      {isAppIntroDisplayed && <AppIntro />}\n      {songs.map((song) => {\n        return (\n          <DisplaySong\n            key={song._id}\n            title={song.title}\n            partition={song.partition}\n            musicLines={song.instruments}\n            tempo={song.tempo}\n            creatorName={song.creatorName}\n          />\n        );\n      })}\n      {loading ? (\n        <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />\n      ) : message ? (\n        <p>{message}</p>\n      ) : (\n        <MenuButton onClick={loadMore}>load more</MenuButton>\n      )}\n      <BlankSpace height=\"100px\" />\n    </React.Fragment>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Bars } from \"svg-loaders-react\";\nimport {\n  PageLayout,\n  SelectableText,\n  Button,\n  Heading2,\n  Column,\n} from \"../../ui-kit\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport const LoadSong = (props) => {\n  const [songsList, setSongsList] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedSong, setSelectedSong] = useState(null);\n  const [message, setMessage] = useState(\"\");\n\n  const fetchData = async () => {\n    setLoading(true);\n    const { data } = await axios.get(`/api/song/creator/${props.user._id}`);\n    if (data) {\n      setSongsList(data);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const deleteSong = async (songId) => {\n    const response = await axios.delete(`/api/song/${songId}`);\n    setMessage(response.message);\n    fetchData();\n    setTimeout(() => {\n      setMessage(\"\");\n    }, 1500);\n  };\n\n  return (\n    <PageLayout>\n      <Heading2>Load Song</Heading2>\n      {loading && (\n        <Column alignItems=\"center\">\n          <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />\n        </Column>\n      )}\n      {songsList.map((el) => {\n        return (\n          <SelectableText\n            key={el._id}\n            selected={selectedSong === el._id}\n            onClick={() => {\n              setSelectedSong(el._id);\n            }}>\n            {el.title}\n          </SelectableText>\n        );\n      })}\n      <div>{message && <p>{message}</p>}</div>\n      {selectedSong && (\n        <div style={{ paddingTop: 20 }}>\n          <Link to={`/create/${selectedSong}`}>\n            <Button>Load</Button>\n          </Link>\n          <Button onClick={() => deleteSong(selectedSong)}>Delete</Button>\n          <Link to={\"/\"}>\n            <Button>Cancel</Button>\n          </Link>\n        </div>\n      )}\n    </PageLayout>\n  );\n};\n","import axios from \"axios\";\n\nexport const signup = (username, password) => {\n  return axios\n    .post(\"/api/auth/signup\", { username, password })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nexport const login = (username, password) => {\n  return axios\n    .post(\"/api/auth/login\", { username, password })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n\nexport const logout = () => {\n  return axios\n    .delete(\"/api/auth/logout\")\n    .then((response) => {\n      return response.data;\n    })\n    .catch((err) => {\n      return err.response.data;\n    });\n};\n","import React, { useState } from \"react\";\nimport { login } from \"./utils\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Input,\n  Button,\n  PageLayout,\n  Label,\n  Row,\n  Column,\n  Alert,\n  Heading2,\n  BlankSpace,\n} from \"../../ui-kit\";\n\nexport const Login = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const linkStyle = {\n    textDecoration: \"none\",\n    color: \"black\",\n  };\n\n  const handleLogin = async () => {\n    const data = await login(username, password);\n    if (data.message) {\n      setMessage(data.message);\n    } else {\n      props.setUser(data);\n      props.history.push(\"/\");\n    }\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === \"username\") {\n      setUsername(e.target.value);\n    }\n    if (e.target.name === \"password\") {\n      setPassword(e.target.value);\n    }\n  };\n\n  return (\n    <PageLayout>\n      <Row>\n        <Column />\n        <Column flex={1}>\n          <Heading2>Login</Heading2>\n          <Row>\n            <Column>\n              <Label htmlFor=\"username\">Username:</Label>\n            </Column>\n            <Column flex={2}>\n              <Input\n                type=\"text\"\n                name=\"username\"\n                width={\"100%\"}\n                id=\"username\"\n                value={username}\n                onChange={handleChange}\n              />\n            </Column>\n          </Row>\n          <Row>\n            <Column flex={1}>\n              <Label htmlFor=\"password\">Password:</Label>\n            </Column>\n            <Column flex={2}>\n              <Input\n                type=\"password\"\n                name=\"password\"\n                width={\"100%\"}\n                id=\"password\"\n                value={password}\n                onChange={handleChange}\n              />\n            </Column>\n          </Row>\n          <BlankSpace />\n          <Row>\n            <Column alignItems={\"center\"}>\n              {message && <Alert>{message}</Alert>}\n              <Button onClick={handleLogin}>Login</Button>\n              <p>No profile yet?</p>\n              <Link to=\"/signup\" style={linkStyle}>\n                signup\n              </Link>\n            </Column>\n          </Row>\n        </Column>\n        <Column />\n      </Row>\n    </PageLayout>\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  Input,\n  Button,\n  Label,\n  Row,\n  Column,\n  Alert,\n  PageLayout,\n  BlankSpace,\n  Heading2,\n} from \"../../ui-kit\";\nimport { Link } from \"react-router-dom\";\nimport { signup } from \"./utils\";\n\nexport const Signup = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const linkStyle = {\n    textDecoration: \"none\",\n    color: \"black\",\n  };\n\n  const handleSignup = async (e) => {\n    const data = await signup(username, password);\n    if (data.message) {\n      setMessage(data.message);\n    } else {\n      props.setUser(data);\n      props.history.push(\"/\");\n    }\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === \"username\") {\n      setUsername(e.target.value);\n    }\n    if (e.target.name === \"password\") {\n      setPassword(e.target.value);\n    }\n  };\n\n  return (\n    <PageLayout>\n      <Row>\n        <Column />\n        <Column flex={1}>\n          <Heading2>Signup</Heading2>\n          <Row>\n            <Column>\n              <Label htmlFor=\"username\">Username:</Label>\n            </Column>\n            <Column flex={2}>\n              <Input\n                type=\"text\"\n                name=\"username\"\n                width={\"100%\"}\n                id=\"username\"\n                value={username}\n                onChange={handleChange}\n              />\n            </Column>\n          </Row>\n          <Row>\n            <Column flex={1}>\n              <Label htmlFor=\"password\">Password:</Label>\n            </Column>\n            <Column flex={2}>\n              <Input\n                type=\"password\"\n                name=\"password\"\n                width={\"100%\"}\n                id=\"password\"\n                value={password}\n                onChange={handleChange}\n              />\n            </Column>\n          </Row>\n          <BlankSpace />\n          <Row>\n            <Column alignItems={\"center\"}>\n              {message && <Alert>{message}</Alert>}\n              <Button onClick={handleSignup}>Submit</Button>\n              <p>Already have a profile?</p>\n              <Link to=\"/login\" style={linkStyle}>\n                login\n              </Link>\n            </Column>\n          </Row>\n        </Column>\n        <Column />\n      </Row>\n    </PageLayout>\n  );\n};\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { logout } from \"./utils\";\nimport {\n  Row,\n  Column,\n  Button,\n  PageLayout,\n  ProfilePic,\n  Heading2,\n} from \"../../ui-kit\";\n\nexport const Profile = (props) => {\n  const [message, setMessage] = useState(\"\");\n\n  const onLogoutBtnClick = async () => {\n    await logout();\n    props.setUser(null);\n    props.history.push(\"/\");\n  };\n\n  const onCreateInstrumentBtnClick = () => {\n    const isUserAdmin = props.user && props.user.admin === true;\n    if (isUserAdmin) {\n      props.history.push(\"/create-instrument\");\n    } else {\n      setMessage(\"Coming soon, stay tuned...\");\n      setInterval(() => {\n        setMessage(\"\");\n      }, 2000);\n    }\n  };\n\n  if (!props.user) {\n    return (\n      <PageLayout>\n        <Heading2>No Profile...</Heading2>\n        <Row>\n          <Column>Please login or signup to access the profile page</Column>\n        </Row>\n      </PageLayout>\n    );\n  }\n\n  return (\n    <PageLayout>\n      <Row>\n        <Column>\n          <Heading2>Profile</Heading2>\n        </Column>\n      </Row>\n      <Row>\n        <Column flex={2}>\n          <ProfilePic\n            src={\n              \"https://images.unsplash.com/photo-1502377429547-835a416e4a90?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=667&q=80\"\n            }\n          />\n        </Column>\n        <Column justifyContent=\"flex-start\" flex={3}>\n          <h3>Hello, {props.user.username}</h3>\n          <p>Are you ready to create some funky beats today?</p>\n          <Row>\n            <Link to=\"/load-song\">\n              <Button>Load Song</Button>\n            </Link>\n            <Button onClick={onCreateInstrumentBtnClick}>\n              Create Instrument\n            </Button>\n            <Button onClick={onLogoutBtnClick}>Logout</Button>\n          </Row>\n          <Row>\n            <Column>{message && <p>{message}</p>}</Column>\n          </Row>\n        </Column>\n      </Row>\n    </PageLayout>\n  );\n};\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const ProtectedRoute = ({ component: Component, user, ...rest }) => {\n  return (\n    <Route\n      user={user}\n      {...rest}\n      render={(props) => {\n        if (user) {\n          return <Component user={user} {...rest} {...props} />;\n        } else {\n          return <Redirect to=\"/\" />;\n        }\n      }}\n    />\n  );\n};\n","import React from \"react\";\nimport { getCategories, getSubCategories } from \"../utils\";\nimport { Row, Column, Input, Select, Option } from \"../../ui-kit\";\n\nexport const Characteristics = ({\n  name,\n  setName,\n  category,\n  setCategory,\n  subCategory,\n  setSubCategory,\n}) => {\n  const instrumentCategories = getCategories();\n\n  return (\n    <React.Fragment>\n      <Row>\n        <Column flex={1}>Name:</Column>\n        <Column justifyContent=\"flex-start\" flex={2}>\n          <Input\n            width=\"160px\"\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        </Column>\n      </Row>\n      <Row>\n        <Column flex={1}>Category:</Column>\n        <Column justifyContent=\"flex-start\" flex={2}>\n          <Select\n            name=\"category\"\n            width=\"170px\"\n            value={category}\n            onChange={(e) => setCategory(e.target.value)}>\n            {instrumentCategories.map((cat, i) => {\n              return (\n                <Option key={i} value={cat}>\n                  {cat !== \"default\" && cat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n      <Row>\n        <Column flex={1}>Sub-category:</Column>\n        <Column justifyContent=\"flex-start\" flex={2}>\n          <Select\n            name=\"sub-category\"\n            width=\"170px\"\n            value={subCategory}\n            onChange={(e) => setSubCategory(e.target.value)}>\n            {getSubCategories(category).map((subCat, i) => {\n              return (\n                <Option key={i} value={subCat}>\n                  {subCat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n    </React.Fragment>\n  );\n};\n","import React from \"react\";\nimport { Row, Column, ColorSquare, Button } from \"../../ui-kit\";\n\nexport const InstrumentSoundsList = ({ sounds, colors, addSound }) => {\n  const playSound = (url) => {\n    new Audio(url).play();\n  };\n\n  return (\n    <React.Fragment>\n      {sounds &&\n        sounds.map((el, i) => {\n          return (\n            <Row key={i}>\n              <Column>\n                <p style={{ margin: 0, padding: \"5px 0\" }}>\n                  {i === 0 ? \"Default\" : `${i}`}\n                </p>\n              </Column>\n              <Column>\n                <ColorSquare backgroundColor={colors[i]} />\n              </Column>\n              <Column flex={5}>\n                {el.url ? (\n                  <Button onClick={() => playSound(el.url)}>{el.name}</Button>\n                ) : (\n                  <p style={{ margin: 0, padding: \"5px 18px\" }}>No sound</p>\n                )}\n              </Column>\n            </Row>\n          );\n        })}\n      <Row>\n        <Column flex={2}></Column>\n        <Column justifyContent=\"flex-start\" flex={5}>\n          <Button backgroundColor=\"#0f0\" onClick={addSound}>\n            Add Sound\n          </Button>\n        </Column>\n      </Row>\n    </React.Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faVolumeUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { Bars } from \"svg-loaders-react\";\nimport { getCategories, getSubCategories } from \"../utils\";\nimport {\n  Row,\n  Column,\n  Heading3,\n  Select,\n  Option,\n  SelectableRow,\n} from \"../../ui-kit\";\n\nexport const AvailableSoundsList = ({\n  loading,\n  availableSounds,\n  selectedSound,\n  selectSound,\n  filterName,\n}) => {\n  const [filterCategory, setFilterCategory] = useState(\"default\");\n  const [filterSubCategory, setFilterSubCategory] = useState(\"\");\n\n  const filteredSounds = availableSounds.filter((sound) => {\n    return (\n      (!filterName ||\n        sound.name\n          .toLocaleLowerCase()\n          .includes(filterName.toLocaleLowerCase())) &&\n      (filterCategory === \"default\" || filterCategory === sound.category) &&\n      (!filterSubCategory || filterSubCategory === sound.subCategory)\n    );\n  });\n\n  const volumeBtnStyle = {\n    margin: 2,\n    color: \"black\",\n    backgroundColor: \"white\",\n    padding: 6,\n    borderColor: \"black\",\n    borderWidth: 1,\n    borderStyle: \"solid\",\n    borderRadius: \"50%\",\n    cursor: \"pointer\",\n  };\n\n  const soundCategories = getCategories();\n\n  if (loading) {\n    return (\n      <Column alignItems=\"center\">\n        <Bars width={100} height={50} fill=\"#000\" stroke=\"#000\" />\n      </Column>\n    );\n  }\n  return (\n    <React.Fragment>\n      <Row>\n        <Column />\n        <Column flex={2}>\n          <Heading3>Name</Heading3>\n        </Column>\n        <Column flex={2} flexDirection=\"row\" justifyContent=\"left\">\n          <Heading3>Category</Heading3>\n          <Select\n            name=\"category\"\n            width=\"60px\"\n            value={filterCategory}\n            onChange={(e) => setFilterCategory(e.target.value)}>\n            {soundCategories.map((cat, i) => {\n              return (\n                <Option key={i} value={cat}>\n                  {cat === \"default\" ? \"all\" : cat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n        <Column flex={2} flexDirection=\"row\" justifyContent=\"left\">\n          <Heading3>Sub-cat.</Heading3>\n          <Select\n            name=\"sub-category\"\n            width=\"60px\"\n            value={filterSubCategory}\n            onChange={(e) => setFilterSubCategory(e.target.value)}>\n            {getSubCategories(filterCategory).map((subCat, i) => {\n              return (\n                <Option key={i} value={subCat}>\n                  {subCat || \"all\"}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n        <Column flex={2}>\n          <Heading3>Pitch</Heading3>\n        </Column>\n      </Row>\n      {filteredSounds.map((el) => {\n        const playSound = () => {\n          return new Audio(el.url).play();\n        };\n        return (\n          <SelectableRow\n            selected={selectedSound && selectedSound.url === el.url}\n            noHoverHighlight\n            onClick={() => selectSound(el)}\n            key={el._id}>\n            <Column>\n              <FontAwesomeIcon\n                icon={faVolumeUp}\n                style={volumeBtnStyle}\n                onClick={playSound}\n              />\n            </Column>\n            {[\"name\", \"category\", \"subCategory\", \"pitch\"].map(\n              (columnTitle, index) => {\n                return (\n                  <Column key={index} flex={2}>\n                    {el[columnTitle]}\n                  </Column>\n                );\n              }\n            )}\n          </SelectableRow>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { getCategories, getSubCategories } from \"../utils\";\nimport { Row, Column, Input, Button, Select, Option } from \"../../ui-kit\";\n\nexport const CreateSound = ({ setView, fetchData }) => {\n  const [soundName, setSoundName] = useState(\"\");\n  const [soundCategory, setSoundCategory] = useState(\"\");\n  const [soundSubCategory, setSoundSubCategory] = useState(\"\");\n  const [soundPitch, setSoundPitch] = useState(\"\");\n  const [soundFile, setSoundFile] = useState(null);\n  const [message, setMessage] = useState(\"\");\n\n  const fileSelectorHandler = (event) => {\n    const selectedFile = event.target.files[0];\n    setSoundFile(selectedFile);\n  };\n\n  const uploadSound = async () => {\n    if (!soundName || !soundCategory || !soundSubCategory) {\n      displayMessage(\"Please chose a name and select categories\");\n      return;\n    } else if (soundName.length < 5) {\n      displayMessage(\"The sound name must be at least 5 char.\");\n    } else if (!soundFile) {\n      displayMessage(\"please select a file to upload\");\n      return;\n    }\n    const uploadData = new FormData();\n    uploadData.append(\"sounds\", soundFile);\n    const uploadedSound = await axios.post(\"/api/sound/upload\", uploadData);\n    const createdSound = await axios.post(\"/api/sound\", {\n      name: soundName,\n      category: soundCategory,\n      subCategory: soundSubCategory,\n      pitch: soundPitch,\n      url: uploadedSound.data.secure_url,\n    });\n    if (createdSound.message) {\n      displayMessage(createdSound.message);\n      return;\n    }\n    setView(\"ADD\");\n    fetchData();\n  };\n\n  const soundCategories = getCategories();\n\n  const displayMessage = (mes) => {\n    setMessage(mes);\n    setInterval(() => {\n      setMessage(\"\");\n    }, 3000);\n  };\n  return (\n    <React.Fragment>\n      <Row>\n        <Column>Select file:</Column>\n        <Column flex={2}>\n          <Input\n            id=\"file\"\n            name=\"file\"\n            type=\"file\"\n            multiple=\"false\"\n            onChange={fileSelectorHandler}\n          />\n        </Column>\n      </Row>\n      <Row>\n        <Column>Name:</Column>\n        <Column flex={2}>\n          <Input\n            type=\"text\"\n            value={soundName}\n            onChange={(e) => setSoundName(e.target.value)}\n          />\n        </Column>\n      </Row>\n      <Row>\n        <Column>Category:</Column>\n        <Column flex={2}>\n          <Select\n            name=\"category\"\n            onChange={(e) => setSoundCategory(e.target.value)}>\n            {soundCategories.map((cat, i) => {\n              return (\n                <Option key={i} value={cat}>\n                  {cat !== \"default\" && cat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n      <Row>\n        <Column>Sub-Category:</Column>\n        <Column flex={2}>\n          <Select\n            name=\"sub-category\"\n            onChange={(e) => setSoundSubCategory(e.target.value)}>\n            {getSubCategories(soundCategory).map((subCat, i) => {\n              return (\n                <Option key={i} value={subCat}>\n                  {subCat}\n                </Option>\n              );\n            })}\n          </Select>\n        </Column>\n      </Row>\n      <Row>\n        <Column>Pitch (optional):</Column>\n        <Column flex={2}>\n          <Input\n            type=\"text\"\n            value={soundPitch}\n            onChange={(e) => setSoundPitch(e.target.value)}\n          />\n        </Column>\n      </Row>\n      <Row>\n        <Column></Column>\n        <Column flex={2}>{soundFile && soundFile.name}</Column>\n      </Row>\n      <Row>\n        <Column>{message && message}</Column>\n      </Row>\n      <Row>\n        <Column flex={1}>\n          <Button onClick={uploadSound}>Create Sound</Button>\n        </Column>\n      </Row>\n    </React.Fragment>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { AvailableSoundsList } from \"./AvailableSoundsList\";\nimport { CreateSound } from \"./CreateSound\";\nimport { Row, Button, Column, Heading2, Input } from \"../../ui-kit\";\n\nconst views = {\n  ADD: \"ADD\",\n  UPLOAD: \"UPLOAD\",\n};\n\nexport const AddSound = ({\n  switchToOverview,\n  availableSounds,\n  selectedSound,\n  selectSound,\n  addSound,\n  loading,\n  fetchData,\n  displayMessage,\n}) => {\n  const [view, setView] = useState(views.ADD);\n  const [filterName, setFilterName] = useState(\"\");\n\n  useEffect(() => {\n    selectSound(null);\n  }, []);\n\n  const handleAddSoundClick = () => {\n    if (!selectedSound || !selectedSound.name || !selectedSound.url) {\n      displayMessage(\"Please select a sound first\");\n      return;\n    }\n    addSound({\n      id: selectedSound._id,\n      name: selectedSound.name,\n      color: \"#ddd\",\n      url: selectedSound.url,\n    });\n  };\n\n  return (\n    <React.Fragment>\n      <Row>\n        <Column flexDirection=\"row\" justifyContent=\"left\">\n          <Heading2>Add Sound</Heading2>\n        </Column>\n        <Column flexDirection=\"row\" justifyContent=\"left\">\n          <Input\n            type=\"text\"\n            width=\"140px\"\n            value={filterName}\n            placeholder=\"Search...\"\n            onChange={(e) => setFilterName(e.target.value)}\n          />\n        </Column>\n        <Column flex={2} flexDirection=\"row\" justifyContent=\"flex-end\">\n          <Button backgroundColor=\"#0f0\" onClick={handleAddSoundClick}>\n            Add\n          </Button>\n          <Button backgroundColor=\"#f00\" onClick={switchToOverview}>\n            Cancel\n          </Button>\n          {view === views.ADD && (\n            <Button\n              onClick={() => {\n                setView(views.UPLOAD);\n              }}>\n              Upload own sound\n            </Button>\n          )}\n          {view === views.UPLOAD && (\n            <Button\n              onClick={() => {\n                setView(views.ADD);\n              }}>\n              Search sound\n            </Button>\n          )}\n        </Column>\n      </Row>\n      <Row>\n        <Column flex={1}>\n          {view === views.UPLOAD && (\n            <CreateSound setView={setView} fetchData={fetchData} />\n          )}\n          {view === views.ADD && (\n            <AvailableSoundsList\n              loading={loading}\n              availableSounds={availableSounds}\n              selectedSound={selectedSound}\n              selectSound={selectSound}\n              filterName={filterName}\n            />\n          )}\n        </Column>\n      </Row>\n    </React.Fragment>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Characteristics } from \"./Characteristics\";\nimport { InstrumentSoundsList } from \"./InstrumentSoundsList\";\nimport { AddSound } from \"./AddSound\";\nimport { SketchPicker } from \"react-color\";\nimport { gradientBuilder } from \"../utils\";\nimport { config } from '../../config/config';\nimport axios from \"axios\";\nimport {\n  Row,\n  Column,\n  Button,\n  PageLayout,\n  Heading2,\n  Alert,\n  CategoryBtn,\n} from \"../../ui-kit\";\n\nconst views = {\n  OVERVIEW: \"OVERVIEW\",\n  ADD_SOUND: \"ADD_SOUND\",\n};\n\nexport const CreateInstrument = (props) => {\n  const [name, setName] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [subCategory, setSubCategory] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [sounds, setSounds] = useState([{id: config.DEFAULT_SOUND_ID}]);\n  const [view, setView] = useState(views.OVERVIEW);\n  const [loading, setLoading] = useState(false);\n  const [availableSounds, setAvailableSounds] = useState([]);\n  const [selectedSound, setSelectedSound] = useState(null);\n  const [editedColor, setEditedColor] = useState(\"start\");\n  const [colors, setColors] = useState(['#ddd']);\n  const [startColor, setStartColor] = useState(\"#aaaaaa\");\n  const [endColor, setEndColor] = useState(\"#555555\");\n  const [pickerColor, setPickerColor] = useState(\"#aaaaaa\");\n\n  const handleColorChange = (color) => {\n    setPickerColor(color.hex);\n    if (editedColor === \"start\") {\n      setStartColor(color.hex);\n    } else if (editedColor === \"end\") {\n      setEndColor(color.hex);\n    }\n  };\n\n  useEffect(()=>{\n    updateSoundsColors();\n  }, [startColor, endColor])\n\n  const updateSoundsColors = () => {\n    const updatedColors = [...colors];\n    const l = sounds.length;\n    if (l === 1) return;\n    if (l >= 2) updatedColors[1] = startColor;\n    if (l >= 3) updatedColors[l - 1] = endColor;\n    if (l > 3) {\n      const gradient = gradientBuilder(startColor, endColor, l - 3);\n      for (let i = 2; i < l - 1; i++) {\n        updatedColors[i] = gradient[i - 2];\n      }\n    }\n    setColors(updatedColors);\n  };\n\n  const openAddSoundSection = async () => {\n    setView(views.ADD_SOUND);\n    await fetchData();\n  };\n\n  const fetchData = async () => {\n    setLoading(true);\n    const { data } = await axios.get(\"/api/sound\");\n    if (data) {\n      setAvailableSounds(data);\n      setLoading(false);\n    }\n  };\n\n  const displayMessage = (mes) => {\n    setMessage(mes);\n    setInterval(() => {\n      setMessage(\"\");\n    }, 2000);\n  };\n\n  const addSound = (sound) => {\n    if ((!sound.url, !sound.color)) {\n      displayMessage(\"Please select or upload a sound and pick a color\");\n      return;\n    }\n    const newSound = {\n      id: sound.id,\n      name: sound.name,\n      url: sound.url,\n      pitch: sound.pitch || \"\",\n    };\n    const updatedSounds = [...sounds, newSound];\n    setSounds(updatedSounds);\n    setColors([...colors, '#ddd']);\n    setView(views.OVERVIEW);\n  };\n\n  const switchToOverview = () => {\n    setView(views.OVERVIEW);\n  };\n\n  const selectSound = (sound) => {\n    setSelectedSound(sound);\n  };\n\n  const resetInstrument = () => {\n    setName(\"\");\n    setCategory(\"\");\n    setSubCategory(\"\");\n    setSounds([{id: config.DEFAULT_SOUND_ID}]);\n  };\n\n  const saveInstrument = async () => {\n    if (!name || !category || !subCategory) {\n      displayMessage(`Please enter the fields: ${!name?'Name':''} ${!category?'Category':''} ${!subCategory?'Sub-category':''}`);\n      return;\n    }\n    if (sounds.length < 2) {\n      displayMessage(\"You must select at least 1 sound\");\n      return;\n    }\n    const createdInstrument = await axios.post(\"/api/instrument\", {\n      name,\n      category,\n      subCategory,\n      sounds: sounds.map(el=> el.id || null),\n      colors: colors,\n      creator: props.user._id,\n      private: false,\n    });\n    if (createdInstrument.message) {\n      displayMessage(createdInstrument.message);\n    } else if (createdInstrument.status === 200) {\n      displayMessage(`Success! You just created a new instrument!`);\n      resetInstrument();\n    }\n  };\n\n  const toggleHelp = () => {};\n\n  return (\n    <PageLayout>\n      <Row>{message && <Alert>{message}</Alert>}</Row>\n      {view === views.ADD_SOUND && (\n        <AddSound\n          switchToOverview={switchToOverview}\n          availableSounds={availableSounds}\n          selectedSound={selectedSound}\n          selectSound={selectSound}\n          loading={loading}\n          addSound={addSound}\n          fetchData={fetchData}\n          displayMessage={displayMessage}\n        />\n      )}\n      {view === views.OVERVIEW && (\n        <React.Fragment>\n          <Row>\n            <Column flex={1}>\n              <Heading2>Create Instrument</Heading2>\n            </Column>\n            <Column\n              flex={2}\n              flexDirection=\"row\"\n              alignItems=\"flex-end\"\n              justifyContent=\"flex-end\">\n              <Button onClick={saveInstrument}>Save Instrument</Button>\n              <Button onClick={resetInstrument}>Reset</Button>\n              <Button onClick={toggleHelp}>Help</Button>\n            </Column>\n          </Row>\n          <Row>\n            <Column flex={2}>\n              <Characteristics\n                name={name}\n                setName={setName}\n                category={category}\n                setCategory={setCategory}\n                subCategory={subCategory}\n                setSubCategory={setSubCategory}\n              />\n              <Row>\n                <Column>\n                  <h3>Sounds:</h3>\n                </Column>\n              </Row>\n              <Row>\n                <Column>\n                  <InstrumentSoundsList\n                    sounds={sounds}\n                    colors={colors}\n                    addSound={openAddSoundSection}\n                  />\n                </Column>\n              </Row>\n            </Column>\n            <Column flex={1}>\n              <SketchPicker\n                color={pickerColor}\n                onChangeComplete={handleColorChange}\n              />\n              <Row>\n                <Column\n                  flexDirection=\"row\"\n                  alignItems=\"center\"\n                  justifyContent=\"flex-start\">\n                  <CategoryBtn\n                    selected={editedColor === \"start\"}\n                    onClick={() => setEditedColor(\"start\")}>\n                    Pick start color\n                  </CategoryBtn>\n                  <CategoryBtn\n                    selected={editedColor === \"end\"}\n                    onClick={() => setEditedColor(\"end\")}>\n                    Pick end color\n                  </CategoryBtn>\n                </Column>\n              </Row>\n            </Column>\n          </Row>\n        </React.Fragment>\n      )}\n    </PageLayout>\n  );\n};\n","/*\n * Inspired by https://codepen.io/BangEqual/pen/VLNowO\n */\n\nexport const gradientBuilder = (value1, value2, steps) => {\n  //return a workable RGB int array [r,g,b] from hex representation\n  function processHEX(val) {\n    //does the hex contain extra char?\n    const hex = val.length > 6 ? val.substr(1, val.length - 1) : val;\n    let r, g, b;\n    // is it a six character hex?\n    if (hex.length > 3) {\n      //scrape out the numerics\n      r = hex.substr(0, 2);\n      g = hex.substr(2, 2);\n      b = hex.substr(4, 2);\n\n      // if not six character hex,\n      // then work as if its a three character hex\n    } else {\n      // just concat the pieces with themselves\n      r = hex.substr(0, 1) + hex.substr(0, 1);\n      g = hex.substr(1, 1) + hex.substr(1, 1);\n      b = hex.substr(2, 1) + hex.substr(2, 1);\n    }\n    // return our clean values\n    return [parseInt(r, 16), parseInt(g, 16), parseInt(b, 16)];\n  }\n\n  /**\n   * padding function:\n   * cba to roll my own, thanks Pointy!\n   * ==================================\n   * source: http://stackoverflow.com/questions/10073699/pad-a-number-with-leading-zeros-in-javascript\n   */\n  const pad = (n, width, z) => {\n    z = z || \"0\";\n    n = n + \"\";\n    return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n  };\n\n  const val1RGB = processHEX(value1);\n  const val2RGB = processHEX(value2);\n  const colors = [\n    // somewhere to dump gradient\n  ];\n\n  //the percentage representation of the step\n  const stepsPerc = 100 / (steps + 1);\n\n  // diffs between two values\n  const valClampRGB = [\n    val2RGB[0] - val1RGB[0],\n    val2RGB[1] - val1RGB[1],\n    val2RGB[2] - val1RGB[2],\n  ];\n\n  // build the color array out with color steps\n  for (let i = 0; i < steps; i++) {\n    const clampedR =\n      valClampRGB[0] > 0\n        ? pad(\n            Math.round((valClampRGB[0] / 100) * (stepsPerc * (i + 1))).toString(\n              16\n            ),\n            2\n          )\n        : pad(\n            Math.round(\n              val1RGB[0] + (valClampRGB[0] / 100) * (stepsPerc * (i + 1))\n            ).toString(16),\n            2\n          );\n\n    const clampedG =\n      valClampRGB[1] > 0\n        ? pad(\n            Math.round((valClampRGB[1] / 100) * (stepsPerc * (i + 1))).toString(\n              16\n            ),\n            2\n          )\n        : pad(\n            Math.round(\n              val1RGB[1] + (valClampRGB[1] / 100) * (stepsPerc * (i + 1))\n            ).toString(16),\n            2\n          );\n\n    const clampedB =\n      valClampRGB[2] > 0\n        ? pad(\n            Math.round((valClampRGB[2] / 100) * (stepsPerc * (i + 1))).toString(\n              16\n            ),\n            2\n          )\n        : pad(\n            Math.round(\n              val1RGB[2] + (valClampRGB[2] / 100) * (stepsPerc * (i + 1))\n            ).toString(16),\n            2\n          );\n    colors[i] = [\"#\", clampedR, clampedG, clampedB].join(\"\");\n  }\n\n  return colors;\n};\n","import { createContext } from \"react\";\n\nexport const djContext = createContext();\n\nexport default djContext;\n","/*\n    These random loops are solely adapted to the following instruments collection:\n    Drums: [\"E-Kicks 1\", \"E-Hi-Hats 1\", \"E-Cymbals\"]\n    Percussion: [\"Vinyls 1\", \"Congas\", \"Clap 1\"]\n    Bass: [\"Tone Bass Synth Am\", \"Tone Bass Synth Em\"]\n    Melody: [\n      \"Tone Synth Am Hi\",\n      \"Tone Synth Chromatic\",\n      \"Pizzicato C-Maj\",\n    ]\n\n*/\n\nexport const randomLoops = {\n  Drums: {\n    4: [\n      [\n        [1, 0, 1, 0],\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n      ],\n      [\n        [1, 0, 0, 0],\n        [1, 1, 1, 1],\n        [0, 0, 1, 0],\n      ],\n      [\n        [2, 0, 2, 0],\n        [0, 3, 0, 3],\n        [0, 0, 1, 0],\n      ],\n      [\n        [0, 0, 0, 0],\n        [0, 3, 0, 3],\n        [2, 0, 2, 0],\n      ],\n      [\n        [1, 0, 0, 0],\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n      ],\n      [\n        [1, 1, 0, 0],\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n      ],\n    ],\n    8: [\n      [\n        [1, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 2, 0, 0, 0, 2, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n      ],\n      [\n        [1, 0, 0, 0, 0, 0, 0, 0],\n        [1, 0, 1, 0, 1, 0, 1, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n      ],\n      [\n        [2, 0, 0, 0, 2, 0, 0, 0],\n        [0, 0, 3, 0, 0, 0, 3, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n      ],\n      [\n        [1, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 3, 0, 0, 0, 3, 0],\n        [2, 0, 0, 0, 2, 0, 0, 0],\n      ],\n      [\n        [1, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 0, 1, 0, 0, 0],\n      ],\n      [\n        [1, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n      ],\n    ],\n  },\n  Percussion: {\n    4: [\n      [\n        [1, 2, 2, 1],\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n      ],\n      [\n        [0, 0, 0, 0],\n        [0, 0, 0, 0],\n        [0, 2, 2, 2],\n      ],\n    ],\n    8: [\n      [\n        [2, 2, 4, 2, 2, 4, 1, 1],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n      ],\n      [\n        [0, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 1, 0, 0, 1, 0, 0],\n      ],\n      [\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 5, 5, 5, 4, 0],\n        [0, 0, 1, 0, 0, 0, 0, 0],\n      ],\n    ],\n  },\n  Bass: {\n    8: [\n      [\n        [1, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n      ],\n      [\n        [1, 0, 1, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n      ],\n    ],\n    16: [\n      [\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],\n      ],\n      [\n        [1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      ],\n    ],\n  },\n  Melody: {\n    8: [\n      [\n        [1, 0, 0, 0, 1, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n      ],\n      [\n        [1, 0, 1, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0],\n      ],\n    ],\n    16: [\n      [\n        [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      ],\n      [\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        [6, 0, 3, 2, 0, 8, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0],\n      ],\n    ],\n  },\n};\n\nexport const getRandomLoop = (loopName, loopLength) => {\n  const loops = randomLoops[loopName][loopLength];\n  const index = Math.floor(Math.random() * loops.length);\n  return loops[index];\n};\n","import React, { useContext } from \"react\";\nimport { CreateLine } from \"../../CreateSong/elements/CreateLine\";\nimport { Caption, Section, AverageEditBtn, SmallTitle } from \"../../../ui-kit\";\nimport { getRandomLoop } from \"../utils/randomLoops\";\n// import { getRandomSequence } from '../utils/loopsGenerator';\nimport { Switch } from \"@material-ui/core\";\nimport { djContext } from \"../context/DjContext\";\n\nexport const Loop = ({\n  data,\n  toggleActiveNote,\n  highlightedNote,\n  toggleLoopActive,\n}) => {\n  const { setPartition } = useContext(djContext);\n\n  const resetPartition = (loop) => {\n    const updatedPartition = [...loop.partition];\n    updatedPartition.forEach((line) => {\n      line.forEach((note, index) => {\n        line[index] = 0;\n      });\n    });\n    setPartition(updatedPartition, loop.name);\n  };\n\n  const setRandomLoop = (loop) => {\n    const randomLoop = getRandomLoop(loop.name, loop.partition[0].length);\n    const updatedPartition = [...loop.partition];\n    updatedPartition.forEach((line, lineIndex) => {\n      line.forEach((note, noteIndex) => {\n        line[noteIndex] = randomLoop[lineIndex][noteIndex];\n      });\n    });\n    setPartition(updatedPartition, loop.name);\n  };\n\n  // const setRandomLoop2 = (loop) => {\n  //   const updatedPartition = [...loop.partition];\n  //   const length = loop.partition[0].length;\n  //   updatedPartition.forEach((line, lineIndex) => {\n  //     const depth = loop.instruments[lineIndex].sounds.length -1;\n  //     const randomSequence = getRandomSequence(depth, length, 1)\n  //     line.forEach((note, noteIndex) => {\n  //       line[noteIndex] = randomSequence[noteIndex];\n  //     });\n  //   });\n  //   setPartition(updatedPartition, loop.name);\n  // };\n\n  const onToggleActivePress = () => {\n    toggleLoopActive(data);\n  };\n  const toggleActiveNoteForLoop = (col, row, sounds, pitches) => {\n    return toggleActiveNote(col, row, sounds, pitches, data);\n  };\n  const onResetClick = () => {\n    resetPartition(data);\n  };\n  const onRandomBtnClick = () => {\n    setRandomLoop(data);\n  };\n  return (\n    <Section>\n      <div style={{display: 'flex'}}>\n      <div>\n      <SmallTitle b style={{margin: \"-4px 0 8px -10px\"}}>{data.name}</SmallTitle>\n        {data.instruments.map((instrument, i) => {\n          return (\n            <CreateLine\n              key={i}\n              linePosition={i}\n              label={instrument.label}\n              notes={data.partition[i]}\n              noteColors={instrument.colors}\n              toggleActiveNote={toggleActiveNoteForLoop}\n              sounds={instrument.sounds}\n              pitches={instrument.pitches}\n              highlightedNote={highlightedNote % data?.partition[i]?.length}\n              currentPage={1}\n              lengthOfPage={32}\n              hasDeleteButton={false}\n            />\n          );\n        })}\n      </div>\n      <div\n        style={{\n          paddingTop: 12,\n          alignItems: \"center\",\n        }}>\n        <div style={{display: 'flex', alignItems: 'center'}}>\n        <Switch onChange={onToggleActivePress} checked={!!data.status[0][0]} />\n        <Caption>On</Caption>\n        </div>\n        <div style={{ padding: \"0 0 0 12px\" }}>\n          <AverageEditBtn onClick={onResetClick}>Reset</AverageEditBtn>\n        </div>\n        <div style={{ padding: \"0 0 0 12px\" }}>\n          <AverageEditBtn onClick={onRandomBtnClick}>Random</AverageEditBtn>\n        </div>\n      </div>\n      </div>\n    </Section>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { djContext } from \"../context/DjContext\";\nimport { MenuButton, Section, AverageEditBtn, Caption } from \"../../../ui-kit\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faStop } from \"@fortawesome/free-solid-svg-icons\";\n\nconst iconStyle = { width: 28, height: 28 };\n\nexport const Controls = ({ onPlayBtnPress, onStopBtnPress }) => {\n  const { tempo, setTempo, isPlaying } = useContext(djContext);\n\n  const onMinusTempoPress = () => {\n    setTempo(tempo - 5);\n  };\n  const onPlusTempoPress = () => {\n    setTempo(tempo + 5);\n  };\n\n  return (\n    <Section>\n      {isPlaying ? (\n        <MenuButton\n          variant=\"big\"\n          onClick={onStopBtnPress}\n          backgroundColor=\"#f00\">\n          <FontAwesomeIcon icon={faStop} color=\"white\" style={iconStyle} />\n        </MenuButton>\n      ) : (\n        <MenuButton\n          variant=\"big\"\n          onClick={onPlayBtnPress}\n          backgroundColor=\"#0f0\">\n          <FontAwesomeIcon icon={faPlay} color=\"white\" style={iconStyle} />\n        </MenuButton>\n      )}\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          padding: \"0 18px\",\n        }}>\n        <AverageEditBtn onClick={onMinusTempoPress}>-</AverageEditBtn>\n        <Caption>tempo: {tempo}</Caption>\n        <AverageEditBtn onClick={onPlusTempoPress}>+</AverageEditBtn>\n      </div>\n    </Section>\n  );\n};\n","import React from \"react\";\nimport { Loop } from \"./elements/Loop\";\nimport { Section, Heading2 } from \"../../ui-kit\";\nimport { Controls } from \"./elements/Controls\";\n\nexport const MixMode = ({\n  loop1,\n  loop2,\n  loop3,\n  loop4,\n  onPlayBtnPress,\n  onStopBtnPress,\n  toggleLoopActive,\n  toggleActiveNote,\n  highlightedNote,\n}) => {\n  return (\n    <div>\n      <div style={{ display: \"flex\", flexWrap: \"wrap\", alignItems: \"center\" }}>\n        <Section>\n          <Heading2>Mix</Heading2>\n        </Section>\n        <Controls\n          onPlayBtnPress={onPlayBtnPress}\n          onStopBtnPress={onStopBtnPress}\n        />\n        <Section>\n          <img\n            src=\"images/CassetteRemix.svg\"\n            alt=\"Cassette\"\n            width=\"100\"\n            height=\"auto\"\n          />\n        </Section>\n      </div>\n      <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n        <Loop\n          data={loop1}\n          toggleActiveNote={toggleActiveNote}\n          highlightedNote={highlightedNote}\n          toggleLoopActive={toggleLoopActive}\n        />\n        <Loop\n          data={loop2}\n          toggleActiveNote={toggleActiveNote}\n          highlightedNote={highlightedNote}\n          toggleLoopActive={toggleLoopActive}\n        />\n        <Loop\n          data={loop3}\n          toggleActiveNote={toggleActiveNote}\n          highlightedNote={highlightedNote}\n          toggleLoopActive={toggleLoopActive}\n        />\n        <Loop\n          data={loop4}\n          toggleActiveNote={toggleActiveNote}\n          highlightedNote={highlightedNote}\n          toggleLoopActive={toggleLoopActive}\n        />\n      </div>\n    </div>\n  );\n};\n","export const SET_PARTITION = \"SET_PARTITION\";\nexport const SET_INSTRUMENTS = \"SET_INSTRUMENTS\";\nexport const SET_HIGHLIGHTED_NOTE = \"SET_HIGHLIGHTED_NOTE\";\nexport const SET_BEAT_COUNTER = \"SET_BEAT_COUNTER\";\nexport const SET_IS_PLAYING = \"SET_IS_PLAYING\";\nexport const SET_LOOP_ACTIVE = \"SET_LOOP_ACTIVE\";\nexport const SET_TEMPO = \"SET_TEMPO\";\n","import {\n  SET_PARTITION,\n  SET_INSTRUMENTS,\n  SET_HIGHLIGHTED_NOTE,\n  SET_BEAT_COUNTER,\n  SET_IS_PLAYING,\n  SET_LOOP_ACTIVE,\n  SET_TEMPO,\n} from \"./types\";\n\nexport const djReducer = (state, action) => {\n  const { payload, type, loop } = action;\n\n  switch (type) {\n    case SET_PARTITION:\n      return {\n        ...state,\n        [loop]: {\n          ...state[loop],\n          partition: payload,\n        },\n      };\n    case SET_INSTRUMENTS:\n      return {\n        ...state,\n        [loop]: {\n          ...state[loop],\n          instruments: payload,\n        },\n      };\n\n    case SET_LOOP_ACTIVE:\n      return {\n        ...state,\n        [loop]: {\n          ...state[loop],\n          status: payload,\n        },\n      };\n\n    case SET_HIGHLIGHTED_NOTE:\n      return {\n        ...state,\n        highlightedNote: payload,\n      };\n    case SET_BEAT_COUNTER:\n      return {\n        ...state,\n        beatCounter: payload,\n      };\n    case SET_IS_PLAYING:\n      return {\n        ...state,\n        isPlaying: payload,\n      };\n    case SET_TEMPO:\n      return {\n        ...state,\n        tempo: payload,\n      };\n    default:\n      return state;\n  }\n};\n","import React, { useReducer } from \"react\";\nimport DjContext from \"./DjContext\";\nimport { djReducer } from \"./DjReducer\";\nimport {\n  SET_PARTITION,\n  SET_INSTRUMENTS,\n  SET_HIGHLIGHTED_NOTE,\n  SET_BEAT_COUNTER,\n  SET_IS_PLAYING,\n  SET_LOOP_ACTIVE,\n  SET_TEMPO,\n} from \"./types\";\n\nexport const DjState = (props) => {\n  let initialState = {\n    beatCounter: 0,\n    highlightedNote: -1,\n    isPlaying: false,\n    tempo: 120,\n    complexity: \"pro\",\n    loop1: {\n      name: \"Drums\",\n      instruments: [],\n      partition: [],\n      status: [[1]],\n    },\n    loop2: {\n      name: \"Percussion\",\n      instruments: [],\n      partition: [],\n      status: [[1]],\n    },\n    loop3: {\n      name: \"Bass\",\n      instruments: [],\n      partition: [],\n      status: [[1]],\n    },\n    loop4: {\n      name: \"Melody\",\n      instruments: [],\n      partition: [],\n      status: [[1]],\n    },\n  };\n\n  const [state, dispatch] = useReducer(djReducer, initialState);\n\n  const setPartition = (value, loop = \"loop1\") => {\n    dispatch({ type: SET_PARTITION, payload: value, loop });\n  };\n\n  const setInstruments = (value, loop = \"loop1\") => {\n    dispatch({ type: SET_INSTRUMENTS, payload: value, loop });\n  };\n\n  const setLoopActive = (value, loop = \"loop1\") => {\n    dispatch({ type: SET_LOOP_ACTIVE, payload: value, loop });\n  };\n\n  const setHighlightedNote = (value) => {\n    dispatch({ type: SET_HIGHLIGHTED_NOTE, payload: value });\n  };\n\n  const setBeatCounter = (value) => {\n    dispatch({ type: SET_BEAT_COUNTER, payload: value });\n  };\n\n  const setIsPlaying = (value) => {\n    dispatch({ type: SET_IS_PLAYING, payload: value });\n  };\n\n  const setTempo = (value) => {\n    dispatch({ type: SET_TEMPO, payload: value });\n  };\n\n  return (\n    <DjContext.Provider\n      value={{\n        beatCounter: state.beatCounter,\n        highlightedNote: state.highlightedNote,\n        isPlaying: state.isPlaying,\n        tempo: state.tempo,\n        loop1: state.loop1,\n        loop2: state.loop2,\n        loop3: state.loop3,\n        loop4: state.loop4,\n        setTempo,\n        setIsPlaying,\n        setLoopActive,\n        setHighlightedNote,\n        setBeatCounter,\n        setPartition,\n        setInstruments,\n      }}>\n      {props.children}\n    </DjContext.Provider>\n  );\n};\n","import React from \"react\";\nimport { Row, Column, PageLayout, Heading2, Heading3 } from \"../../ui-kit\";\n\nexport const Help = () => {\n  return (\n    <PageLayout>\n      <Row>\n        <Column>\n          <Heading2>Help</Heading2>\n        </Column>\n      </Row>\n      <Row>\n        <Column>\n          <p>\n            The 2 main sections of the app are \"Listen\", where you can browse,\n            check and play the music loops that are created, and \"Create\" where\n            you can create your own loops.\n          </p>\n        </Column>\n      </Row>\n      <Row>\n        <Column>\n          <Heading3>Create song</Heading3>\n          <p>\n            In the song creation space you see the music grid which is composed\n            of notes represented by gray squares, and a control panel at the\n            bottom:\n          </p>\n          <Row alignItems=\"center\" justifyContent=\"center\">\n            <Column alignItems=\"center\" justifyContent=\"center\">\n              <img src=\"images/music-grid-1.png\" alt=\"Music grid example\" />\n            </Column>\n          </Row>\n          <p>\n            On the music grid, the horizontal axis is the time, the vertical is\n            the array of instruments that are available to you. Let's first try\n            the default instruments.\n          </p>\n          <p>\n            By clicking on a square, it changes color as you activate a sound to\n            be played at a certain time in the loop. For example if you click on\n            the first square of the kick, a kick will be played at the\n            beginning.\n          </p>\n          <Row alignItems=\"center\" justifyContent=\"center\">\n            <Column alignItems=\"center\" justifyContent=\"center\">\n              <img src=\"images/music-grid-2.png\" alt=\"Music grid example\" />\n            </Column>\n          </Row>\n          <p>\n            Some instruments have only one sound, some have several, clicking\n            several times on the same square switches between different sounds.\n            Let's create a basic loop by switching on the notes (1 click) to\n            form the following pattern:\n          </p>\n          <Row alignItems=\"center\" justifyContent=\"center\">\n            <Column alignItems=\"center\" justifyContent=\"center\">\n              <img src=\"images/music-grid-3.png\" alt=\"Music grid example\" />\n            </Column>\n          </Row>\n          <p>\n            Press play and the magic happens! The notes are read as a sequence,\n            at a 120 tempo, 8 squares represent a second, so our loop is 1\n            second long.\n          </p>\n          <p>\n            To make the loop longer, press the \"+\" button next to \"bars\" and the\n            grid extends. When the grid is longer than 16 notes, it gets spread\n            on several pages that you can check and select using the page\n            selector:\n          </p>\n          <Row alignItems=\"center\" justifyContent=\"center\">\n            <Column alignItems=\"center\" justifyContent=\"center\">\n              <img\n                src=\"images/music-pages-selectors.png\"\n                alt=\"Page selectors example\"\n              />\n            </Column>\n          </Row>\n          <p>\n            You can add and remove instruments (grid lines) using the menu. Once\n            you are happy with your creation, click on \"save\" to keep it and\n            share it. To save, you will need to create a profile, but this takes\n            a couple of seconds. That's about it!\n          </p>\n        </Column>\n      </Row>\n      <Row>\n        <Column>\n          <Heading3>Have fun!</Heading3>\n        </Column>\n      </Row>\n    </PageLayout>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { HeaderLayout, HeaderTitle, MenuButton, Wrapper } from \"../../ui-kit\";\n\nconst linkStyle = {\n  textDecoration: \"none\",\n  color: \"black\",\n};\n\nconst textLinkStyle = {\n  textDecoration: \"none\",\n  color: \"black\",\n  padding: \"0 8px\",\n};\n\nexport const Header = (props) => {\n  return (\n    <HeaderLayout>\n      <Wrapper flexDirection=\"row\" justifyContent=\"space-between\">\n        <Link style={linkStyle} to=\"/\">\n          <HeaderTitle>Boum-Tchak!</HeaderTitle>\n        </Link>\n        <div\n          style={{ display: \"flex\", paddingRight: 20, alignItems: \"center\" }}>\n          <Link style={linkStyle} to=\"/listen\">\n            <MenuButton>Listen</MenuButton>\n          </Link>\n          <Link style={linkStyle} to=\"/create\">\n            <MenuButton>Create</MenuButton>\n          </Link>\n          <Link style={linkStyle} to=\"/mix\">\n            <MenuButton>Mix</MenuButton>\n          </Link>\n          {props.user ? (\n            <Link style={linkStyle} to=\"/profile\">\n              <MenuButton>Profile</MenuButton>\n            </Link>\n          ) : (\n            <Link style={textLinkStyle} to=\"/login\">\n              Login\n            </Link>\n          )}\n          <Link style={textLinkStyle} to=\"/help\">\n            Help\n          </Link>\n        </div>\n      </Wrapper>\n    </HeaderLayout>\n  );\n};\n","import React from \"react\";\nimport { CreateSong } from \"./modules/CreateSong/Container\";\nimport { SongsList } from \"./modules/DisplaySong/SongsList\";\nimport { LoadSong } from \"./modules/LoadSong/LoadSong\";\nimport { Login } from \"./modules/Auth/Login\";\nimport { Signup } from \"./modules/Auth/Signup\";\nimport { Profile } from \"./modules/Auth/Profile\";\nimport { ProtectedRoute } from \"./modules/Auth/ProtectedRoute\";\nimport { CreateInstrument } from \"./modules/CreateInstrument/CreateInstrument\";\nimport { MixMode } from \"./modules/MixMode/Container\";\nimport { DjState } from \"./modules/MixMode/context/DjState\";\nimport { Help } from \"./modules/InfoPages/Help\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { MainScreen, Wrapper, BackHeader } from \"./ui-kit\";\nimport { Header } from \"./modules/Header/Header\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  state = {\n    user: this.props.user,\n  };\n\n  setUser = (user) => {\n    this.setState({\n      user: user,\n    });\n  };\n\n  render() {\n    return (\n      <MainScreen>\n        <Header user={this.state.user} />\n        <Wrapper>\n          <BackHeader />\n          <Switch>\n            <Route\n              exact\n              path=\"/create\"\n              render={(props) => (\n                <CreateSong user={this.state.user} {...props} />\n              )}\n            />\n            <Route exact path=\"/help\" render={(props) => <Help {...props} />} />\n            <Route\n              exact\n              path=\"/create/:id\"\n              render={(props) => (\n                <CreateSong user={this.state.user} {...props} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/login\"\n              render={(props) => {\n                if (!this.state.user) {\n                  return <Login setUser={this.setUser} {...props} />;\n                } else {\n                  return <Redirect to=\"/\" />;\n                }\n              }}\n            />\n            <Route\n              exact\n              path=\"/signup\"\n              render={(props) => {\n                if (!this.state.user) {\n                  return <Signup setUser={this.setUser} {...props} />;\n                } else {\n                  return <Redirect to=\"/\" />;\n                }\n              }}\n            />\n            <ProtectedRoute\n              exact\n              path=\"/profile\"\n              user={this.state.user}\n              setUser={this.setUser}\n              component={Profile}\n            />\n            <ProtectedRoute\n              exact\n              path=\"/create-instrument\"\n              user={this.state.user}\n              setUser={this.setUser}\n              component={CreateInstrument}\n            />\n            <Route\n              exact\n              path=\"/\"\n              render={(props) => (\n                <SongsList isAppIntroDisplayed={true} {...props} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/listen\"\n              render={(props) => (\n                <SongsList isAppIntroDisplayed={false} {...props} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/load-song\"\n              render={(props) => {\n                if (this.state.user) {\n                  return <LoadSong user={this.state.user} {...props} />;\n                } else {\n                  return <Redirect to=\"/\" />;\n                }\n              }}\n            />\n            <Route\n              exact\n              path=\"/mix\"\n              render={(props) => {\n                return (\n                  <DjState>\n                    <MixMode />\n                  </DjState>\n                );\n              }}\n            />\n          </Switch>\n        </Wrapper>\n      </MainScreen>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const TYPE_1 = \"TYPE_1\";\nexport const SET_TEMPO = \"SET_TEMPO\";\nexport const SET_TIMEOUT_TEMPO = \"SET_TIMEOUT_TEMPO\";\nexport const SET_IS_NOTE_PLAYED_ON_CLICK = \"SET_IS_NOTE_PLAYED_ON_CLICK\";\nexport const SET_IS_ADD_INSTRUMENT_VISIBLE = \"SET_IS_ADD_INSTRUMENT_VISIBLE\";\nexport const SET_IS_SAVE_SONG_VISIBLE = \"SET_IS_SAVE_SONG_VISIBLE\";\nexport const SET_IS_PLAYING = \"SET_IS_PLAYING\";\nexport const SET_PARTITION = \"SET_PARTITION\";\nexport const SET_INSTRUMENTS = \"SET_INSTRUMENTS\";\nexport const SET_COPIED_PARTITION_BAR = \"SET_COPIED_PARTITION_BAR\";\nexport const SET_ANIMATED_NOTES = \"SET_ANIMATED_NOTES\";\nexport const SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nexport const SET_PAGES = \"SET_PAGES\";","import {\n  SET_TEMPO,\n  SET_TIMEOUT_TEMPO,\n  SET_IS_ADD_INSTRUMENT_VISIBLE,\n  SET_IS_NOTE_PLAYED_ON_CLICK,\n  SET_IS_SAVE_SONG_VISIBLE,\n  SET_IS_PLAYING,\n  SET_INSTRUMENTS,\n  SET_PARTITION,\n  SET_COPIED_PARTITION_BAR,\n  SET_ANIMATED_NOTES,\n  SET_CURRENT_PAGE,\n  SET_PAGES,\n} from \"./types\";\n\nexport const globalReducer = (state, action) => {\n  const { payload, type } = action;\n\n  switch (type) {\n    case SET_TEMPO:\n      return {\n        ...state,\n        tempo: payload,\n      };\n    case SET_TIMEOUT_TEMPO:\n      return {\n        ...state,\n        timeoutTempo: payload,\n      };\n    case SET_IS_ADD_INSTRUMENT_VISIBLE:\n      return {\n        ...state,\n        isAddInstrumentVisible: payload,\n      };\n    case SET_IS_NOTE_PLAYED_ON_CLICK:\n      return {\n        ...state,\n        isNotePlayedOnClick: payload,\n      };\n    case SET_IS_SAVE_SONG_VISIBLE:\n      return {\n        ...state,\n        isSaveSongVisible: payload,\n      };\n    case SET_IS_PLAYING:\n      return {\n        ...state,\n        isPlaying: payload,\n      };\n    case SET_INSTRUMENTS:\n      return {\n        ...state,\n        instruments: payload,\n      };\n    case SET_PARTITION:\n      return {\n        ...state,\n        partition: payload,\n      };\n    case SET_COPIED_PARTITION_BAR:\n      return {\n        ...state,\n        copiedPartitionBar: payload,\n      };\n    case SET_ANIMATED_NOTES:\n      return {\n        ...state,\n        animatedNotes: payload,\n      };\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: payload,\n      };\n    case SET_PAGES:\n      return {\n        ...state,\n        pages: payload,\n      };\n    default:\n      return state;\n  }\n};\n","import React, { useReducer } from \"react\";\nimport { config } from \"../../../config/config\";\n\nimport GlobalContext from \"./GlobalContext\";\nimport { globalReducer } from \"./GlobalReducer\";\nimport {\n  SET_TEMPO,\n  SET_TIMEOUT_TEMPO,\n  SET_IS_SAVE_SONG_VISIBLE,\n  SET_IS_NOTE_PLAYED_ON_CLICK,\n  SET_IS_ADD_INSTRUMENT_VISIBLE,\n  SET_IS_PLAYING,\n  SET_INSTRUMENTS,\n  SET_PARTITION,\n  SET_COPIED_PARTITION_BAR,\n  SET_ANIMATED_NOTES,\n  SET_CURRENT_PAGE,\n  SET_PAGES,\n} from \"./types\";\n\nexport const GlobalState = (props) => {\n  let initialState = {\n    isPLaying: false,\n    instruments: [],\n    partition: [],\n    copiedPartitionBar: null,\n    partitionLength: config.START_PARTITION_LENGTH,\n    maxPartitionLength: config.MAX_PARTITION_LENGTH,\n    tempo: config.DEFAULT_TEMPO,\n    timeoutTempo: config.DEFAULT_TIMEOUT,\n    isNotePlayedOnClick: true,\n    isAddInstrumentVisible: false,\n    isSaveSongVisible: false,\n    animatedNotes: [],\n    currentPage: 1,\n    pages: [1],\n  };\n\n  const [state, dispatch] = useReducer(globalReducer, initialState);\n\n  const setTempo = (value) => {\n    dispatch({ type: SET_TEMPO, payload: value });\n  };\n\n  const setTimeoutTempo = (value) => {\n    dispatch({ type: SET_TIMEOUT_TEMPO, payload: value });\n  };\n\n  const setIsNotePlayedOnClick = (value) => {\n    dispatch({ type: SET_IS_NOTE_PLAYED_ON_CLICK, payload: value });\n  };\n  const toggleIsAddInstrumentVisible = () => {\n    const newValue = !state.isAddInstrumentVisible;\n    dispatch({ type: SET_IS_ADD_INSTRUMENT_VISIBLE, payload: newValue });\n  };\n  const setIsSaveSongVisible = (value) => {\n    dispatch({ type: SET_IS_SAVE_SONG_VISIBLE, payload: value });\n  };\n\n  const setIsPlaying = (value) => {\n    dispatch({ type: SET_IS_PLAYING, payload: value });\n  };\n\n  const setInstruments = (value) => {\n    dispatch({ type: SET_INSTRUMENTS, payload: value });\n  };\n\n  const setPartition = (value) => {\n    dispatch({ type: SET_PARTITION, payload: value });\n  };\n\n  const setAnimatedNotes = (value) => {\n    dispatch({ type: SET_ANIMATED_NOTES, payload: value });\n  };\n\n  const setCurrentPage = (value) => {\n    dispatch({ type: SET_CURRENT_PAGE, payload: value });\n  };\n\n  const setPages = (value) => {\n    dispatch({ type: SET_PAGES, payload: value });\n  };\n\n  const deleteLine = (lineNumber) => {\n    const updatedPartition = [...state.partition];\n    const updatedInstruments = [...state.instruments];\n    updatedPartition.splice(lineNumber, 1);\n    updatedInstruments.splice(lineNumber, 1);\n    setPartition(updatedPartition);\n    setInstruments(updatedInstruments);\n  };\n\n  const copyOneBar = (barIndex) => {\n    const newCopiedBar = [];\n    const startIndex = 4 * barIndex;\n    const endIndex = startIndex + 3;\n    state.partition.forEach((el) => {\n      const newLine = [];\n      for (let i = startIndex; i <= endIndex; i++) {\n        newLine.push(el[i]);\n      }\n      newCopiedBar.push(newLine);\n    });\n    dispatch({ type: SET_COPIED_PARTITION_BAR, payload: newCopiedBar });\n  };\n\n  const pasteOneBar = (barIndex) => {\n    const updatedPartition = [];\n    const partitionLength = state.partition[0].length;\n    const startIndex = 4 * barIndex;\n    const endIndex = startIndex + 3;\n    state.partition.forEach((el, index) => {\n      const newLine = [];\n      let offset = 0;\n      for (let i = 0; i < partitionLength; i++) {\n        if (i >= startIndex && i <= endIndex) {\n          newLine.push(state.copiedPartitionBar[index][0 + offset]);\n          offset++;\n        } else {\n          newLine.push(el[i]);\n        }\n      }\n      updatedPartition.push(newLine);\n    });\n    dispatch({ type: SET_PARTITION, payload: updatedPartition });\n  };\n\n  return (\n    <GlobalContext.Provider\n      value={{\n        tempo: state.tempo,\n        isPlaying: state.isPlaying,\n        instruments: state.instruments,\n        partition: state.partition,\n        copiedPartitionBar: state.copiedPartitionBar,\n        timeoutTempo: state.timeoutTempo,\n        isNotePlayedOnClick: state.isNotePlayedOnClick,\n        isAddInstrumentVisible: state.isAddInstrumentVisible,\n        isSaveSongVisible: state.isSaveSongVisible,\n        animatedNotes: state.animatedNotes,\n        currentPage: state.currentPage,\n        pages: state.pages,\n        setTempo,\n        setIsPlaying,\n        setInstruments,\n        setPartition,\n        copyOneBar,\n        pasteOneBar,\n        setTimeoutTempo,\n        setIsNotePlayedOnClick,\n        toggleIsAddInstrumentVisible,\n        setIsSaveSongVisible,\n        deleteLine,\n        setAnimatedNotes,\n        setCurrentPage,\n        setPages,\n      }}>\n      {props.children}\n    </GlobalContext.Provider>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { GlobalState } from \"./modules/CreateSong/context/GlobalState\";\nimport axios from \"axios\";\n\nconst renderApp = async () => {\n  const authResponse = await axios.get(\"/api/auth/loggedin\");\n  const user = authResponse.data;\n  ReactDOM.render(\n    <BrowserRouter>\n      <GlobalState>\n        <App user={user} />\n      </GlobalState>\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n  );\n};\nrenderApp();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}